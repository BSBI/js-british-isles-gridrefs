{"version":3,"file":"gridrefutils.js","sources":["../node_modules/core-js/internals/global.js","../node_modules/core-js/internals/fails.js","../node_modules/core-js/internals/descriptors.js","../node_modules/core-js/internals/function-bind-native.js","../node_modules/core-js/internals/function-call.js","../node_modules/core-js/internals/object-property-is-enumerable.js","../node_modules/core-js/internals/engine-v8-version.js","../node_modules/core-js/internals/create-property-descriptor.js","../node_modules/core-js/internals/function-uncurry-this.js","../node_modules/core-js/internals/classof-raw.js","../node_modules/core-js/internals/indexed-object.js","../node_modules/core-js/internals/require-object-coercible.js","../node_modules/core-js/internals/to-indexed-object.js","../node_modules/core-js/internals/is-callable.js","../node_modules/core-js/internals/is-object.js","../node_modules/core-js/internals/get-built-in.js","../node_modules/core-js/internals/object-is-prototype-of.js","../node_modules/core-js/internals/engine-user-agent.js","../node_modules/core-js/internals/native-symbol.js","../node_modules/core-js/internals/use-symbol-as-uid.js","../node_modules/core-js/internals/is-symbol.js","../node_modules/core-js/internals/try-to-string.js","../node_modules/core-js/internals/a-callable.js","../node_modules/core-js/internals/get-method.js","../node_modules/core-js/internals/ordinary-to-primitive.js","../node_modules/core-js/internals/set-global.js","../node_modules/core-js/internals/shared-store.js","../node_modules/core-js/internals/shared.js","../node_modules/core-js/internals/to-object.js","../node_modules/core-js/internals/has-own-property.js","../node_modules/core-js/internals/uid.js","../node_modules/core-js/internals/well-known-symbol.js","../node_modules/core-js/internals/to-primitive.js","../node_modules/core-js/internals/to-property-key.js","../node_modules/core-js/internals/document-create-element.js","../node_modules/core-js/internals/ie8-dom-define.js","../node_modules/core-js/internals/object-get-own-property-descriptor.js","../node_modules/core-js/internals/v8-prototype-define-bug.js","../node_modules/core-js/internals/an-object.js","../node_modules/core-js/internals/object-define-property.js","../node_modules/core-js/internals/create-non-enumerable-property.js","../node_modules/core-js/internals/inspect-source.js","../node_modules/core-js/internals/internal-state.js","../node_modules/core-js/internals/native-weak-map.js","../node_modules/core-js/internals/shared-key.js","../node_modules/core-js/internals/hidden-keys.js","../node_modules/core-js/internals/function-name.js","../node_modules/core-js/internals/redefine.js","../node_modules/core-js/internals/to-integer-or-infinity.js","../node_modules/core-js/internals/to-absolute-index.js","../node_modules/core-js/internals/to-length.js","../node_modules/core-js/internals/length-of-array-like.js","../node_modules/core-js/internals/array-includes.js","../node_modules/core-js/internals/object-keys-internal.js","../node_modules/core-js/internals/enum-bug-keys.js","../node_modules/core-js/internals/object-get-own-property-names.js","../node_modules/core-js/internals/object-get-own-property-symbols.js","../node_modules/core-js/internals/own-keys.js","../node_modules/core-js/internals/copy-constructor-properties.js","../node_modules/core-js/internals/is-forced.js","../node_modules/core-js/internals/export.js","../node_modules/core-js/internals/to-string-tag-support.js","../node_modules/core-js/internals/classof.js","../node_modules/core-js/internals/to-string.js","../node_modules/core-js/internals/regexp-flags.js","../node_modules/core-js/internals/regexp-sticky-helpers.js","../node_modules/core-js/internals/object-keys.js","../node_modules/core-js/internals/object-define-properties.js","../node_modules/core-js/internals/html.js","../node_modules/core-js/internals/object-create.js","../node_modules/core-js/internals/regexp-exec.js","../node_modules/core-js/internals/regexp-unsupported-dot-all.js","../node_modules/core-js/internals/regexp-unsupported-ncg.js","../node_modules/core-js/modules/es.regexp.exec.js","../node_modules/core-js/internals/function-apply.js","../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../node_modules/core-js/internals/string-multibyte.js","../node_modules/core-js/internals/advance-string-index.js","../node_modules/core-js/internals/get-substitution.js","../node_modules/core-js/internals/regexp-exec-abstract.js","../node_modules/core-js/modules/es.string.replace.js","../node_modules/core-js/modules/es.regexp.test.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/core-js/internals/a-possible-prototype.js","../node_modules/core-js/internals/object-set-prototype-of.js","../node_modules/core-js/internals/inherit-if-required.js","../node_modules/core-js/internals/normalize-string-argument.js","../node_modules/core-js/internals/install-error-cause.js","../node_modules/core-js/internals/clear-error-stack.js","../node_modules/core-js/internals/error-stack-installable.js","../node_modules/core-js/internals/wrap-error-constructor-with-cause.js","../node_modules/core-js/modules/es.error.cause.js","../src/GridRef/GridRef.js","../node_modules/core-js/internals/object-to-string.js","../node_modules/core-js/modules/es.object.to-string.js","../node_modules/core-js/internals/set-to-string-tag.js","../node_modules/core-js/modules/es.reflect.to-string-tag.js","../node_modules/core-js/internals/array-slice.js","../node_modules/core-js/internals/function-bind.js","../node_modules/core-js/internals/is-constructor.js","../node_modules/core-js/internals/a-constructor.js","../node_modules/core-js/modules/es.reflect.construct.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/core-js/internals/string-trim.js","../node_modules/core-js/internals/number-parse-int.js","../node_modules/core-js/modules/es.parse-int.js","../node_modules/core-js/internals/math-log10.js","../node_modules/core-js/modules/es.math.log10.js","../node_modules/core-js/internals/is-array.js","../node_modules/core-js/internals/create-property.js","../node_modules/core-js/internals/array-method-has-species-support.js","../node_modules/core-js/modules/es.array.slice.js","../node_modules/core-js/internals/array-method-is-strict.js","../node_modules/core-js/modules/es.array.index-of.js","../node_modules/core-js/modules/es.regexp.to-string.js","../src/constants.js","../src/LatLng/LatLng.js","../src/LatLng/LatLngWGS84.js","../src/LatLng/LatLngGB.js","../src/LatLng/LatLngIE.js","../src/LatLng/LatLngCI.js","../src/GridCoords/GridCoords.js","../src/GridRef/GridRefCI.js","../node_modules/core-js/modules/es.string.match.js","../src/GridRef/GridRefGB.js","../src/GridRef/GridRefIE.js","../src/GridRef/parser.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar uncurryThis = NATIVE_BIND && bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? function (fn) {\n  return fn && uncurryThis(fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar Object = global.Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : Object(it);\n} : Object;\n","var global = require('../internals/global');\n\nvar TypeError = global.TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Object = global.Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, Object(it));\n};\n","var global = require('../internals/global');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  try {\n    return String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar TypeError = global.TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a function');\n};\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar TypeError = global.TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.21.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: 'Â© 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","var global = require('../internals/global');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar Object = global.Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TypeError = global.TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw TypeError(String(argument) + ' is not an object');\n};\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar TypeError = global.TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var name = options && options.name !== undefined ? options.name : key;\n  var state;\n  if (isCallable(value)) {\n    if (String(name).slice(0, 7) === 'Symbol(') {\n      name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n    }\n    if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n      createNonEnumerableProperty(value, 'name', name);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n});\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- safe\n  return number !== number || number === 0 ? 0 : (number > 0 ? floor : ceil)(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n  options.name        - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var global = require('../internals/global');\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar Object = global.Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var global = require('../internals/global');\nvar classof = require('../internals/classof');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var uncurriedNativeMethod = uncurryThis(nativeMethod);\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };\n        }\n        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar TypeError = global.TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getMethod = require('../internals/get-method');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\nvar concat = uncurryThis([].concat);\nvar push = uncurryThis([].push);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : getMethod(searchValue, REPLACE);\n      return replacer\n        ? call(replacer, searchValue, O, replaceValue)\n        : call(nativeReplace, toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue == 'string' &&\n        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&\n        stringIndexOf(replaceValue, '$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = isCallable(replaceValue);\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        push(results, result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = concat([matched], captures, position, S);\n          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);\n          var replacement = toString(apply(replaceValue, undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + stringSlice(S, nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw TypeError(\"Can't set \" + String(argument) + ' as a prototype');\n};\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String(Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string') {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","\r\nexport class GridRef {\r\n\r\n  /**\r\n   * x,y offsets (in metres) for tetrad letter codes\r\n   * @type {Object.<string,Array.<number>>}\r\n   */\r\n  static tetradOffsets = {\r\n    E: [0, 8000], J: [2000, 8000], P: [4000, 8000], U: [6000, 8000], Z: [8000, 8000],\r\n    D: [0, 6000], I: [2000, 6000], N: [4000, 6000], T: [6000, 6000], Y: [8000, 6000],\r\n    C: [0, 4000], H: [2000, 4000], M: [4000, 4000], S: [6000, 4000], X: [8000, 4000],\r\n    B: [0, 2000], G: [2000, 2000], L: [4000, 2000], R: [6000, 2000], W: [8000, 2000],\r\n    A: [0, 0], F: [2000, 0], K: [4000, 0], Q: [6000, 0], V: [8000, 0]\r\n  };\r\n\r\n  /**\r\n   * x,y offsets (in metres) for quadrant codes\r\n   * @type {{SE: number[], SW: number[], NE: number[], NW: number[]}}\r\n   */\r\n  static quadrantOffsets = {\r\n    NW: [0, 5000],\r\n    NE: [5000, 5000],\r\n    SW: [0, 0],\r\n    SE: [5000, 0]\r\n  };\r\n\r\n  /**\r\n   * numerical mapping of letters to numbers\r\n   * 'I' is omitted\r\n   *\r\n   * @type {{A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number, J: number, K: number, L: number, M: number, N: number, O: number, P: number, Q: number, R: number, S: number, T: number, U: number, V: number, W: number, X: number, Y: number, Z: number}}\r\n   */\r\n  static letterMapping = {\r\n    A: 0, B: 1, C: 2, D: 3, E: 4, F: 5, G: 6, H: 7, J: 8, K: 9,\r\n    L: 10, M: 11, N: 12, O: 13, P: 14, Q: 15, R: 16, S: 17, T: 18,\r\n    U: 19, V: 20, W: 21, X: 22, Y: 23, Z: 24\r\n  };\r\n\r\n  /**\r\n   * tetrad letters ordered by easting then northing (steps of 2000m)\r\n   * i.e. (x*4) + y\r\n   *\r\n   * where x and y are integer of (10km remainder / 2)\r\n   *\r\n   * @type {string}\r\n   */\r\n  static tetradLetters = 'ABCDEFGHIJKLMNPQRSTUVWXYZ';\r\n\r\n  /**\r\n   *\r\n   * @type {string}\r\n   */\r\n  preciseGridRef = '';\r\n\r\n  /**\r\n   * length in m (0 marks an invalid value)\r\n   *\r\n   * @type {number}\r\n   */\r\n  length = 0;\r\n\r\n  /**\r\n   * @type {string}\r\n   */\r\n  hectad = '';\r\n\r\n  /**\r\n   * 10km ref with tetrad suffix or ''\r\n   * e.g. SD59A\r\n   * @type {string}\r\n   */\r\n  tetrad = '';\r\n\r\n  /**\r\n   *\r\n   * @type {string}\r\n   */\r\n  tetradLetter = '';\r\n\r\n  /**\r\n   * quadrant gridref(e.g. NZ34NW)\r\n   * only set if gridref is defined at 5km or <=1km precision\r\n   * undefined by default so need to use getter\r\n   *\r\n   * read using GridRef::get_quadrant\r\n   *\r\n   * @type {string}\r\n   */\r\n  quadrant = '';\r\n\r\n  /**\r\n   * quadrant code suffix(e.g. NW, NE, SW, SE)\r\n   *\r\n   * @type {string}\r\n   */\r\n  quadrantCode = '';\r\n\r\n  /**\r\n   *\r\n   * @type {GridCoords|null}\r\n   */\r\n  gridCoords = null;\r\n\r\n  /**\r\n   *\r\n   * @type {boolean}\r\n   */\r\n  error = false;\r\n\r\n  /**\r\n   *\r\n   * @type {string}\r\n   */\r\n  errorMessage = '';\r\n\r\n  /**\r\n   * update tetrad using Easting/Northing values (metres)\r\n   * hectad should have been set prior to call\r\n   */\r\n  set_tetrad() {\r\n    // this.tetradLetter = GridRef.tetradLetters.substr(\r\n    //     ((Math.floor((this.gridCoords.x % 10000) / 1000) >> 1) * 5) + (Math.floor((this.gridCoords.y % 10000) / 1000) >> 1)\r\n    //     , 1);\r\n    this.tetradLetter = GridRef.tetradLetters.charAt(\r\n        ((Math.floor((this.gridCoords.x % 10000) / 1000) >> 1) * 5) + (Math.floor((this.gridCoords.y % 10000) / 1000) >> 1));\r\n\r\n    if (!this.tetradLetter) {\r\n      throw new Error(\"Failed to get tetrad letter when processing '\" + this.preciseGridRef + \"', easting=\" + this.gridCoords.x + \" northing=\" + this.gridCoords.y);\r\n    }\r\n    this.tetrad = this.hectad + this.tetradLetter;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {number} rawPrecision\r\n   * @param {number} [minPrecision]\r\n   * @returns {number}\r\n   */\r\n  static get_normalized_precision(rawPrecision, minPrecision) {\r\n      return rawPrecision > 2000 ? 10000 :\r\n          (rawPrecision > 1000 ? 2000 :\r\n                  (rawPrecision > 100 ? 1000 :\r\n                          (rawPrecision > 10 ? 100 :\r\n                                  (rawPrecision > 1 ? 10 :\r\n                                          minPrecision ? minPrecision : 1\r\n                                  )\r\n                          )\r\n                  )\r\n          );\r\n  }\r\n}\r\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn(target, TO_STRING_TAG)) {\n    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n$({ global: true }, { Reflect: {} });\n\n// Reflect[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-reflect-@@tostringtag\nsetToStringTag(global.Reflect, 'Reflect', true);\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","'use strict';\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar arraySlice = require('../internals/array-slice');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar Function = global.Function;\nvar concat = uncurryThis([].concat);\nvar join = uncurryThis([].join);\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!hasOwn(factories, argsLength)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    factories[argsLength] = Function('C,a', 'return new C(' + join(list, ',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = NATIVE_BIND ? Function.bind : function bind(that /* , ...args */) {\n  var F = aCallable(this);\n  var Prototype = F.prototype;\n  var partArgs = arraySlice(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = concat(partArgs, arraySlice(arguments));\n    return this instanceof boundFunction ? construct(F, args.length, args) : F.apply(that, args);\n  };\n  if (isObject(Prototype)) boundFunction.prototype = Prototype;\n  return boundFunction;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","var global = require('../internals/global');\nvar isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar TypeError = global.TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a constructor');\n};\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar bind = require('../internals/function-bind');\nvar aConstructor = require('../internals/a-constructor');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\nvar ObjectPrototype = Object.prototype;\nvar push = [].push;\n\n// `Reflect.construct` method\n// https://tc39.es/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\n\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\n\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aConstructor(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aConstructor(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      apply(push, $args, args);\n      return new (apply(bind, Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : ObjectPrototype);\n    var result = apply(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar Symbol = global.Symbol;\nvar ITERATOR = Symbol && Symbol.iterator;\nvar hex = /^[+-]?0x/i;\nvar exec = uncurryThis(hex.exec);\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22\n  // MS Edge 18- broken with boxed symbols\n  || (ITERATOR && !fails(function () { $parseInt(Object(ITERATOR)); }));\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(toString(string));\n  return $parseInt(S, (radix >>> 0) || (exec(hex, S) ? 16 : 10));\n} : $parseInt;\n","var $ = require('../internals/export');\nvar $parseInt = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != $parseInt }, {\n  parseInt: $parseInt\n});\n","var log = Math.log;\nvar LOG10E = Math.LOG10E;\n\n// eslint-disable-next-line es/no-math-log10 -- safe\nmodule.exports = Math.log10 || function log10(x) {\n  return log(x) * LOG10E;\n};\n","var $ = require('../internals/export');\nvar log10 = require('../internals/math-log10');\n\n// `Math.log10` method\n// https://tc39.es/ecma262/#sec-math.log10\n$({ target: 'Math', stat: true }, {\n  log10: log10\n});\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar un$Slice = require('../internals/array-slice');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar Array = global.Array;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = lengthOfArrayLike(O);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return un$Slice(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\n/* eslint-disable es/no-array-prototype-indexof -- required for testing */\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar $IndexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$IndexOf = uncurryThis([].indexOf);\n\nvar NEGATIVE_ZERO = !!un$IndexOf && 1 / un$IndexOf([1], 1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    var fromIndex = arguments.length > 1 ? arguments[1] : undefined;\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? un$IndexOf(this, searchElement, fromIndex) || 0\n      : $IndexOf(this, searchElement, fromIndex);\n  }\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\nvar getFlags = uncurryThis(regExpFlags);\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && isPrototypeOf(RegExpPrototype, R) && !('flags' in RegExpPrototype) ? getFlags(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","export const deg2rad = Math.PI / 180;\r\nexport const rad2deg = 180.0 / Math.PI;\r\n\r\n","import { deg2rad } from '../constants';\r\n\r\nexport class LatLng {\r\n\r\n\t/**\r\n\t * @type {number}\r\n\t */\r\n\tlat;\r\n\r\n\t/**\r\n\t * @type {number}\r\n\t */\r\n\tlng;\r\n\r\n\t/**\r\n\t * represents lat lng\r\n\t *\r\n\t * @param {number} lat\r\n\t * @param {number} lng\r\n\t * @constructor\r\n\t */\r\n\tconstructor(lat, lng) {\r\n\t\tthis.lat = lat;\r\n\t\tthis.lng = lng;\r\n\t};\r\n\r\n\tstatic _transform(lat, lon, a, e, h, a2, e2, xp, yp, zp, xr, yr, zr, s) {\r\n\t\t// convert to cartesian; lat, lon are radians\r\n\t\tconst sf = s * 0.000001;\r\n\t\tlet v = a / (Math.sqrt(1 - (e * (Math.sin(lat) * Math.sin(lat)))));\r\n\t\tconst x = (v + h) * Math.cos(lat) * Math.cos(lon);\r\n\t\tconst y = (v + h) * Math.cos(lat) * Math.sin(lon);\r\n\t\tconst z = ((1 - e) * v + h) * Math.sin(lat);\r\n\t\t// transform cartesian\r\n\t\tconst xrot = (xr / 3600) * deg2rad;\r\n\t\tconst yrot = (yr / 3600) * deg2rad;\r\n\t\tconst zrot = (zr / 3600) * deg2rad;\r\n\t\tconst hx = x + (x * sf) - (y * zrot) + (z * yrot) + xp;\r\n\t\tconst hy = (x * zrot) + y + (y * sf) - (z * xrot) + yp;\r\n\t\tconst hz = (-1 * x * yrot) + (y * xrot) + z + (z * sf) + zp;\r\n\t\t// Convert back to lat, lon\r\n\t\tlon = Math.atan(hy / hx);\r\n\t\tconst p = Math.sqrt((hx * hx) + (hy * hy));\r\n\t\tlat = Math.atan(hz / (p * (1 - e2)));\r\n\t\tv = a2 / (Math.sqrt(1 - e2 * (Math.sin(lat) * Math.sin(lat))));\r\n\t\tlet errvalue = 1.0;\r\n\t\tlet lat0 = 0;\r\n\t\twhile (errvalue > 0.001) {\r\n\t\t\tlat0 = Math.atan((hz + e2 * v * Math.sin(lat)) / p);\r\n\t\t\terrvalue = Math.abs(lat0 - lat);\r\n\t\t\tlat = lat0;\r\n\t\t}\r\n\t\t//h = p / Math.cos(lat) - v;\r\n\t\t//var geo = { latitude: lat, longitude: lon, height: h };  // object to hold lat and lon\r\n\t\treturn (new LatLng(lat, lon));\r\n\t}\r\n\r\n\t//helper\r\n\tstatic _Marc(bf0, n, phi0, phi) {\r\n\t\treturn bf0 * (((1 + n + ((5 / 4) * (n * n)) + ((5 / 4) * (n * n * n))) * (phi - phi0))\r\n\t\t\t- (((3 * n) + (3 * (n * n)) + ((21 / 8) * (n * n * n))) * (Math.sin(phi - phi0)) * (Math.cos(phi + phi0)))\r\n\t\t\t+ ((((15 / 8) * (n * n)) + ((15 / 8) * (n * n * n))) * (Math.sin(2 * (phi - phi0))) * (Math.cos(2 * (phi + phi0))))\r\n\t\t\t- (((35 / 24) * (n * n * n)) * (Math.sin(3 * (phi - phi0))) * (Math.cos(3 * (phi + phi0)))));\r\n\t};\r\n\r\n}\r\n","/**\r\n * represents lat lng as WGS84 (google map form)\r\n *\r\n * @param {number} lat\r\n * @param {number} lng\r\n * @constructor\r\n */\r\nimport {LatLng} from \"./LatLng\";\r\n\r\nexport class LatLngWGS84 extends LatLng {\r\n  constructor(lat, lng) {\r\n    super(lat, lng);\r\n  }\r\n}\r\n","import { LatLng } from './LatLng';\r\nimport { LatLngWGS84 } from './LatLngWGS84';\r\n//import { GridCoordsGB } from '../GridCoords/GridCoordsGB';\r\nimport { deg2rad, rad2deg } from '../constants';\r\n\r\n// export const LatLngGB = /*@__PURE__*/(function() {\r\n/**\r\n * represents lat lng as OSGB1936 (Ordnance Survey projection)\r\n *\r\n * @param {number} lat\r\n * @param {number} lng\r\n * @constructor\r\n */\r\nexport class LatLngGB extends LatLng {\r\n\r\n    constructor(lat, lng) {\r\n        super(lat, lng);\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @returns {LatLngWGS84}\r\n     */\r\n    to_WGS84() {\r\n        //airy1830 = new RefEll(6377563.396, 6356256.909);\r\n        let a = 6377563.396; //airy1830.maj;\r\n        //var b        = 6356256.909; //airy1830.min;\r\n        let eSquared = 0.00667054007; // ((maj * maj) - (min * min)) / (maj * maj); // airy1830.ecc;\r\n        const phi = this.lat * deg2rad; // (Math.PI / 180)(this.lat);\r\n        const sinPhi = Math.sin(phi);\r\n        const lambda = this.lng * deg2rad; // (Math.PI / 180)(this.lng);\r\n        const v = a / (Math.sqrt(1 - eSquared * (sinPhi * sinPhi)));\r\n        //H = 0; // height\r\n        const x = v * Math.cos(phi) * Math.cos(lambda);\r\n        const y = v * Math.cos(phi) * Math.sin(lambda);\r\n        const z = ((1 - eSquared) * v) * sinPhi;\r\n\r\n        const tx = 446.448;\r\n        const ty = -124.157;\r\n        const tz = 542.060;\r\n        const s = -0.0000204894;\r\n        const rx = 0.000000728190110241429; // (Math.PI / 180)( 0.00004172222);\r\n        const ry = 0.000001197489772948010; // (Math.PI / 180)( 0.00006861111);\r\n        const rz = 0.000004082615892268120; // (Math.PI / 180)( 0.00023391666);\r\n\r\n        const xB = tx + (x * (1 + s)) + (-rx * y) + (ry * z);\r\n        const yB = ty + (rz * x) + (y * (1 + s)) + (-rx * z);\r\n        const zB = tz + (-ry * x) + (rx * y) + (z * (1 + s));\r\n\r\n        //wgs84 = new RefEll(6378137.000, 6356752.3141);\r\n        a = 6378137.000; // wgs84.maj;\r\n        //var b        = 6356752.3141; // wgs84.min;\r\n        eSquared = 0.00669438003;// ((maj * maj) - (min * min)) / (maj * maj); //wgs84.ecc;\r\n\r\n        //lambdaB = (180 / Math.PI)(Math.atan(yB / xB));\r\n        const p = Math.sqrt((xB * xB) + (yB * yB));\r\n        let phiN = Math.atan(zB / (p * (1 - eSquared)));\r\n\r\n        for (let i = 1; i < 10; ++i) {\r\n            let sinPhiN = Math.sin(phiN); // this must be in the for loop as phiN is variable\r\n            phiN = Math.atan((zB + (eSquared * (a / (Math.sqrt(1 - eSquared * (sinPhiN * sinPhiN)))) * sinPhiN)) / p);\r\n        }\r\n\r\n        //this.lat = rad2deg * phiN;\r\n        //this.lng = rad2deg * (Math.atan(yB / xB)); // lambdaB;\r\n\r\n        return new LatLngWGS84(rad2deg * phiN, rad2deg * (Math.atan(yB / xB)));\r\n    };\r\n\r\n// /**\r\n//  * converts lat and lon (OSGB36) to OS northings and eastings\r\n//  *\r\n//  * @returns {GridCoordsGB}\r\n//  */\r\n// LatLngGB.prototype.to_os_coords = function() {\r\n//     var phi = this.lat * deg2rad; // convert latitude to radians\r\n//     var lam = this.lng * deg2rad; // convert longitude to radians\r\n//     var a = 6377563.396; // OSGB semi-major axis\r\n//     var b = 6356256.91; // OSGB semi-minor axis\r\n//     var e0 = 400000; // easting of false origin\r\n//     var n0 = -100000; // northing of false origin\r\n//     var f0 = 0.9996012717; // OSGB scale factor on central meridian\r\n//     var e2 = 0.0066705397616; // OSGB eccentricity squared\r\n//     var lam0 = -0.034906585039886591; // OSGB false east\r\n//     var phi0 = 0.85521133347722145; // OSGB false north\r\n//     var af0 = a * f0;\r\n//     var bf0 = b * f0;\r\n//\r\n//     // easting\r\n//     var slat2 = Math.sin(phi) * Math.sin(phi);\r\n//     var nu = af0 / (Math.sqrt(1 - (e2 * (slat2))));\r\n//     var rho = (nu * (1 - e2)) / (1 - (e2 * slat2));\r\n//     var eta2 = (nu / rho) - 1;\r\n//     var p = lam - lam0;\r\n//     var IV = nu * Math.cos(phi);\r\n//     var clat3 = Math.pow(Math.cos(phi), 3);\r\n//     var tlat2 = Math.tan(phi) * Math.tan(phi);\r\n//     var V = (nu / 6) * clat3 * ((nu / rho) - tlat2);\r\n//     var clat5 = Math.pow(Math.cos(phi), 5);\r\n//     var tlat4 = Math.pow(Math.tan(phi), 4);\r\n//     var VI = (nu / 120) * clat5 * ((5 - (18 * tlat2)) + tlat4 + (14 * eta2) - (58 * tlat2 * eta2));\r\n//     var east = e0 + (p * IV) + (Math.pow(p, 3) * V) + (Math.pow(p, 5) * VI);\r\n//\r\n//     // northing\r\n//     var n = (af0 - bf0) / (af0 + bf0);\r\n//     var M = LatLng._Marc(bf0, n, phi0, phi);\r\n//     var I = M + (n0);\r\n//     var II = (nu / 2) * Math.sin(phi) * Math.cos(phi);\r\n//     var III = ((nu / 24) * Math.sin(phi) * Math.pow(Math.cos(phi), 3)) * (5 - Math.pow(Math.tan(phi), 2) + (9 * eta2));\r\n//     var IIIA = ((nu / 720) * Math.sin(phi) * clat5) * (61 - (58 * tlat2) + tlat4);\r\n//     var north = I + ((p * p) * II) + (Math.pow(p, 4) * III) + (Math.pow(p, 6) * IIIA);\r\n//\r\n// \treturn new GridCoordsGB(Math.round(east), Math.round(north));\r\n// };\r\n\r\n    /**\r\n     *\r\n     * @param {LatLngWGS84} latLngWGS84\r\n     * @returns {LatLngGB}\r\n     */\r\n    static from_wgs84(latLngWGS84) {\r\n\r\n        //first off convert to radians\r\n        const radWGlat = latLngWGS84.lat * deg2rad;\r\n        const radWGlon = latLngWGS84.lng * deg2rad;\r\n        //these are the values for WGS84(GRS80) to OSGB36(Airy)\r\n        const a = 6378137; // WGS84_AXIS\r\n        const e = 0.00669438037928458; // WGS84_ECCENTRIC\r\n        //var h = height; // height above datum (from GPGGA sentence)\r\n        const h = 0;\r\n        const a2 = 6377563.396; // OSGB_AXIS\r\n        const e2 = 0.0066705397616; // OSGB_ECCENTRIC\r\n        const xp = -446.448;\r\n        const yp = 125.157;\r\n        const zp = -542.06;\r\n        const xr = -0.1502;\r\n        const yr = -0.247;\r\n        const zr = -0.8421;\r\n        const s = 20.4894;\r\n\r\n        // convert to cartesian; lat, lon are in radians\r\n        const sf = s * 0.000001;\r\n        let v = a / (Math.sqrt(1 - (e * Math.sin(radWGlat) * Math.sin(radWGlat))));\r\n        const x = (v + h) * Math.cos(radWGlat) * Math.cos(radWGlon);\r\n        const y = (v + h) * Math.cos(radWGlat) * Math.sin(radWGlon);\r\n        const z = ((1 - e) * v + h) * Math.sin(radWGlat);\r\n\r\n        // transform cartesian\r\n        const xrot = (xr / 3600) * deg2rad;\r\n        const yrot = (yr / 3600) * deg2rad;\r\n        const zrot = (zr / 3600) * deg2rad;\r\n        const hx = x + (x * sf) - (y * zrot) + (z * yrot) + xp;\r\n        const hy = (x * zrot) + y + (y * sf) - (z * xrot) + yp;\r\n        const hz = (-1 * x * yrot) + (y * xrot) + z + (z * sf) + zp;\r\n\r\n        // Convert back to lat, lon\r\n        const newLon = Math.atan(hy / hx);\r\n        const p = Math.sqrt((hx * hx) + (hy * hy));\r\n        let newLat = Math.atan(hz / (p * (1 - e2)));\r\n        v = a2 / (Math.sqrt(1 - e2 * (Math.sin(newLat) * Math.sin(newLat))));\r\n        let errvalue = 1.0;\r\n        let lat0 = 0;\r\n        while (errvalue > 0.001) {\r\n            lat0 = Math.atan((hz + e2 * v * Math.sin(newLat)) / p);\r\n            errvalue = Math.abs(lat0 - newLat);\r\n            newLat = lat0;\r\n        }\r\n\r\n        return new LatLngGB(newLat * rad2deg, newLon * rad2deg);\r\n    }\r\n}\r\n","import { LatLng } from './LatLng';\r\nimport { LatLngWGS84 } from './LatLngWGS84';\r\n// import { GridCoordsIE } from '../GridCoords/GridCoordsIE';\r\nimport { deg2rad, rad2deg } from '../constants';\r\n\r\n\r\n/**\r\n * represents lat lng as Modified Airy (Irish grid projection)\r\n *\r\n */\r\nexport class LatLngIE extends LatLng {\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} lat\r\n\t * @param {number} lng\r\n\t */\r\n\tconstructor(lat, lng) {\r\n\t\tsuper(lat, lng);\r\n\t};\r\n\r\n// /**\r\n//  * converts lat and lon (modified Airy) to OSI northings and eastings\r\n//  *\r\n//  * @returns {GridCoordsIE}\r\n//  */\r\n// to_os_coords() {\r\n//     //var deg2rad = Math.PI / 180;\r\n//     //var rad2deg = 180.0 / Math.PI;\r\n//\r\n//     var phi = this.lat * deg2rad; // convert latitude to radians\r\n//     var lam = this.lng * deg2rad; // convert longitude to radians\r\n//     var a = 6377340.189;      // OSI semi-major\r\n//     var b = 6356034.447;      // OSI semi-minor\r\n//     var e0 = 200000;          // OSI easting of false origin\r\n//     var n0 = 250000;          // OSI northing of false origin\r\n//     var f0 = 1.000035;        // OSI scale factor on central meridian\r\n//     var e2 = 0.00667054015;   // OSI eccentricity squared\r\n//     var lam0 = -0.13962634015954636615389526147909;   // OSI false east\r\n//     var phi0 = 0.93375114981696632365417456114141;    // OSI false north\r\n//     var af0 = a * f0;\r\n//     var bf0 = b * f0;\r\n//\r\n//     // easting\r\n//     var slat2 = Math.sin(phi) * Math.sin(phi);\r\n//     var nu = af0 / (Math.sqrt(1 - (e2 * (slat2))));\r\n//     var rho = (nu * (1 - e2)) / (1 - (e2 * slat2));\r\n//     var eta2 = (nu / rho) - 1;\r\n//     var p = lam - lam0;\r\n//     var IV = nu * Math.cos(phi);\r\n//     var clat3 = Math.pow(Math.cos(phi), 3);\r\n//     var tlat2 = Math.tan(phi) * Math.tan(phi);\r\n//     var V = (nu / 6) * clat3 * ((nu / rho) - tlat2);\r\n//     var clat5 = Math.pow(Math.cos(phi), 5);\r\n//     var tlat4 = Math.pow(Math.tan(phi), 4);\r\n//     var VI = (nu / 120) * clat5 * ((5 - (18 * tlat2)) + tlat4 + (14 * eta2) - (58 * tlat2 * eta2));\r\n//     var east = e0 + (p * IV) + (Math.pow(p, 3) * V) + (Math.pow(p, 5) * VI);\r\n//\r\n//     // northing\r\n//     var n = (af0 - bf0) / (af0 + bf0);\r\n//     var M = LatLng._Marc(bf0, n, phi0, phi);\r\n//     var I = M + (n0);\r\n//     var II = (nu / 2) * Math.sin(phi) * Math.cos(phi);\r\n//     var III = ((nu / 24) * Math.sin(phi) * Math.pow(Math.cos(phi), 3)) * (5 - Math.pow(Math.tan(phi), 2) + (9 * eta2));\r\n//     var IIIA = ((nu / 720) * Math.sin(phi) * clat5) * (61 - (58 * tlat2) + tlat4);\r\n//     var north = I + ((p * p) * II) + (Math.pow(p, 4) * III) + (Math.pow(p, 6) * IIIA);\r\n//\r\n// \t//return {x: Math.round(east), y: Math.round(north)};\r\n//\r\n// \t/*\r\n// \treturn (east > 0 && north > 0) ?\r\n// \t\tnew GridCoordsIE(Math.round(east), Math.round(north))\r\n// \t\t:\r\n// \t\tnull;\r\n// \t*/\r\n//    return new GridCoordsIE(Math.round(east), Math.round(north));\r\n// };\r\n\r\n\t/**\r\n\t * convert Irish projection to WGS84 (for Google Maps)\r\n\t * see http://www.carabus.co.uk/ll_ngr.html\r\n\t */\r\n\tto_WGS84() {\r\n\t\tconst IRISH_AXIS = 6377340.189;\r\n\t\tconst IRISH_ECCENTRIC = 0.00667054015;\r\n\r\n\t\tconst WGS84_AXIS = 6378137;\r\n\t\tconst WGS84_ECCENTRIC = 0.00669438037928458;\r\n\r\n\t\t/*\r\n\t\t * IE\r\n\t\ta = 6377340.189;      // OSI semi-major\r\n\t\tb = 6356034.447;      // OSI semi-minor\r\n\t\te0 = 200000;          // OSI easting of false origin\r\n\t\tn0 = 250000;          // OSI northing of false origin\r\n\t\tf0 = 1.000035;        // OSI scale factor on central meridian\r\n\t\te2 = 0.00667054015;   // OSI eccentricity squared\r\n\t\tlam0 = -0.13962634015954636615389526147909;   // OSI false east\r\n\t\tphi0 = 0.93375114981696632365417456114141;    // OSI false north\r\n\t\t*/\r\n\r\n\t\t//height = 0;\r\n\r\n\t\tconst latLngRadians = LatLng._transform(this.lat * deg2rad, this.lng * deg2rad, IRISH_AXIS, IRISH_ECCENTRIC, 0, WGS84_AXIS, WGS84_ECCENTRIC,\r\n\t\t\t482.53, -130.596, 564.557, -1.042, -0.214, -0.631, -8.15);\r\n\r\n\t\treturn new LatLngWGS84(latLngRadians.lat * rad2deg, latLngRadians.lng * rad2deg);\r\n\t};\r\n\r\n\t/**\r\n\t *\r\n\t * @param {LatLngWGS84} latLngWGS84\r\n\t * @returns {LatLngIE}\r\n\t */\r\n\tstatic from_wgs84(latLngWGS84) {\r\n\t\tconst phip = latLngWGS84.lat * deg2rad;\r\n\t\tconst lambdap = latLngWGS84.lng * deg2rad;\r\n\r\n\t\tconst IRISH_AXIS = 6377340.189;\r\n\t\tconst IRISH_ECCENTRIC = 0.00667054015;\r\n\r\n\t\tconst WGS84_AXIS = 6378137;\r\n\t\tconst WGS84_ECCENTRIC = 0.00669438037928458;\r\n\r\n\r\n\t\t/*\r\n\t\t * IE\r\n\t\ta = 6377340.189;      // OSI semi-major\r\n\t\tb = 6356034.447;      // OSI semi-minor\r\n\t\te0 = 200000;          // OSI easting of false origin\r\n\t\tn0 = 250000;          // OSI northing of false origin\r\n\t\tf0 = 1.000035;        // OSI scale factor on central meridian\r\n\t\te2 = 0.00667054015;   // OSI eccentricity squared\r\n\t\tlam0 = -0.13962634015954636615389526147909;   // OSI false east\r\n\t\tphi0 = 0.93375114981696632365417456114141;    // OSI false north\r\n\t\t */\r\n\r\n\t\tconst height = 0;\r\n\t\tconst latlng = LatLng._transform(phip, lambdap, WGS84_AXIS, WGS84_ECCENTRIC, height, IRISH_AXIS, IRISH_ECCENTRIC,\r\n\t\t\t-482.53, 130.596, -564.557, 1.042, 0.214, 0.631, 8.15);\r\n\r\n\t\treturn new LatLngIE(latlng.lat * rad2deg, latlng.lng * rad2deg);\r\n\t}\r\n}\r\n","import { LatLng} from './LatLng';\r\nimport { rad2deg, deg2rad } from '../constants';\r\n\r\nexport class LatLngCI extends LatLng {\r\n\t/**\r\n\t * represents lat lng as INT24 (CI grid projection)\r\n\t *\r\n\t * @constructor\r\n\t * @param {number} lat\r\n\t * @param {number} lng\r\n\t */\r\n\tconstructor(lat, lng) {\r\n\t\tsuper(lat, lng);\r\n\t};\r\n\r\n\t// /**\r\n\t//  * converts lat and lon to CI northings and eastings\r\n\t//  *\r\n\t//  * @returns GridCoordsCI\r\n\t//  */\r\n\t// to_os_coords() {\r\n\t// \tvar phi = this.lat * deg2rad; // convert latitude to radians\r\n\t// \tvar lam = this.lng * deg2rad; // convert longitude to radians\r\n\t// \tvar a = 6378388.000;      // OSI semi-major\r\n\t// \tvar b = 6356911.946;      // OSI semi-minor\r\n\t// \tvar e0 = 500000;          // OSI easting of false origin\r\n\t// \tvar n0 = 0;          // OSI northing of false origin\r\n\t// \tvar f0 = 0.9996;        // OSI scale factor on central meridian\r\n\t// \tvar e2 = 0.0067226700223333;   // OSI eccentricity squared\r\n\t// \tvar lam0 = -0.0523598775598;   // OSI false east\r\n\t// \tvar phi0 = 0;    // OSI false north\r\n\t// \tvar af0 = a * f0;\r\n\t// \tvar bf0 = b * f0;\r\n\t//\r\n\t// \t// easting\r\n\t// \tvar slat2 = Math.sin(phi) * Math.sin(phi);\r\n\t// \tvar nu = af0 / (Math.sqrt(1 - (e2 * (slat2))));\r\n\t// \tvar rho = (nu * (1 - e2)) / (1 - (e2 * slat2));\r\n\t// \tvar eta2 = (nu / rho) - 1;\r\n\t// \tvar p = lam - lam0;\r\n\t// \tvar IV = nu * Math.cos(phi);\r\n\t// \tvar clat3 = Math.pow(Math.cos(phi), 3);\r\n\t// \tvar tlat2 = Math.tan(phi) * Math.tan(phi);\r\n\t// \tvar V = (nu / 6) * clat3 * ((nu / rho) - tlat2);\r\n\t// \tvar clat5 = Math.pow(Math.cos(phi), 5);\r\n\t// \tvar tlat4 = Math.pow(Math.tan(phi), 4);\r\n\t// \tvar VI = (nu / 120) * clat5 * ((5 - (18 * tlat2)) + tlat4 + (14 * eta2) - (58 * tlat2 * eta2));\r\n\t// \tvar east = e0 + (p * IV) + (Math.pow(p, 3) * V) + (Math.pow(p, 5) * VI);\r\n\t//\r\n\t// \t// northing\r\n\t// \tvar n = (af0 - bf0) / (af0 + bf0);\r\n\t// \tvar M = LatLng._Marc(bf0, n, phi0, phi);\r\n\t// \tvar I = M + (n0);\r\n\t// \tvar II = (nu / 2) * Math.sin(phi) * Math.cos(phi);\r\n\t// \tvar III = ((nu / 24) * Math.sin(phi) * Math.pow(Math.cos(phi), 3)) * (5 - Math.pow(Math.tan(phi), 2) + (9 * eta2));\r\n\t// \tvar IIIA = ((nu / 720) * Math.sin(phi) * clat5) * (61 - (58 * tlat2) + tlat4);\r\n\t// \tvar north = I + ((p * p) * II) + (Math.pow(p, 4) * III) + (Math.pow(p, 6) * IIIA);\r\n\t//\r\n\t// \t\t//return {x: Math.round(east), y: Math.round(north)};\r\n\t// \treturn new GridCoordsCI(Math.round(east), Math.round(north));\r\n\t// };\r\n\r\n\t/**\r\n\t *\r\n\t * @param {LatLngWGS84} latLngWGS84\r\n\t * @returns {LatLngCI}\r\n\t */\r\n\tstatic from_wgs84(latLngWGS84) {\r\n\t\tconst phip = latLngWGS84.lat * deg2rad;\r\n\t\tconst lambdap = latLngWGS84.lng * deg2rad;\r\n\r\n\t\tconst CI_AXIS = 6378388.000;\r\n\t\tconst CI_ECCENTRIC = 0.0067226700223333;\r\n\r\n\t\tconst WGS84_AXIS = 6378137;\r\n\t\tconst WGS84_ECCENTRIC = 0.00669438037928458;\r\n\r\n\r\n\t\t/*\r\n\t\t * CI\r\n\t\t a = 6378388.000;       // INT24 ED50 semi-major\r\n\t\t b = 6356911.946;       // INT24 ED50 semi-minor\r\n\t\t e0 = 500000;           // CI easting of false origin\r\n\t\t n0 = 0;                // CI northing of false origin\r\n\t\t f0 = 0.9996;           // INT24 ED50 scale factor on central meridian\r\n\t\t e2 = 0.0067226700223333;  // INT24 ED50 eccentricity squared\r\n\t\t lam0 = -0.0523598775598;  // CI false east\r\n\t\t phi0 = 0 * deg2rad;       // CI false north\r\n\t\t */\r\n\r\n\t\tconst height = 0;\r\n\t\tconst latlng = LatLng._transform(phip, lambdap, WGS84_AXIS, WGS84_ECCENTRIC, height, CI_AXIS, CI_ECCENTRIC,\r\n\t\t\t83.901, 98.127, 118.635, 0, 0, 0, 0);\r\n\r\n\t\treturn new LatLngCI(latlng.lat * rad2deg, latlng.lng * rad2deg);\r\n\t};\r\n}\r\n","import {LatLngGB} from '../LatLng/LatLngGB'\r\nimport {LatLngIE} from '../LatLng/LatLngIE';\r\nimport {LatLngCI} from '../LatLng/LatLngCI';\r\nimport {LatLngWGS84} from '../LatLng/LatLngWGS84';\r\nimport {deg2rad, rad2deg} from \"../constants\";\r\nimport {LatLng} from \"../LatLng/LatLng\";\r\n\r\n/**\r\n * abstract representation of a grid-ref co-ordinate pair\r\n * ( *not a grid-ref string* )\r\n *\r\n */\r\nexport class GridCoords {\r\n\r\n\t/**\r\n\t * @type {number}\r\n\t */\r\n\tx;\r\n\r\n\t/**\r\n\t * @type {number}\r\n\t */\r\n\ty;\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n\t/**\r\n\t * convert easting,northing to a WGS84 lat lng\r\n\t * @abstract\r\n\t * @returns {LatLngWGS84}\r\n\t */\r\n\tto_latLng() {\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} precision metres\r\n\t * @abstract\r\n\t * @returns {string}\r\n\t */\r\n\tto_gridref(precision) {\r\n\t}\r\n\r\n\t/**\r\n\t * tetrad letters ordered by easting then northing (steps of 2000m)\r\n\t * i.e. (x*4) + y\r\n\t *\r\n\t * where x and y are integer of (10km remainder / 2)\r\n\t * @type {string}\r\n\t */\r\n\tstatic tetradLetters = 'ABCDEFGHIJKLMNPQRSTUVWXYZ';\r\n\r\n\t/**\r\n\t * tetrad letters ordered by northing then easting (steps of 2000m)\r\n\t * i.e. (y*5) + x\r\n\t *\r\n\t * where x and y are integer of (10km remainder / 2)\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tstatic tetradLettersRowFirst = 'AFKQVBGLRWCHMSXDINTYEJPUZ';\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} lat WGS84 degrees\r\n\t * @param {number} lng WGS84 degrees\r\n\t * @returns {GridCoords}\r\n\t */\r\n\tstatic from_latlng(lat, lng) {\r\n\t\t// test if GB\r\n\t\tif (lng >= -8.74 && lat > 49.88) {\r\n\t\t\t// lng extreme must accommodate St Kilda\r\n\r\n\t\t\t//let os = LatLngGB.from_wgs84(new LatLngWGS84(lat, lng)).to_os_coords();\r\n\t\t\tconst os = GridCoords._from_gb_latlng(LatLngGB.from_wgs84(new LatLngWGS84(lat, lng)));\r\n\t\t\tif (os.x >= 0 && os.is_gb_hectad()) {\r\n\t\t\t\treturn os;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// test if Irish\r\n\t\tif (lng < -5.3 && lat > 51.34 && lng > -11 && lat < 55.73) {\r\n\t\t\t//let osI = LatLngIE.from_wgs84(new LatLngWGS84(lat, lng)).to_os_coords();\r\n\t\t\tconst osI = GridCoords._from_ie_latlng(LatLngIE.from_wgs84(new LatLngWGS84(lat, lng)));\r\n\r\n\t\t\tif (osI.x < 0 || osI.y < 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn osI;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//let osCi = LatLngCI.from_wgs84(new LatLngWGS84(lat, lng)).to_os_coords();\r\n\t\t\tconst osCi = GridCoords._from_ci_latlng(LatLngCI.from_wgs84(new LatLngWGS84(lat, lng)));\r\n\r\n\t\t\tif (osCi.x >= 500000 && osCi.x < 600000 && osCi.y >= 5400000 && osCi.y < 5600000) {\r\n\t\t\t\treturn osCi;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null; //not a valid location\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {LatLngGB} latLng GB projected latitude / longitude (degrees)\r\n\t */\r\n\tstatic _from_gb_latlng(latLng) {\r\n\t\tconst phi = latLng.lat * deg2rad; // convert latitude to radians\r\n\t\tconst lam = latLng.lng * deg2rad; // convert longitude to radians\r\n\t\tconst a = 6377563.396; // OSGB semi-major axis\r\n\t\tconst b = 6356256.91; // OSGB semi-minor axis\r\n\t\tconst e0 = 400000; // easting of false origin\r\n\t\tconst n0 = -100000; // northing of false origin\r\n\t\tconst f0 = 0.9996012717; // OSGB scale factor on central meridian\r\n\t\tconst e2 = 0.0066705397616; // OSGB eccentricity squared\r\n\t\tconst lam0 = -0.034906585039886591; // OSGB false east\r\n\t\tconst phi0 = 0.85521133347722145; // OSGB false north\r\n\t\tconst af0 = a * f0;\r\n\t\tconst bf0 = b * f0;\r\n\r\n\t\t// easting\r\n\t\tconst slat2 = Math.sin(phi) * Math.sin(phi);\r\n\t\tconst nu = af0 / (Math.sqrt(1 - (e2 * (slat2))));\r\n\t\tconst rho = (nu * (1 - e2)) / (1 - (e2 * slat2));\r\n\t\tconst eta2 = (nu / rho) - 1;\r\n\t\tconst p = lam - lam0;\r\n\t\tconst IV = nu * Math.cos(phi);\r\n\t\tconst clat3 = Math.pow(Math.cos(phi), 3);\r\n\t\tconst tlat2 = Math.tan(phi) * Math.tan(phi);\r\n\t\tconst V = (nu / 6) * clat3 * ((nu / rho) - tlat2);\r\n\t\tconst clat5 = Math.pow(Math.cos(phi), 5);\r\n\t\tconst tlat4 = Math.pow(Math.tan(phi), 4);\r\n\t\tconst VI = (nu / 120) * clat5 * ((5 - (18 * tlat2)) + tlat4 + (14 * eta2) - (58 * tlat2 * eta2));\r\n\t\tconst east = e0 + (p * IV) + (Math.pow(p, 3) * V) + (Math.pow(p, 5) * VI);\r\n\r\n\t\t// northing\r\n\t\tconst n = (af0 - bf0) / (af0 + bf0);\r\n\t\tconst M = LatLng._Marc(bf0, n, phi0, phi);\r\n\t\tconst I = M + (n0);\r\n\t\tconst II = (nu / 2) * Math.sin(phi) * Math.cos(phi);\r\n\t\tconst III = ((nu / 24) * Math.sin(phi) * Math.pow(Math.cos(phi), 3)) * (5 - Math.pow(Math.tan(phi), 2) + (9 * eta2));\r\n\t\tconst IIIA = ((nu / 720) * Math.sin(phi) * clat5) * (61 - (58 * tlat2) + tlat4);\r\n\t\tconst north = I + ((p * p) * II) + (Math.pow(p, 4) * III) + (Math.pow(p, 6) * IIIA);\r\n\r\n\t\treturn new GridCoordsGB(Math.round(east), Math.round(north));\r\n\t}\r\n\r\n\t/**\r\n\t * converts lat and lon (modified Airy) to OSI northings and eastings\r\n\t *\r\n\t * @param {LatLngIE} latLng Irish projected latitude / longitude (degrees)\r\n\t * @returns {GridCoordsIE}\r\n\t */\r\n\tstatic _from_ie_latlng(latLng) {\r\n\t\tconst phi = latLng.lat * deg2rad; // convert latitude to radians\r\n\t\tconst lam = latLng.lng * deg2rad; // convert longitude to radians\r\n\t\tconst a = 6377340.189;      // OSI semi-major\r\n\t\tconst b = 6356034.447;      // OSI semi-minor\r\n\t\tconst e0 = 200000;          // OSI easting of false origin\r\n\t\tconst n0 = 250000;          // OSI northing of false origin\r\n\t\tconst f0 = 1.000035;        // OSI scale factor on central meridian\r\n\t\tconst e2 = 0.00667054015;   // OSI eccentricity squared\r\n\t\tconst lam0 = -0.13962634015954636615389526147909;   // OSI false east\r\n\t\tconst phi0 = 0.93375114981696632365417456114141;    // OSI false north\r\n\t\tconst af0 = a * f0;\r\n\t\tconst bf0 = b * f0;\r\n\r\n\t\t// easting\r\n\t\tconst slat2 = Math.sin(phi) * Math.sin(phi);\r\n\t\tconst nu = af0 / (Math.sqrt(1 - (e2 * (slat2))));\r\n\t\tconst rho = (nu * (1 - e2)) / (1 - (e2 * slat2));\r\n\t\tconst eta2 = (nu / rho) - 1;\r\n\t\tconst p = lam - lam0;\r\n\t\tconst IV = nu * Math.cos(phi);\r\n\t\tconst clat3 = Math.pow(Math.cos(phi), 3);\r\n\t\tconst tlat2 = Math.tan(phi) * Math.tan(phi);\r\n\t\tconst V = (nu / 6) * clat3 * ((nu / rho) - tlat2);\r\n\t\tconst clat5 = Math.pow(Math.cos(phi), 5);\r\n\t\tconst tlat4 = Math.pow(Math.tan(phi), 4);\r\n\t\tconst VI = (nu / 120) * clat5 * ((5 - (18 * tlat2)) + tlat4 + (14 * eta2) - (58 * tlat2 * eta2));\r\n\t\tconst east = e0 + (p * IV) + (Math.pow(p, 3) * V) + (Math.pow(p, 5) * VI);\r\n\r\n\t\t// northing\r\n\t\tconst n = (af0 - bf0) / (af0 + bf0);\r\n\t\tconst M = LatLng._Marc(bf0, n, phi0, phi);\r\n\t\tconst I = M + (n0);\r\n\t\tconst II = (nu / 2) * Math.sin(phi) * Math.cos(phi);\r\n\t\tconst III = ((nu / 24) * Math.sin(phi) * Math.pow(Math.cos(phi), 3)) * (5 - Math.pow(Math.tan(phi), 2) + (9 * eta2));\r\n\t\tconst IIIA = ((nu / 720) * Math.sin(phi) * clat5) * (61 - (58 * tlat2) + tlat4);\r\n\t\tconst north = I + ((p * p) * II) + (Math.pow(p, 4) * III) + (Math.pow(p, 6) * IIIA);\r\n\r\n\t\treturn new GridCoordsIE(Math.round(east), Math.round(north));\r\n\t}\r\n\r\n\t/**\r\n\t * converts lat and lon to CI northings and eastings\r\n\t * @param {LatLngCI} latLng Channel Islands projected latitude / longitude (degrees)\r\n\t *\r\n\t * @returns GridCoordsCI\r\n\t */\r\n\tstatic _from_ci_latlng(latLng) {\r\n\t\tconst phi = latLng.lat * deg2rad; // convert latitude to radians\r\n\t\tconst lam = latLng.lng * deg2rad; // convert longitude to radians\r\n\t\tconst a = 6378388.000;      // OSI semi-major\r\n\t\tconst b = 6356911.946;      // OSI semi-minor\r\n\t\tconst e0 = 500000;          // OSI easting of false origin\r\n\t\tconst n0 = 0;          // OSI northing of false origin\r\n\t\tconst f0 = 0.9996;        // OSI scale factor on central meridian\r\n\t\tconst e2 = 0.0067226700223333;   // OSI eccentricity squared\r\n\t\tconst lam0 = -0.0523598775598;   // OSI false east\r\n\t\tconst phi0 = 0;    // OSI false north\r\n\t\tconst af0 = a * f0;\r\n\t\tconst bf0 = b * f0;\r\n\r\n\t\t// easting\r\n\t\tconst slat2 = Math.sin(phi) * Math.sin(phi);\r\n\t\tconst nu = af0 / (Math.sqrt(1 - (e2 * (slat2))));\r\n\t\tconst rho = (nu * (1 - e2)) / (1 - (e2 * slat2));\r\n\t\tconst eta2 = (nu / rho) - 1;\r\n\t\tconst p = lam - lam0;\r\n\t\tconst IV = nu * Math.cos(phi);\r\n\t\tconst clat3 = Math.pow(Math.cos(phi), 3);\r\n\t\tconst tlat2 = Math.tan(phi) * Math.tan(phi);\r\n\t\tconst V = (nu / 6) * clat3 * ((nu / rho) - tlat2);\r\n\t\tconst clat5 = Math.pow(Math.cos(phi), 5);\r\n\t\tconst tlat4 = Math.pow(Math.tan(phi), 4);\r\n\t\tconst VI = (nu / 120) * clat5 * ((5 - (18 * tlat2)) + tlat4 + (14 * eta2) - (58 * tlat2 * eta2));\r\n\t\tconst east = e0 + (p * IV) + (Math.pow(p, 3) * V) + (Math.pow(p, 5) * VI);\r\n\r\n\t\t// northing\r\n\t\tconst n = (af0 - bf0) / (af0 + bf0);\r\n\t\tconst M = LatLng._Marc(bf0, n, phi0, phi);\r\n\t\tconst I = M + (n0);\r\n\t\tconst II = (nu / 2) * Math.sin(phi) * Math.cos(phi);\r\n\t\tconst III = ((nu / 24) * Math.sin(phi) * Math.pow(Math.cos(phi), 3)) * (5 - Math.pow(Math.tan(phi), 2) + (9 * eta2));\r\n\t\tconst IIIA = ((nu / 720) * Math.sin(phi) * clat5) * (61 - (58 * tlat2) + tlat4);\r\n\t\tconst north = I + ((p * p) * II) + (Math.pow(p, 4) * III) + (Math.pow(p, 6) * IIIA);\r\n\r\n\t\treturn new GridCoordsCI(Math.round(east), Math.round(north));\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} easting\r\n\t * @param {number} northing\r\n\t * @return {string} tetrad letter\r\n\t */\r\n\tstatic calculate_tetrad(easting, northing) {\r\n\t\treturn (easting >= 0 && northing >= 0) ?\r\n\t\t\tGridCoords.tetradLetters.charAt((Math.floor(easting % 10000 / 2000) * 5) + Math.floor(northing % 10000 / 2000)) :\r\n\t\t\t'';\r\n\t};\r\n\r\n\ttoString() {\r\n\t\treturn this.x + ',' + this.y;\r\n\t};\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} letters\r\n * @param {number} e metres\r\n * @param {number} n metres\r\n * @param {number} precision metres\r\n * @returns {String}\r\n */\r\nexport const _e_n_to_gr = function(letters, e, n, precision) {\r\n\tlet eString = ('00000' + Math.floor(e));\r\n\tlet nString = ('00000' + Math.floor(n));\r\n\r\n\tif (precision === 2000) {\r\n\t\treturn letters +\r\n\t\t\teString.charAt(eString.length-5) + nString.charAt(nString.length-5) +\r\n\t\t\tGridCoords.calculate_tetrad(e, n);\r\n\t} else if (precision === 100000) {\r\n\t\treturn letters;\r\n\t} else {\r\n\t\tif (precision === 5000) {\r\n\t\t\t// ignore quadrant and treat as hectad\r\n\t\t\tprecision = 10000;\r\n\t\t}\r\n\r\n\t\tlet logPrecision = Math.round(Math.log10(precision));\r\n\t\treturn letters +\r\n\t\t\t(logPrecision ?\r\n\t\t\t\t(eString.slice(-5,  -logPrecision) + nString.slice(-5,  -logPrecision))\r\n\t\t\t\t:\r\n\t\t\t\t(eString.slice(-5) + nString.slice(-5))\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport class GridCoordsGB extends GridCoords {\r\n\t/**\r\n\t * @type {GridCoordsGB}\r\n\t */\r\n\tgridCoords = null;\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} easting\r\n\t * @param {number} northing\r\n\t */\r\n\tconstructor(easting, northing) {\r\n\t\tsuper();\r\n\t\tthis.x = easting;\r\n\t\tthis.y = northing;\r\n\t};\r\n\r\n\t/**\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tcountry = 'GB';\r\n\r\n\t/**\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tstatic gbHectads = 'SV80SV81SV90SV91SW32SW33SW42SW43SW44SW52SW53SW54SW61SW62SW63SW64SW65SW71SW72SW73SW74SW75SW76SW81SW82SW83SW84SW85SW86SW87SW95SW96SW97SS10SS11SS20SS21SS30SW83SW84SW85SW93SW94SW95SW96SW97SW98SX03SX04SX05SX06SX07SX08SX09SX14SX15SX16SX17SX18SX19SX25SX26SX27SX28SX29SX35SX36SX37SX38SX39SX44SX45SX46SX47SS70SS80SS81SS90SS91ST00ST01ST10ST11ST20ST21ST30SX37SX44SX45SX46SX47SX48SX54SX55SX56SX57SX58SX63SX64SX65SX66SX67SX68SX69SX73SX74SX75SX76SX77SX78SX79SX83SX84SX85SX86SX87SX88SX89SX94SX95SX96SX97SX98SX99SY07SY08SY09SY18SY19SY28SY29SY38SY39SS14SS20SS21SS22SS30SS31SS32SS40SS41SS42SS43SS44SS50SS51SS52SS53SS54SS60SS61SS62SS63SS64SS70SS71SS72SS73SS74SS75SS80SS81SS82SS83SS91SS92ST01ST02SX28SX29SX37SX38SX39SX48SX49SX58SX59SX68SX69SX79SS73SS74SS82SS83SS84SS92SS93SS94ST01ST02ST03ST04ST11ST12ST13ST14ST20ST21ST22ST23ST24ST25ST30ST31ST32ST33ST34ST40ST41ST42ST50ST51ST52ST61ST62ST71ST72ST24ST25ST26ST32ST33ST34ST35ST36ST37ST42ST43ST44ST45ST46ST47ST52ST53ST54ST55ST56ST57ST62ST63ST64ST65ST66ST67ST72ST73ST74ST75ST76ST77ST83ST84ST85ST86SP00SP10ST76ST77ST85ST86ST87ST88ST89ST96ST97ST98ST99SU06SU07SU08SU09SU16SU17SU18SU19SU26SU27SU28SU29SU36SU37ST73ST74ST75ST76ST82ST83ST84ST85ST86ST91ST92ST93ST94ST95ST96SU01SU02SU03SU04SU05SU06SU11SU12SU13SU14SU15SU16SU21SU22SU23SU24SU25SU26SU31SU32SU34SU35SU36ST20ST30ST40ST50ST51ST60ST61ST70ST71ST72ST73ST80ST81ST82ST83ST90ST91ST92SU00SU01SU02SU10SU11SY39SY48SY49SY58SY59SY66SY67SY68SY69SY77SY78SY79SY87SY88SY89SY97SY98SY99SZ07SZ08SZ09SZ28SZ38SZ39SZ47SZ48SZ49SZ57SZ58SZ59SZ68SZ69SU00SU01SU02SU10SU11SU12SU20SU21SU22SU23SU30SU31SU32SU33SU40SU41SU42SU43SU50SU51SU52SU60SU61SU62SU70SU71SU72SZ08SZ09SZ19SZ29SZ38SZ39SZ49SZ59SZ69SZ79SU23SU24SU25SU33SU34SU35SU36SU42SU43SU44SU45SU46SU52SU53SU54SU55SU56SU62SU63SU64SU65SU66SU72SU73SU74SU75SU76SU82SU83SU84SU85SU86SU70SU71SU72SU80SU81SU82SU83SU90SU91SU92SU93SZ79SZ89SZ99TQ00TQ01TQ02TQ03TQ10TQ11TQ12TQ13TQ20TQ21TQ22TQ23TQ30TQ31TQ32TQ20TQ21TQ22TQ23TQ30TQ31TQ32TQ33TQ40TQ41TQ42TQ43TQ44TQ50TQ51TQ52TQ53TQ54TQ60TQ61TQ62TQ63TQ70TQ71TQ72TQ80TQ81TQ82TQ91TQ92TV49TV59TV69TQ65TQ72TQ73TQ74TQ75TQ76TQ77TQ82TQ83TQ84TQ85TQ86TQ87TQ91TQ92TQ93TQ94TQ95TQ96TQ97TR01TR02TR03TR04TR05TR06TR07TR12TR13TR14TR15TR16TR23TR24TR25TR26TR27TR33TR34TR35TR36TR37TR46TR47TQ35TQ36TQ37TQ38TQ43TQ44TQ45TQ46TQ47TQ48TQ53TQ54TQ55TQ56TQ57TQ58TQ63TQ64TQ65TQ66TQ67TQ72TQ73TQ74TQ75TQ76TQ77TQ78TQ87TQ88TQ97SU83SU84SU85SU86SU93SU94SU95SU96SU97TQ03TQ04TQ05TQ06TQ07TQ13TQ14TQ15TQ16TQ17TQ23TQ24TQ25TQ26TQ27TQ33TQ34TQ35TQ36TQ37TQ38TQ43TQ44TQ45TL30TL40TL50TL60TL70TL80TL90TM00TQ38TQ39TQ47TQ48TQ49TQ57TQ58TQ59TQ67TQ68TQ69TQ77TQ78TQ79TQ88TQ89TQ98TQ99TR08TR09TR19TL30TL31TL34TL40TL41TL42TL43TL44TL50TL51TL52TL53TL54TL60TL61TL62TL63TL64TL70TL71TL72TL73TL74TL80TL81TL82TL83TL84TL90TL91TL92TL93TM01TM02TM03TM11TM12TM13TM21TM22TM23TQ49SP81SP90SP91TL00TL01TL02TL10TL11TL12TL13TL20TL21TL22TL23TL24TL30TL31TL32TL33TL34TL41TL42TL43TL44TL51TL52TQ09TQ19TQ29TQ39TL20TL30TQ06TQ07TQ08TQ09TQ16TQ17TQ18TQ19TQ27TQ28TQ29TQ37TQ38TQ39SP20SP30SP40SP41SP50SU19SU26SU27SU28SU29SU36SU37SU38SU39SU46SU47SU48SU49SU56SU57SU58SU59SU66SU67SU68SU69SU76SU77SU78SU86SU87SU88SU96SU97SU98SP10SP20SP21SP22SP23SP30SP31SP32SP33SP34SP40SP41SP42SP43SP44SP45SP50SP51SP52SP53SP54SP60SP61SP62SP63SP70SU29SU39SU49SU57SU58SU59SU67SU68SU69SU77SU78SU79SP51SP53SP60SP61SP62SP63SP64SP70SP71SP72SP73SP74SP80SP81SP82SP83SP84SP85SP90SP91SP92SP93SP94SP95SU78SU79SU88SU89SU97SU98SU99TL00TL01TQ07TQ08TQ09TG40TG50TM03TM04TM05TM06TM07TM13TM14TM15TM16TM17TM23TM24TM25TM26TM27TM28TM33TM34TM35TM36TM37TM38TM39TM44TM45TM46TM47TM48TM49TM57TM58TM59TL64TL65TL66TL67TL68TL74TL75TL76TL77TL78TL83TL84TL85TL86TL87TL88TL93TL94TL95TL96TL97TL98TM03TM04TM05TM06TM07TM08TG00TG01TG02TG03TG04TG10TG11TG12TG13TG14TG20TG21TG22TG23TG24TG30TG31TG32TG33TG40TG41TG42TG50TG51TM07TM08TM09TM17TM18TM19TM27TM28TM29TM38TM39TM49TM59TF40TF41TF42TF50TF51TF52TF53TF60TF61TF62TF63TF64TF70TF71TF72TF73TF74TF80TF81TF82TF83TF84TF90TF91TF92TF93TF94TG00TG01TG02TG03TG04TL49TL59TL68TL69TL78TL79TL87TL88TL89TL98TL99TM07TM08TM09TF20TF30TF31TF40TF41TF50TL15TL19TL23TL24TL25TL26TL28TL29TL33TL34TL35TL36TL37TL38TL39TL44TL45TL46TL47TL48TL49TL54TL55TL56TL57TL58TL59TL63TL64TL65TL66TL67TL68TL69TL75TL76SP91SP92SP93SP94SP95SP96TL01TL02TL03TL04TL05TL06TL07TL11TL12TL13TL14TL15TL16TL23TL24TL25TL06TL07TL08TL09TL15TL16TL17TL18TL19TL25TL26TL27TL28TL29TL36TL37TL38TL39SK90SP43SP44SP45SP46SP53SP54SP55SP56SP57SP58SP63SP64SP65SP66SP67SP68SP73SP74SP75SP76SP77SP78SP79SP84SP85SP86SP87SP88SP89SP95SP96SP97SP98SP99TF00TF10TF20TL06TL07TL08TL09TL18TL19TL29SO70SO71SO80SO81SO82SO83SO90SO91SO92SO93SO94SP00SP01SP02SP03SP04SP10SP11SP12SP13SP14SP15SP20SP21SP22SP23SP24SP25ST99SU09SU19SU29SO50SO51SO60SO61SO62SO63SO70SO71SO72SO73SO80SO81SO82SO83SO90ST57ST58ST59ST66ST67ST68ST69ST76ST77ST78ST79ST87ST88ST89ST98ST99SO10SO11SO20SO21SO22SO23SO30SO31SO32SO40SO41SO42SO50SO51ST18ST19ST27ST28ST29ST37ST38ST39ST47ST48ST49ST58ST59SO22SO23SO24SO25SO26SO32SO33SO34SO35SO36SO37SO41SO42SO43SO44SO45SO46SO47SO51SO52SO53SO54SO55SO56SO57SO61SO62SO63SO64SO65SO66SO73SO74SO75SO76SO56SO64SO65SO66SO67SO72SO73SO74SO75SO76SO77SO78SO82SO83SO84SO85SO86SO87SO88SO93SO94SO95SO96SO97SO98SO99SP03SP04SP05SP06SP07SP08SP13SP14SP16SP17SP18SK10SK20SK30SP04SP05SP06SP07SP08SP09SP14SP15SP16SP17SP18SP19SP22SP23SP24SP25SP26SP27SP28SP29SP33SP34SP35SP36SP37SP38SP39SP44SP45SP46SP47SP48SP49SP55SP56SP57SP58SJ63SJ70SJ71SJ72SJ73SJ74SJ75SJ80SJ81SJ82SJ83SJ84SJ85SJ86SJ90SJ91SJ92SJ93SJ94SJ95SJ96SK00SK01SK02SK03SK04SK05SK06SK10SK11SK12SK13SK14SK15SK16SK20SK21SK22SO77SO78SO79SO88SO89SO98SO99SP08SP09SP19SP29SJ20SJ21SJ22SJ23SJ30SJ31SJ32SJ33SJ34SJ40SJ41SJ42SJ43SJ50SJ51SJ52SJ53SJ54SJ60SJ61SJ62SJ63SJ64SJ70SJ71SJ72SJ73SJ74SJ80SO17SO18SO27SO28SO29SO37SO38SO39SO46SO47SO48SO49SO56SO57SO58SO59SO66SO67SO68SO69SO77SO78SO79SO88SO89SN50SN60SN61SN70SN71SN80SN81SN90SO00SO01SO10SO11SS38SS39SS48SS49SS58SS59SS68SS69SS77SS78SS79SS87SS88SS89SS96SS97SS98SS99ST06ST07ST08ST09ST16ST17ST18ST19ST26ST27ST28SN70SN71SN74SN80SN81SN82SN83SN84SN85SN86SN90SN91SN92SN93SN94SN95SN96SO00SO01SO02SO03SO04SO05SO06SO10SO11SO12SO13SO14SO21SO22SO23SO24SN86SN87SN96SN97SO04SO05SO06SO07SO08SO13SO14SO15SO16SO17SO18SO24SO25SO26SO27SO36SO37SN01SN02SN10SN11SN12SN20SN21SN22SN23SN24SN30SN31SN32SN33SN34SN40SN41SN42SN43SN44SN50SN51SN52SN53SN54SN60SN61SN62SN63SN64SN65SN71SN72SN73SN74SN75SN81SN82SN83SN84SS39SS49SS59SM50SM62SM70SM71SM72SM73SM80SM81SM82SM83SM84SM90SM91SM92SM93SM94SN00SN01SN02SN03SN04SN10SN11SN12SN13SN14SN22SN23SN24SR89SR99SS09SS19SN14SN15SN24SN25SN33SN34SN35SN36SN44SN45SN46SN54SN55SN56SN57SN58SN64SN65SN66SN67SN68SN69SN74SN75SN76SN77SN78SN79SN84SN85SN86SN87SN88SN89SH70SH71SH80SH81SH90SH91SH92SJ00SJ01SJ02SJ03SJ10SJ11SJ12SJ20SJ21SJ22SJ31SN69SN78SN79SN87SN88SN89SN97SN98SN99SO07SO08SO09SO18SO19SO28SO29SO39SH50SH51SH52SH53SH54SH60SH61SH62SH63SH64SH70SH71SH72SH73SH74SH80SH81SH82SH83SH84SH91SH92SH93SH94SH95SJ03SJ04SJ05SJ13SJ14SN59SN69SN79SH12SH13SH22SH23SH24SH32SH33SH34SH43SH44SH45SH46SH53SH54SH55SH56SH57SH64SH65SH66SH67SH74SH75SH76SH77SH78SH84SH85SH86SH87SH88SH74SH75SH76SH77SH84SH85SH86SH87SH88SH94SH95SH96SH97SH98SJ02SJ03SJ04SJ05SJ06SJ07SJ08SJ12SJ13SJ14SJ15SJ16SJ17SJ22SJ23SJ24SJ25SJ26SJ33SJ34SJ35SJ43SJ44SJ45SJ53SJ54SH97SH98SJ06SJ07SJ08SJ15SJ16SJ17SJ18SJ25SJ26SJ27SJ35SJ36SJ37SH27SH28SH29SH36SH37SH38SH39SH46SH47SH48SH49SH56SH57SH58SH59SH67SH68SK81SK82SK83SK84SK85SK86SK87SK90SK91SK92SK93SK94SK95SK96SK97TF00TF01TF02TF03TF04TF05TF06TF07TF10TF11TF12TF13TF14TF15TF16TF17TF20TF21TF22TF23TF24TF25TF30TF31TF32TF33TF34TF41TF42TF43TF44TF52SE60SE70SE71SE80SE81SE82SE90SE91SE92SK78SK79SK87SK88SK89SK97SK98SK99TA00TA01TA02TA10TA11TA12TA20TA21TA30TA31TA40TF07TF08TF09TF15TF16TF17TF18TF19TF24TF25TF26TF27TF28TF29TF33TF34TF35TF36TF37TF38TF39TF43TF44TF45TF46TF47TF48TF49TF54TF55TF56TF57TF58SK20SK21SK30SK31SK32SK40SK41SK42SK43SK50SK51SK52SK60SK61SK62SK70SK71SK72SK73SK74SK80SK81SK82SK83SK84SK90SK91SP39SP48SP49SP57SP58SP59SP68SP69SP78SP79SP89SP99TF00TF01SE60SE70SK42SK43SK44SK45SK46SK52SK53SK54SK55SK56SK57SK58SK59SK62SK63SK64SK65SK66SK67SK68SK69SK72SK73SK74SK75SK76SK77SK78SK79SK84SK85SK86SK87SK88SK89SK97SJ98SJ99SK03SK06SK07SK08SK09SK11SK12SK13SK14SK15SK16SK17SK18SK19SK21SK22SK23SK24SK25SK26SK27SK28SK31SK32SK33SK34SK35SK36SK37SK38SK42SK43SK44SK45SK46SK47SK48SK53SK56SK57SD90SE00SE10SJ18SJ19SJ27SJ28SJ29SJ35SJ36SJ37SJ38SJ39SJ44SJ45SJ46SJ47SJ48SJ54SJ55SJ56SJ57SJ58SJ63SJ64SJ65SJ66SJ67SJ68SJ69SJ74SJ75SJ76SJ77SJ78SJ79SJ85SJ86SJ87SJ88SJ89SJ96SJ97SJ98SJ99SK06SK07SK08SK09SK19SD20SD21SD22SD30SD31SD32SD40SD41SD42SD50SD51SD52SD53SD60SD61SD62SD63SD70SD71SD72SD73SD74SD80SD81SD82SD83SD84SD90SD91SD92SD93SD94SJ29SJ38SJ39SJ48SJ49SJ58SJ59SJ68SJ69SJ79SJ88SJ89SJ99SD22SD23SD32SD33SD34SD35SD36SD42SD43SD44SD45SD46SD47SD52SD53SD54SD55SD56SD57SD63SD64SD65SD66SD67SD68SD73SD78SE53SE54SE62SE63SE64SE65SE72SE73SE74SE75SE76SE82SE83SE84SE85SE86SE87SE92SE93SE94SE95SE96SE97SE98TA02TA03TA04TA05TA06TA07TA08TA12TA13TA14TA15TA16TA17TA18TA21TA22TA23TA24TA26TA27TA31TA32TA33TA41TA42NZ30NZ31NZ40NZ41NZ42NZ50NZ51NZ52NZ60NZ61NZ62NZ70NZ71NZ72NZ80NZ81NZ90NZ91SE37SE38SE39SE46SE47SE48SE49SE55SE56SE57SE58SE59SE64SE65SE66SE67SE68SE69SE75SE76SE77SE78SE79SE86SE87SE88SE89SE97SE98SE99TA08TA09TA18SD84SD90SD91SD92SD93SD94SD95SE00SE01SE02SE03SE04SE10SE11SE12SE13SE14SE20SE21SE22SE23SE30SE31SE32SE33SE40SE41SE42SE50SE51SE52SE60SE61SE62SE70SE71SE72SE81SE82SK18SK19SK28SK29SK38SK39SK47SK48SK49SK57SK58SK59SK69SD54SD55SD64SD65SD66SD67SD68SD73SD74SD75SD76SD77SD78SD84SD85SD86SD87SD88SD94SD95SD96SD97SD98SE04SE05SE06SE07SE13SE14SE15SE16SE17SE23SE24SE25SE26SE27SE32SE33SE34SE35SE36SE37SE42SE43SE44SE45SE46SE52SE53SE54SE55SE56SE62SE63SE64SE65SE72NY72NY80NY81NY82NY90NY91NY92NZ00NZ01NZ02NZ10NZ11NZ20NZ21NZ30NZ31SD68SD69SD78SD79SD88SD89SD97SD98SD99SE07SE08SE09SE17SE18SE19SE27SE28SE29SE36SE37SE38SE39SE46SE47NY73NY74NY82NY83NY84NY92NY93NY94NY95NZ01NZ02NZ03NZ04NZ05NZ11NZ12NZ13NZ14NZ15NZ16NZ20NZ21NZ22NZ23NZ24NZ25NZ26NZ30NZ31NZ32NZ33NZ34NZ35NZ36NZ41NZ42NZ43NZ44NZ45NZ46NZ52NZ53NT60NT70NT80NT90NU00NU10NU20NY58NY59NY64NY65NY66NY67NY68NY69NY74NY75NY76NY77NY78NY79NY84NY85NY86NY87NY88NY89NY94NY95NY96NY97NY98NY99NZ04NZ05NZ06NZ07NZ08NZ09NZ15NZ16NZ17NZ18NZ19NZ26NZ27NZ28NZ29NZ36NZ37NZ38NZ39NT70NT71NT73NT80NT81NT82NT83NT84NT90NT91NT92NT93NT94NT95NU00NU01NU02NU03NU04NU05NU10NU11NU12NU13NU14NU20NU21NU22NU23NZ09NZ19NY20NY21NY30NY31NY40NY41NY42NY50NY51NY52NY53NY60NY61NY62NY63NY70NY71NY72NY73NY80NY81NY82NY83SD16SD17SD18SD19SD26SD27SD28SD29SD36SD37SD38SD39SD46SD47SD48SD49SD57SD58SD59SD67SD68SD69SD78SD79SD89NX90NX91NX92NX93NY00NY01NY02NY03NY04NY05NY10NY11NY12NY13NY14NY15NY16NY20NY21NY22NY23NY24NY25NY26NY31NY32NY33NY34NY35NY36NY37NY41NY42NY43NY44NY45NY46NY47NY48NY52NY53NY54NY55NY56NY57NY58NY62NY63NY64NY65NY66NY67NY68NY73NY74NY75NY84SD08SD09SD17SD18SD19SD28SD29NX30NX40SC16SC17SC26SC27SC28SC36SC37SC38SC39SC47SC48SC49NS60NS61NS70NS71NS72NS80NS81NS90NT00NT01NT10NT11NT20NT21NT30NX69NX78NX79NX88NX89NX96NX97NX98NX99NY05NY06NY07NY08NY09NY16NY17NY18NY19NY26NY27NY28NY29NY36NY37NY38NY39NY47NY48NY49NS50NS60NX36NX37NX38NX45NX46NX47NX48NX49NX54NX55NX56NX57NX58NX59NX64NX65NX66NX67NX68NX69NX74NX75NX76NX77NX78NX79NX84NX85NX86NX87NX88NX95NX96NX97NX98NY05NY06NW95NW96NW97NX03NX04NX05NX06NX07NX13NX14NX15NX16NX17NX24NX25NX26NX27NX33NX34NX35NX36NX37NX43NX44NX45NX46NS00NS10NS14NS15NS16NS20NS21NS23NS24NS25NS26NS30NS31NS32NS33NS34NS35NS36NS40NS41NS42NS43NS44NS45NS50NS51NS52NS53NS54NS55NS60NS61NS62NS63NS64NS71NS72NS73NX07NX08NX09NX17NX18NX19NX27NX28NX29NX37NX38NX39NX48NX49NX59NS16NS17NS26NS27NS35NS36NS37NS44NS45NS46NS47NS54NS55NS56NS64NS65NS66NS53NS54NS55NS56NS57NS63NS64NS65NS66NS67NS71NS72NS73NS74NS75NS76NS77NS80NS81NS82NS83NS84NS85NS86NS87NS90NS91NS92NS93NS94NS95NS96NT00NT01NT02NT03NT04NT05NT14NT01NT02NT03NT04NT05NT11NT12NT13NT14NT15NT21NT22NT23NT24NT25NT32NT33NT34NT10NT11NT20NT21NT22NT23NT30NT31NT32NT33NT34NT41NT42NT43NT44NT53NT20NT30NT31NT40NT41NT42NT43NT44NT50NT51NT52NT53NT54NT60NT61NT62NT63NT64NT70NT71NT72NT73NT74NT81NT82NT83NY39NY47NY48NY49NY58NY59NY69NT44NT45NT46NT53NT54NT55NT56NT63NT64NT65NT66NT73NT74NT75NT76NT77NT83NT84NT85NT86NT87NT94NT95NT96NT36NT37NT45NT46NT47NT48NT55NT56NT57NT58NT65NT66NT67NT68NT76NT77NS95NS96NT05NT06NT15NT16NT17NT24NT25NT26NT27NT34NT35NT36NT37NT43NT44NT45NT46NS86NS87NS95NS96NS97NS98NT06NT07NT08NT16NT17NO00NO01NO10NO11NO20NO21NO22NO30NO31NO32NO40NO41NO42NO50NO51NO52NO60NO61NS99NT08NT09NT18NT19NT28NT29NT39NT49NT59NT69NN30NN31NN40NN41NS38NS39NS47NS48NS49NS57NS58NS59NS67NS68NS69NS77NS78NS79NS86NS87NS88NS89NS97NS98NN21NN22NN30NN31NN32NN40NN41NN42NN50NN51NN52NN60NN61NN70NN71NN80NN81NN90NN91NO00NS49NS59NS69NS79NS88NS89NS98NS99NT08NT09NN22NN23NN32NN33NN34NN35NN42NN43NN44NN45NN46NN47NN51NN52NN53NN54NN55NN56NN57NN61NN62NN63NN64NN65NN66NN67NN71NN72NN73NN74NN75NN76NN77NN81NN82NN83NN84NN85NN86NN90NN91NN92NN93NN94NN95NN96NO00NO01NO02NO03NO04NO11NO12NO13NO21NN56NN57NN66NN67NN68NN76NN77NN78NN86NN87NN88NN94NN95NN96NN97NN98NO02NO03NO04NO05NO06NO07NO08NO11NO12NO13NO14NO15NO16NO17NO21NO22NO23NO24NO25NO32NO33NO34NO15NO16NO17NO23NO24NO25NO26NO27NO28NO32NO33NO34NO35NO36NO37NO38NO42NO43NO44NO45NO46NO47NO48NO53NO54NO55NO56NO57NO58NO63NO64NO65NO66NO67NO74NO75NO76NJ60NJ70NJ80NJ90NO57NO58NO66NO67NO68NO69NO76NO77NO78NO79NO86NO87NO88NO89NO99NH90NJ00NJ10NJ11NJ20NJ21NJ30NJ31NJ32NJ40NJ41NJ42NJ50NJ51NJ52NJ60NJ61NJ62NJ70NJ71NJ72NJ80NJ81NJ82NJ90NJ91NJ92NK02NN98NN99NO07NO08NO09NO17NO18NO19NO27NO28NO29NO37NO38NO39NO48NO49NO58NO59NO68NO69NO79NO89NJ31NJ32NJ33NJ34NJ42NJ43NJ44NJ52NJ53NJ54NJ55NJ62NJ63NJ64NJ65NJ72NJ73NJ74NJ75NJ76NJ82NJ83NJ84NJ85NJ86NJ92NJ93NJ94NJ95NJ96NK02NK03NK04NK05NK06NK13NK14NK15NH90NJ00NJ01NJ10NJ11NJ12NJ13NJ14NJ21NJ22NJ23NJ24NJ25NJ32NJ33NJ34NJ35NJ36NJ42NJ43NJ44NJ45NJ46NJ54NJ55NJ56NJ64NJ65NJ66NJ74NJ75NJ76NJ86NN99NH72NH81NH82NH91NH92NH93NH94NH95NH96NJ00NJ01NJ02NJ03NJ04NJ05NJ06NJ11NJ12NJ13NJ14NJ15NJ16NJ17NJ23NJ24NJ25NJ26NJ27NJ34NJ35NJ36NJ45NH01NH02NH10NH11NH12NH13NH14NH20NH21NH22NH23NH24NH30NH31NH32NH33NH34NH40NH41NH42NH43NH44NH50NH51NH52NH53NH54NH60NH61NH62NH63NH64NH70NH71NH72NH73NH74NH75NH80NH81NH82NH83NH84NH85NH90NH91NH92NH93NH94NH95NH96NJ00NJ01NN39NN46NN47NN48NN49NN56NN57NN58NN59NN67NN68NN69NN77NN78NN79NN88NN89NN98NN99NG60NG70NG71NG72NG80NG81NG82NG90NG91NH00NH01NH10NH20NH30NM46NM47NM54NM55NM56NM57NM64NM65NM66NM67NM68NM69NM74NM75NM76NM77NM78NM79NM84NM85NM86NM87NM88NM89NM95NM96NM97NM98NM99NN05NN06NN07NN08NN09NN16NN17NN18NN19NN26NN27NN28NN29NN35NN36NN37NN38NN39NN46NN47NN48NN49NN57NN58NN59NM70NM71NM72NM73NM80NM81NM82NM83NM84NM90NM91NM92NM93NM94NM95NN00NN01NN02NN03NN04NN05NN10NN11NN12NN13NN14NN15NN16NN20NN21NN22NN23NN24NN25NN26NN30NN33NN34NN35NN36NN44NN45NN46NR79NR88NR89NR96NR97NR98NR99NS06NS07NS08NS09NS16NS17NS18NS19NS28NS29NN20NN21NN30NN31NS28NS29NS37NS38NS39NS46NS47NS48NS56NS57NR82NR83NR84NR92NR93NR94NR95NR96NR97NS01NS02NS03NS04NS05NS06NS07NS15NS16NR50NR51NR60NR61NR62NR63NR64NR65NR67NR68NR70NR71NR72NR73NR74NR75NR76NR77NR78NR79NR83NR84NR85NR86NR87NR88NR89NR95NR96NM40NM60NM61NM70NM71NR15NR16NR24NR25NR26NR27NR34NR35NR36NR37NR38NR39NR44NR45NR46NR47NR48NR49NR56NR57NR58NR59NR67NR68NR69NR79NL93NL94NM04NM05NM15NM16NM21NM22NM23NM24NM25NM26NM31NM32NM33NM34NM35NM41NM42NM43NM44NM45NM51NM52NM53NM54NM55NM61NM62NM63NM64NM72NM73NG13NG14NG15NG20NG23NG24NG25NG26NG30NG31NG32NG33NG34NG35NG36NG37NG38NG40NG41NG42NG43NG44NG45NG46NG47NG50NG51NG52NG53NG54NG55NG56NG60NG61NG62NG63NG64NG65NG66NG71NG72NG82NM19NM29NM37NM38NM39NM47NM48NM49NM59NB90NB91NC00NC01NC10NC11NC20NC21NG63NG64NG65NG72NG73NG74NG75NG76NG77NG78NG79NG82NG83NG84NG85NG86NG87NG88NG89NG91NG92NG93NG94NG95NG96NG97NG98NG99NH00NH01NH02NH03NH04NH05NH06NH07NH08NH09NH10NH11NH15NH16NH17NH18NH19NH27NH28NH29NC10NC20NC21NC30NC31NC40NH02NH03NH04NH05NH06NH07NH12NH13NH14NH15NH16NH17NH19NH23NH24NH25NH26NH27NH28NH29NH34NH35NH36NH37NH38NH39NH44NH45NH46NH47NH48NH49NH54NH55NH56NH57NH58NH59NH64NH65NH66NH67NH68NH69NH75NH76NH77NH78NH86NH87NH88NH97NH98NC22NC30NC31NC32NC33NC40NC41NC42NC43NC50NC51NC52NC60NC61NC62NC63NC70NC71NC72NC73NC74NC80NC81NC82NC83NC84NC90NC91NC92NC93ND01ND02NH49NH59NH68NH69NH78NH79NH88NH89NC01NC02NC03NC10NC11NC12NC13NC14NC15NC16NC20NC21NC22NC23NC24NC25NC26NC27NC31NC32NC33NC34NC35NC36NC37NC42NC43NC44NC45NC46NC52NC53NC54NC55NC56NC62NC63NC64NC65NC66NC73NC74NC75NC76NC83NC84NC85NC86NC93NC94NC95NC96NC92NC93NC94NC95NC96ND01ND02ND03ND04ND05ND06ND07ND12ND13ND14ND15ND16ND17ND23ND24ND25ND26ND27ND33ND34ND35ND36ND37ND47HW63HW83HX62NA00NA10NA64NA74NA81NA90NA91NA92NA93NB00NB01NB02NB03NB10NB11NB12NB13NB14NB20NB21NB22NB23NB24NB30NB31NB32NB33NB34NB35NB40NB41NB42NB43NB44NB45NB46NB52NB53NB54NB55NB56NF09NF19NF56NF58NF60NF61NF66NF67NF68NF70NF71NF72NF73NF74NF75NF76NF77NF80NF81NF82NF83NF84NF85NF86NF87NF88NF89NF95NF96NF97NF98NF99NG07NG08NG09NG18NG19NG29NG49NL57NL58NL68NL69NL79HY10HY20HY21HY22HY23HY30HY31HY32HY33HY34HY35HY40HY41HY42HY43HY44HY45HY50HY51HY52HY53HY54HY55HY60HY61HY62HY63HY64HY73HY74HY75ND19ND28ND29ND38ND39ND47ND48ND49ND59HP40HP50HP51HP60HP61HT93HT94HU14HU15HU16HU24HU25HU26HU27HU28HU30HU31HU32HU33HU34HU35HU36HU37HU38HU39HU40HU41HU42HU43HU44HU45HU46HU47HU48HU49HU53HU54HU55HU56HU57HU58HU59HU66HU67HU68HU69HZ16HZ17HZ26HZ27';\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} precision metres\r\n\t * @returns {string}\r\n\t */\r\n\tto_gridref(precision) {\r\n\t\tconst hundredkmE = this.x / 100000 | 0; // Math.floor(this.x / 100000);\r\n\t\tconst hundredkmN = this.y / 100000 | 0; // Math.floor(this.y / 100000);\r\n\t\tlet firstLetter;\r\n\t\tif (hundredkmN < 5) {\r\n\t\t\tfirstLetter = (hundredkmE < 5) ? 'S' : 'T';\r\n\t\t} else if (hundredkmN < 10) {\r\n\t\t\tfirstLetter = (hundredkmE < 5) ? 'N' : 'O';\r\n\t\t} else {\r\n\t\t\tfirstLetter = (hundredkmE < 5) ? 'H' : 'J';\r\n\t\t}\r\n\r\n\r\n\t\tlet index = 65 + ((4 - (hundredkmN % 5)) * 5) + (hundredkmE % 5);\r\n\r\n\t\tif (index >= 73) {\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\tconst secondLetter = String.fromCharCode(index);\r\n\r\n\t\treturn _e_n_to_gr(\r\n\t\t\tfirstLetter + secondLetter,\r\n\t\t\t(this.x - (100000 * hundredkmE)),\r\n\t\t\t(this.y - (100000 * hundredkmN)),\r\n\t\t\tprecision ? precision : 1\r\n\t\t);\r\n\t};\r\n\r\n\t/**\r\n\t *\r\n\t * @return {string} hectad\r\n\t */\r\n\tto_hectad() {\r\n\t\tconst hundredkmE = this.x / 100000 | 0; // Math.floor(easting / 100000);\r\n\t\tconst hundredkmN = this.y / 100000 | 0; // Math.floor(northing / 100000);\r\n\t\tlet firstLetter;\r\n\t\tif (hundredkmN < 5) {\r\n\t\t\tfirstLetter = (hundredkmE < 5) ? 'S' : 'T';\r\n\t\t} else if (hundredkmN < 10) {\r\n\t\t\tfirstLetter = (hundredkmE < 5) ? 'N' : 'O';\r\n\t\t} else {\r\n\t\t\tfirstLetter = (hundredkmE < 5) ? 'H' : 'J';\r\n\t\t}\r\n\r\n\t\tlet index = 65 + ((4 - (hundredkmN % 5)) * 5) + (hundredkmE % 5);\r\n\r\n\t\tif (index >= 73) {\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\treturn firstLetter +\r\n\t\t\tString.fromCharCode(index) + // secondLetter\r\n\t\t\t(((this.x - (100000 * hundredkmE)) / 10000) | 0) +\r\n\t\t\t(((this.y - (100000 * hundredkmN)) / 10000) | 0);\r\n\t};\r\n\r\n\t/**\r\n\t *\r\n\t * @returns {boolean}\r\n\t */\r\n\tis_gb_hectad() {\r\n\t\treturn GridCoordsGB.gbHectads.indexOf(this.to_hectad()) !== -1;\r\n\t};\r\n\r\n\t/**\r\n\t * convert easting,northing to a WGS84 lat lng\r\n\t *\r\n\t * @returns {LatLngWGS84}\r\n\t */\r\n\tto_latLng() {\r\n\t\t//airy1830 = RefEll::airy1830(); //new RefEll(6377563.396, 6356256.909);\r\n\t\t//var OSGB_F0  = 0.9996012717;\r\n\t\t//var N0       = -100000.0;\r\n\t\tconst E0 = 400000.0;\r\n\t\tconst phi0 = 0.85521133347722; //deg2rad(49.0);\r\n\t\tconst lambda0 = -0.034906585039887; //deg2rad(-2.0);\r\n\t\tconst a = 6377563.396; // airy1830->maj;\r\n\t\t//var b        = 6356256.909; // airy1830->min;\r\n\t\tconst eSquared = 0.00667054007; // ((maj * maj) - (min * min)) / (maj * maj); // airy1830->ecc;\r\n\t\t//var phi      = 0.0;\r\n\t\t//var lambda   = 0.0;\r\n\t\tconst E = this.x;\r\n\t\tconst N = this.y;\r\n\t\tconst n = 0.0016732203289875; //(a - b) / (a + b);\r\n\t\tlet M;\r\n\t\tlet phiPrime = ((N + 100000) / (a * 0.9996012717)) + phi0;\r\n\r\n\t\t// 15 / 8 === 1.875\r\n\t\t// 5 / 4 === 1.25\r\n\t\t// 21 / 8 === 2.625\r\n\r\n\t\tdo {\r\n\t\t\tM = N + 100000 - (\r\n\t\t\t\t6353722.489 // (b * OSGB_F0)\r\n\t\t\t\t* ((1.0016767257674 // * (((1 + n + (1.25 * n * n) + (1.25 * n * n * n))\r\n\t\t\t\t\t\t* (phiPrime - phi0))\r\n\t\t\t\t\t- (0.00502807228247412 // - (((3 * n) + (3 * n * n) + (2.625 * n * n * n))\r\n\t\t\t\t\t\t* Math.sin(phiPrime - phi0)\r\n\t\t\t\t\t\t* Math.cos(phiPrime + phi0))\r\n\t\t\t\t\t+ (((1.875 * n * n) + (1.875 * n * n * n))\r\n\t\t\t\t\t\t* Math.sin(2.0 * (phiPrime - phi0))\r\n\t\t\t\t\t\t* Math.cos(2.0 * (phiPrime + phi0)))\r\n\t\t\t\t\t- (((35.0 / 24.0) * n * n * n)\r\n\t\t\t\t\t\t* Math.sin(3.0 * (phiPrime - phi0))\r\n\t\t\t\t\t\t* Math.cos(3.0 * (phiPrime + phi0)))));\r\n\r\n\t\t\tphiPrime += M / 6375020.48098897; // (N - N0 - M) / (a * OSGB_F0);\r\n\t\t} while (M >= 0.001);\r\n\r\n\t\tconst sinphiPrime2 = Math.sin(phiPrime) * Math.sin(phiPrime);\r\n\t\tconst tanphiPrime2 = Math.tan(phiPrime) * Math.tan(phiPrime);\r\n\t\tconst secphiPrime = 1.0 / Math.cos(phiPrime);\r\n\r\n\t\tconst v = a * 0.9996012717 * Math.pow(1.0 - eSquared * sinphiPrime2, -0.5);\r\n\r\n\t\tconst rho =\r\n\t\t\ta\r\n\t\t\t* 0.9996012717\r\n\t\t\t* (1.0 - eSquared)\r\n\t\t\t* Math.pow(1.0 - eSquared * sinphiPrime2, -1.5);\r\n\t\tconst etaSquared = (v / rho) - 1.0;\r\n\t\tconst VII = Math.tan(phiPrime) / (2 * rho * v);\r\n\t\tconst VIII =\r\n\t\t\t(Math.tan(phiPrime) / (24.0 * rho * Math.pow(v, 3.0)))\r\n\t\t\t* (5.0\r\n\t\t\t\t+ (3.0 * tanphiPrime2)\r\n\t\t\t\t+ etaSquared\r\n\t\t\t\t- (9.0 * tanphiPrime2 * etaSquared));\r\n\t\tconst IX =\r\n\t\t\t(Math.tan(phiPrime) / (720.0 * rho * Math.pow(v, 5.0)))\r\n\t\t\t* (61.0\r\n\t\t\t\t+ (90.0 * tanphiPrime2)\r\n\t\t\t\t+ (45.0 * tanphiPrime2 * tanphiPrime2));\r\n\t\tconst X = secphiPrime / v;\r\n\t\tconst XI =\r\n\t\t\t(secphiPrime / (6.0 * v * v * v))\r\n\t\t\t* ((v / rho) + (2 * tanphiPrime2));\r\n\t\tconst XII =\r\n\t\t\t(secphiPrime / (120.0 * Math.pow(v, 5.0)))\r\n\t\t\t* (5.0\r\n\t\t\t\t+ (28.0 * tanphiPrime2)\r\n\t\t\t\t+ (24.0 * tanphiPrime2 * tanphiPrime2));\r\n\t\tconst XIIA =\r\n\t\t\t(secphiPrime / (5040.0 * Math.pow(v, 7.0)))\r\n\t\t\t* (61.0\r\n\t\t\t\t+ (662.0 * tanphiPrime2)\r\n\t\t\t\t+ (1320.0 * tanphiPrime2 * tanphiPrime2)\r\n\t\t\t\t+ (720.0\r\n\t\t\t\t\t* tanphiPrime2\r\n\t\t\t\t\t* tanphiPrime2\r\n\t\t\t\t\t* tanphiPrime2));\r\n\t\tconst phi =\r\n\t\t\tphiPrime\r\n\t\t\t- (VII * Math.pow(E - E0, 2.0))\r\n\t\t\t+ (VIII * Math.pow(E - E0, 4.0))\r\n\t\t\t- (IX * Math.pow(E - E0, 6.0));\r\n\t\tconst lambda =\r\n\t\t\tlambda0\r\n\t\t\t+ (X * (E - E0))\r\n\t\t\t- (XI * Math.pow(E - E0, 3.0))\r\n\t\t\t+ (XII * Math.pow(E - E0, 5.0))\r\n\t\t\t- (XIIA * Math.pow(E - E0, 7.0));\r\n\r\n\t\treturn (new LatLngGB(rad2deg * phi, rad2deg * lambda)).to_WGS84();\r\n\t}\r\n}\r\n\r\nexport class GridCoordsIE extends GridCoords {\r\n\t/**\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tcountry = 'IE';\r\n\r\n\t/**\r\n\t * @type {GridCoordsIE}\r\n\t */\r\n\tgridCoords = null;\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} easting metres\r\n\t * @param {number} northing metres\r\n\t * @constructor\r\n\t * @returns {GridCoordsIE}\r\n\t */\r\n\tconstructor(easting, northing) {\r\n\t\tsuper();\r\n\t\tthis.x = easting;\r\n\t\tthis.y = northing;\r\n\t}\r\n\r\n\r\n\tstatic irishGrid = {\r\n\t\t0: ['V', 'Q', 'L', 'F', 'A'],\r\n\t\t1: ['W', 'R', 'M', 'G', 'B'],\r\n\t\t2: ['X', 'S', 'N', 'H', 'C'],\r\n\t\t3: ['Y', 'T', 'O', 'J', 'D']\r\n\t};\r\n\r\n\t/**\r\n\t * convert easting,northing to a WGS84 lat lng\r\n\t *\r\n\t * @returns {LatLngWGS84}\r\n\t */\r\n\tto_latLng() {\r\n\t\t//converts OSI coords to lat/long.\r\n\r\n\t\t// modified from OSGBtoLL, Equations from USGS Bulletin 1532\r\n\t\t//East Longitudes are positive, West longitudes are negative.\r\n\t\t//North latitudes are positive, South latitudes are negative\r\n\t\t//Lat and Long are in decimal degrees.\r\n\t\t//Written by Chuck Gantz- chuck.gantz@globalstar.com\r\n\r\n\t\t// php transliteration by TH\r\n\r\n\t\t//OSIENorthing = this.y;\r\n\t\t//OSIEEasting = this.x;\r\n\r\n\t\t//constants\r\n\t\t//PI = 3.14159265;\r\n\t\t//FOURTHPI = M_PI / 4.0;\r\n\t\t//DEG2RAD = M_PI / 180.0;\r\n\t\t//RAD2DEG = 180.0 / M_PI;\r\n\t\t// ////////////////\r\n\r\n\t\tconst k0 = 1.000035; // scale factor\r\n\t\t//double a;\r\n\t\t//double eccPrimeSquared;\r\n\t\t//double N1, T1, C1, R1, D, M;\r\n\t\tconst LongOrigin = -8.0;\r\n\t\t//LatOrigin = 53.5;\r\n\t\t//LatOriginRad = LatOrigin * DEG2RAD;\r\n\r\n\t\t//UK\r\n\t\t//majoraxis=6377563.396; //Airy\r\n\t\t//a=6377563.396;\r\n\t\t//minoraxis = 6356256.91; //Airy\r\n\r\n\t\t//IE\r\n\t\t//majoraxis = 6377340.189; //Airy\r\n\t\tconst a = 6377340.189;\r\n\t\t//minoraxis = 6356034.447; //Airy\r\n\r\n\t\t//eccSquared = (majoraxis * majoraxis - minoraxis * minoraxis) / (majoraxis * majoraxis);\r\n\t\tconst eccSquared = 0.0066705402933363;\r\n\r\n\t\t//e1 = (1-Math.sqrt(1-eccSquared))/(1+Math.sqrt(1-eccSquared));\r\n\t\tconst e1 = 0.0016732203841521;\r\n\t\t//error_log(\"eccSquared={eccSquared} e1={e1}\");\r\n\r\n\t\t//only calculate M0 once since it is based on the origin of the OSGB projection, which is fixed\r\n\t\t//M0 = a*((1\t- eccSquared/4\t\t- 3*eccSquared*eccSquared/64\t- 5*eccSquared*eccSquared*eccSquared/256)*LatOriginRad\r\n\t\t//\t- (3*eccSquared/8\t+ 3*eccSquared*eccSquared/32\t+ 45*eccSquared*eccSquared*eccSquared/1024)*Math.sin(2*LatOriginRad)\r\n\t\t//\t+ (15*eccSquared*eccSquared/256 + 45*eccSquared*eccSquared*eccSquared/1024)*Math.sin(4*LatOriginRad)\r\n\t\t//\t- (35*eccSquared*eccSquared*eccSquared/3072)*Math.sin(6*LatOriginRad));\r\n\t\t//error_log(\"M0 = {M0}\");\r\n\t\tconst M0 = 5929615.3530033;\r\n\r\n\t\t//OSGBSquareToRefCoords(OSGBZone, RefEasting, RefNorthing); // Assume supplied MapInfo northing and easting take this into account\r\n\t\tconst x = this.x - 200000.0; //remove 400,000 meter false easting for longitude\r\n\t\tconst y = this.y - 250000.0; //remove 100,000 meter false easting for longitude\r\n\r\n\t\t//eccPrimeSquared = (eccSquared)/(1.0-eccSquared);\r\n\t\tconst eccPrimeSquared = 0.0067153352074207;\r\n\t\t//error_log(\"eccPrimeSquared={eccPrimeSquared}\");\r\n\r\n\t\tconst M = M0 + y / k0;\r\n\t\tconst mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));\r\n\r\n\t\tconst phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu)\r\n\t\t\t+ (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu)\r\n\t\t\t+ (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);\r\n\t\t//phi1 = phi1Rad*RAD2DEG;\r\n\r\n\t\tconst N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));\r\n\t\tconst T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);\r\n\t\tconst C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);\r\n\t\tconst R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);\r\n\t\tconst D = x / (N1 * k0);\r\n\r\n\t\tlet Lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24\r\n\t\t\t+ (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);\r\n\t\tLat = Lat * rad2deg;\r\n\r\n\t\tlet Long = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1)\r\n\t\t\t* D * D * D * D * D / 120) / Math.cos(phi1Rad);\r\n\r\n\t\tLong = LongOrigin + Long * rad2deg;\r\n\r\n\t\t//return new LatLng(Lat, Long);\r\n\r\n\t\t//var ll = new LatLngIE(Lat, Long); // Irish projection (modified Airy)\r\n\t\t//ll.IE_to_WGS84(); // google earth uses WGS84\r\n\r\n\t\t//return ll;\r\n\r\n\t\treturn (new LatLngIE(Lat, Long)).to_WGS84();\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} precision metres\r\n\t * @returns {String}\r\n\t */\r\n\tto_gridref(precision) {\r\n\t\tconst hundredkmE = Math.floor(this.x / 100000),\r\n\t\t\thundredkmN = Math.floor(this.y / 100000);\r\n\t\tif (GridCoordsIE.irishGrid[hundredkmE] && GridCoordsIE.irishGrid[hundredkmE][hundredkmN]) {\r\n\r\n\t\t\treturn _e_n_to_gr(GridCoordsIE.irishGrid[hundredkmE][hundredkmN],\r\n\t\t\t\t(this.x - (100000 * hundredkmE)),\r\n\t\t\t\t(this.y - (100000 * hundredkmN)),\r\n\t\t\t\tprecision ? precision : 1\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @return {string} hectad\r\n\t */\r\n\tto_hectad() {\r\n\t\tconst hundredkmE = Math.floor(this.x / 100000), hundredkmN = Math.floor(this.y / 100000);\r\n\t\tif (GridCoordsIE.irishGrid[hundredkmE] && GridCoordsIE.irishGrid[hundredkmE][hundredkmN]) {\r\n\t\t\treturn (GridCoordsIE.irishGrid[hundredkmE][hundredkmN]) + Math.floor((this.x % 100000) / 10000) + Math.floor((this.y % 100000) / 10000);\r\n\t\t} else {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class GridCoordsCI extends GridCoords {\r\n\t/**\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tcountry = 'CI';\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} easting metres\r\n\t * @param {number} northing metres\r\n\t * @constructor\r\n\t * @returns {GridCoordsCI}\r\n\t */\r\n\tconstructor(easting, northing) {\r\n\t\tsuper();\r\n\r\n\t\tthis.x = easting;\r\n\t\tthis.y = northing;\r\n\t}\r\n\r\n\t/**\r\n\t * convert easting,northing to a WGS84 lat lng\r\n\t *\r\n\t * @returns {LatLngWGS84}\r\n\t */\r\n\tto_latLng() {\r\n\t\t//nX = north;\r\n\t\t//ex = east;\r\n\r\n\t\tconst a = 6378388.000;       // INT24 ED50 semi-major\r\n\t\tconst b = 6356911.946;       // INT24 ED50 semi-minor\r\n\t\tconst e0 = 500000;           // easting of false origin\r\n\t\tconst n0 = 0;                // northing of false origin\r\n\t\tconst f0 = 0.9996;           // INT24 ED50 scale factor on central meridian\r\n\t\tconst e2 = 0.0067226700223333;  // INT24 ED50 eccentricity squared\r\n\t\tconst lam0 = -0.0523598775598;  // INT24 ED50 false east\r\n\t\tconst phi0 = 0; //0 * deg2rad;    // INT24 ED50 false north\r\n\r\n\t\tconst af0 = a * f0;\r\n\t\tconst bf0 = b * f0;\r\n\t\tconst n = (af0 - bf0) / (af0 + bf0);\r\n\t\tconst Et = this.x - e0;\r\n\t\tconst phid = _initial_lat(this.y, n0, af0, phi0, n, bf0);\r\n\t\tconst nu = af0 / (Math.sqrt(1 - (e2 * (Math.sin(phid) * Math.sin(phid)))));\r\n\t\tconst rho = (nu * (1 - e2)) / (1 - (e2 * (Math.sin(phid)) * (Math.sin(phid))));\r\n\t\tconst eta2 = (nu / rho) - 1;\r\n\t\tconst tlat2 = Math.tan(phid) * Math.tan(phid);\r\n\t\tconst tlat4 = Math.pow(Math.tan(phid), 4);\r\n\t\tconst tlat6 = Math.pow(Math.tan(phid), 6);\r\n\t\tconst clatm1 = Math.pow(Math.cos(phid), -1);\r\n\t\tconst VII = Math.tan(phid) / (2 * rho * nu);\r\n\t\tconst VIII = (Math.tan(phid) / (24 * rho * (nu * nu * nu))) * (5 + (3 * tlat2) + eta2 - (9 * eta2 * tlat2));\r\n\t\tconst IX = ((Math.tan(phid)) / (720 * rho * Math.pow(nu, 5))) * (61 + (90 * tlat2) + (45 * tlat4));\r\n\t\tconst phip = (phid - ((Et * Et) * VII) + (Math.pow(Et, 4) * VIII) - (Math.pow(Et, 6) * IX));\r\n\t\tconst X = Math.pow(Math.cos(phid), -1) / nu;\r\n\t\tconst XI = (clatm1 / (6 * (nu * nu * nu))) * ((nu / rho) + (2 * (tlat2)));\r\n\t\tconst XII = (clatm1 / (120 * Math.pow(nu, 5))) * (5 + (28 * tlat2) + (24 * tlat4));\r\n\t\tconst XIIA = clatm1 / (5040 * Math.pow(nu, 7)) * (61 + (662 * tlat2) + (1320 * tlat4) + (720 * tlat6));\r\n\t\tconst lambdap = (lam0 + (Et * X) - ((Et * Et * Et) * XI) + (Math.pow(Et, 5) * XII) - (Math.pow(Et, 7) * XIIA));\r\n\r\n\t\t// var WGS84_AXIS = 6378137;\r\n\t\t// var WGS84_ECCENTRIC = 0.00669438037928458;\r\n\t\t//\r\n\t\t// var INT24_AXIS = 6378388.000;\r\n\t\t// var INT24_ECCENTRIC = 0.0067226700223333;\r\n\t\t// var height = 10;  // dummy height\r\n\t\t// //var latLngRadians = LatLng._transform(phip, lambdap, INT24_AXIS, INT24_ECCENTRIC, height, WGS84_AXIS, WGS84_ECCENTRIC, -83.901, -98.127, -118.635, 0, 0, 0, 0);\r\n\r\n\t\tconst latLngRadians = convert_to_wgs(phip, lambdap);\r\n\t\treturn new LatLngWGS84(latLngRadians.lat * rad2deg, latLngRadians.lng * rad2deg);\r\n\r\n\t\t//return (new LatLngCI(rad2deg * phip, rad2deg * lambdap)).to_WGS84()\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {number} precision metres\r\n\t * @returns {?string}\r\n\t */\r\n\tto_gridref(precision) {\r\n\t\tif (this.y >= 5500000) {\r\n\t\t\treturn _e_n_to_gr('WA', this.x - 500000, this.y - 5500000, precision ? precision : 1);\r\n\t\t} else if (this.y < 5500000) {\r\n\t\t\treturn _e_n_to_gr('WV', this.x - 500000, this.y - 5400000, precision ? precision : 1);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @returns {?string}\r\n\t */\r\n\tto_hectad() {\r\n\t\tif (this.y > 5500000) {\r\n\t\t\treturn 'WA' + this.x.toString().substring(1, 2) + this.y.toString().substring(2, 3);\r\n\t\t} else if (this.y < 5500000) {\r\n\t\t\treturn 'WV' + this.x.toString().substring(1, 2) + this.y.toString().substring(2, 3);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst convert_to_wgs = function(phip, lambdap) {\r\n\tconst WGS84_AXIS = 6378137;\r\n\tconst WGS84_ECCENTRIC = 0.00669438037928458;\r\n\t//OSGB_AXIS = 6377563.396;\r\n\t//OSGB_ECCENTRIC = 0.0066705397616;\r\n\t//IRISH_AXIS = 6377340.189;\r\n\t//IRISH_ECCENTRIC = 0.00667054015;\r\n\tconst INT24_AXIS = 6378388.000;\r\n\tconst INT24_ECCENTRIC = 0.0067226700223333;\r\n\tconst height = 10;  // dummy height\r\n\treturn LatLng._transform(phip, lambdap, INT24_AXIS, INT24_ECCENTRIC, height, WGS84_AXIS, WGS84_ECCENTRIC, -83.901, -98.127, -118.635, 0, 0, 0, 0);\r\n};\r\n\r\nconst _initial_lat = function(north, n0, af0, phi0, n, bf0) {\r\n\tlet phi1 = ((north - n0) / af0) + phi0;\r\n\tlet M = LatLng._Marc(bf0, n, phi0, phi1);\r\n\tlet phi2 = ((north - n0 - M) / af0) + phi1;\r\n\tlet ind = 0;\r\n\twhile ((Math.abs(north - n0 - M) > 0.00001) && (ind < 20))  // max 20 iterations in case of error\r\n\t{\r\n\t\tind += 1;\r\n\t\tphi2 = ((north - n0 - M) / af0) + phi1;\r\n\t\tM = LatLng._Marc(bf0, n, phi0, phi2);\r\n\t\tphi1 = phi2;\r\n\t}\r\n\treturn phi2;\r\n};\r\n","import {GridRef} from './GridRef';\r\nimport {GridCoordsCI} from '../GridCoords/GridCoords';\r\n\r\nexport class GridRefCI extends GridRef {\r\n\t/**\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tcountry = 'CI';\r\n\r\n\t/**\r\n\t *\r\n\t * @type {typeof GridCoordsCI}\r\n\t */\r\n\tGridCoords = GridCoordsCI;\r\n\r\n\t/**\r\n\t * @type {GridCoordsCI}\r\n\t */\r\n\tgridCoords = null;\r\n\r\n\t/**\r\n\t * @constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.parse_well_formed = this.from_string;\r\n\t};\r\n\r\n\t/**\r\n\t *\r\n\t * @param {string} rawGridRef\r\n\t * @throws Error\r\n\t */\r\n\tfrom_string(rawGridRef) {\r\n\t\tlet trimmedLocality = rawGridRef.replace(/[\\[\\]\\s\\t.\\/-]+/g, '').toUpperCase();\r\n\t\tlet tetradCode = '';\r\n\t\tlet enl;\r\n\r\n\t\tif (/[ABCDEFGHIJKLMNPQRSTUVWXYZ]$/.test(trimmedLocality)) {\r\n\t\t\t// tetrad or quadrant\r\n\r\n\t\t\tif (GridRef.quadrantOffsets.hasOwnProperty(trimmedLocality.substring(trimmedLocality.length - 2))) {\r\n\t\t\t\tthis.quadrantCode = trimmedLocality.substring(trimmedLocality.length - 2);\r\n\t\t\t\ttrimmedLocality = trimmedLocality.substring(0, trimmedLocality.length - 2);\r\n\t\t\t} else {\r\n\t\t\t\ttetradCode = trimmedLocality.charAt(trimmedLocality.length - 1);\r\n\t\t\t\ttrimmedLocality = trimmedLocality.substring(0, trimmedLocality.length - 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (/^(W[AV](?:\\d\\d){1,5})$/.test(trimmedLocality)) {\r\n\t\t\tif ((enl = GridRefCI.gridref_string_to_e_n_l(trimmedLocality))) {\r\n\t\t\t\tthis.length = enl.length;\r\n\r\n\t\t\t\tthis.gridCoords = new GridCoordsCI(enl.e, enl.n);\r\n\t\t\t\tthis.hectad = this.gridCoords.to_gridref(10000);\r\n\r\n\t\t\t\tif (this.length === 10000 && (tetradCode || this.quadrantCode)) {\r\n\t\t\t\t\tif (tetradCode) {\r\n\t\t\t\t\t\tthis.preciseGridRef = trimmedLocality + tetradCode;\r\n\t\t\t\t\t\tthis.tetrad = this.hectad + tetradCode;\r\n\t\t\t\t\t\tthis.tetradLetter = tetradCode;\r\n\t\t\t\t\t\tthis.length = 2000; // 2km square\r\n\t\t\t\t\t\tthis.gridCoords.x += GridRef.tetradOffsets[tetradCode][0];\r\n\t\t\t\t\t\tthis.gridCoords.y += GridRef.tetradOffsets[tetradCode][1];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// quadrant\r\n\t\t\t\t\t\tthis.preciseGridRef = trimmedLocality + this.quadrantCode;\r\n\t\t\t\t\t\tthis.tetradLetter = '';\r\n\t\t\t\t\t\tthis.tetrad = '';\r\n\t\t\t\t\t\tthis.quadrant = this.preciseGridRef;\r\n\t\t\t\t\t\tthis.length = 5000; // 5km square\r\n\t\t\t\t\t\tthis.gridCoords.x += GridRef.quadrantOffsets[this.quadrantCode][0];\r\n\t\t\t\t\t\tthis.gridCoords.y += GridRef.quadrantOffsets[this.quadrantCode][1];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.preciseGridRef = trimmedLocality;\r\n\r\n\t\t\t\t\tif (this.length <= 1000) {\r\n\t\t\t\t\t\t// calculate tetrad for precise gridref\r\n\t\t\t\t\t\tthis.set_tetrad();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.error = true;\r\n\t\t\t\tthis.errorMessage = 'Grid reference format not understood (odd length).';\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// no match\r\n\t\t\tthis.error = true;\r\n\t\t\tthis.errorMessage = \"Channel Island grid reference format not understood. ('\" + rawGridRef + \"')\";\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param {string} gridRef plain string without tetrad or quadrant suffix\r\n\t * @return {(boolean|{e : number, n : number, length : number})}\r\n\t * returns false on error or object {'e' : easting, 'n' : northing, 'length' : length}\r\n\t */\r\n\tstatic gridref_string_to_e_n_l(gridRef) {\r\n\t\tlet northOffset, x, y, length;\r\n\r\n\t\t// assume modern alphabetical sheet ref\r\n\t\tlet chars = gridRef.substring(0, 2);\r\n\r\n\t\tif (chars === 'WA') {\r\n\t\t\tnorthOffset = 5500000;\r\n\t\t} else if (chars === 'WV') {\r\n\t\t\tnorthOffset = 5400000;\r\n\t\t} else {\r\n\t\t\tconsole.log(\"Bad Channel Island grid letters: '\" + chars + \"'\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet ref = gridRef.substring(2);\r\n\t\tswitch (ref.length) {\r\n\t\t\tcase 2:\r\n\t\t\t\tx = ref.charAt(0) * 10000;\r\n\t\t\t\ty = ref.charAt(1) * 10000;\r\n\t\t\t\tlength = 10000; //10 km square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 4:\r\n\t\t\t\tx = ref.substring(0, 2) * 1000;\r\n\t\t\t\ty = ref.substring(2) * 1000;\r\n\t\t\t\tlength = 1000; //1 km square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 6:\r\n\t\t\t\tx = ref.substring(0, 3) * 100;\r\n\t\t\t\ty = ref.substring(3) * 100;\r\n\t\t\t\tlength = 100; //100m square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 8:\r\n\t\t\t\tx = ref.substring(0, 4) * 10;\r\n\t\t\t\ty = ref.substring(4) * 10;\r\n\t\t\t\tlength = 10; //10m square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 10:\r\n\t\t\t\tx = parseInt(ref.substring(0, 5), 10);\r\n\t\t\t\ty = parseInt(ref.substring(5), 10);\r\n\t\t\t\tlength = 1; //1m square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"Bad length for Channel Island grid ref '\" + gridRef + \"'\");\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\te: (x + 500000),\r\n\t\t\tn: (y + northOffset),\r\n\t\t\tlength: length\r\n\t\t};\r\n\t}\r\n}\r\n","'use strict';\nvar call = require('../internals/function-call');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar getMethod = require('../internals/get-method');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : getMethod(regexp, MATCH);\n      return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeMatch, rx, S);\n\n      if (res.done) return res.value;\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = toString(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","import {GridRef} from './GridRef';\r\nimport {GridCoordsGB} from '../GridCoords/GridCoords';\r\n\r\nexport class GridRefGB extends GridRef {\r\n\t/**\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tcountry = 'GB';\r\n\r\n\t/**\r\n\t *\r\n\t * @type {typeof GridCoordsGB}\r\n\t */\r\n\tGridCoords = GridCoordsGB;\r\n\r\n\t/**\r\n\t * @type {GridCoordsGB}\r\n\t */\r\n\tgridCoords = null;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t/**\r\n\t * gridref known to have correct syntax\r\n\t * may have tetrad or quadrant suffix\r\n\t *\r\n\t * @param {string} rawGridRef\r\n\t * @throws Error\r\n\t */\r\n\tparse_well_formed(rawGridRef) {\r\n\r\n\t\tif (rawGridRef.length >= 5 && /^[A-Z]/.test(rawGridRef.charAt(4))) {\r\n\t\t\t// tetrad or quadrant\r\n\r\n\t\t\tif (GridRef.quadrantOffsets.hasOwnProperty(rawGridRef.substring(rawGridRef.length - 2))) {\r\n\t\t\t\tthis.quadrantCode = rawGridRef.substring(rawGridRef.length - 2);\r\n\t\t\t} else {\r\n\t\t\t\tthis.tetradLetter = rawGridRef.charAt(4);\r\n\t\t\t}\r\n\r\n\t\t\trawGridRef = rawGridRef.substring(0, 4);\r\n\t\t}\r\n\r\n\t\t//this sets easting/northing, length and hectad\r\n\t\tthis.parse_wellformed_gb_gr_string_no_tetrads(rawGridRef);\r\n\r\n\t\tif (this.tetradLetter || this.quadrantCode) {\r\n\t\t\t// tetrad or quadrant suffix\r\n\r\n\t\t\tif (this.tetradLetter) {\r\n\t\t\t\tthis.preciseGridRef = this.tetrad = this.hectad + this.tetradLetter;\r\n\t\t\t\tthis.length = 2000; // 2km square\r\n\t\t\t\tthis.gridCoords.x += GridRef.tetradOffsets[this.tetradLetter][0];\r\n\t\t\t\tthis.gridCoords.y += GridRef.tetradOffsets[this.tetradLetter][1];\r\n\t\t\t} else {\r\n\t\t\t\t// quadrant\r\n\t\t\t\tthis.preciseGridRef = this.quadrant = rawGridRef + this.quadrantCode;\r\n\t\t\t\tthis.length = 5000; // 5km square\r\n\t\t\t\tthis.gridCoords.x += GridRef.quadrantOffsets[this.quadrantCode][0];\r\n\t\t\t\tthis.gridCoords.y += GridRef.quadrantOffsets[this.quadrantCode][1];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.preciseGridRef = rawGridRef;\r\n\r\n\t\t\tif (this.length <= 1000) {\r\n\t\t\t\t// calculate tetrad for precise gridref\r\n\t\t\t\tthis.set_tetrad();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {string} rawGridRef\r\n\t * @throws Error\r\n\t */\r\n\tfrom_string(rawGridRef) {\r\n\t\t// grid ref may not be in canonical format\r\n\t\tlet trimmedLocality = rawGridRef.replace(/[\\[\\]\\s\\t.-]+/g, '').toUpperCase();\r\n\t\tlet tetradCode = '';\r\n\t\tlet ref;\r\n\r\n\t\tif (/[ABCDEFGHIJKLMNPQRSTUVWXYZ]$/.test(trimmedLocality)) {\r\n\t\t\t// tetrad or quadrant\r\n\r\n\t\t\tif (GridRef.quadrantOffsets.hasOwnProperty(trimmedLocality.substring(trimmedLocality.length - 2))) {\r\n\t\t\t\tthis.quadrantCode = trimmedLocality.substring(trimmedLocality.length - 2);\r\n\t\t\t\ttrimmedLocality = trimmedLocality.substring(0, trimmedLocality.length - 2);\r\n\t\t\t} else {\r\n\t\t\t\ttetradCode = trimmedLocality.charAt(trimmedLocality.length - 1);\r\n\t\t\t\ttrimmedLocality = trimmedLocality.substring(0, trimmedLocality.length - 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// if all numeric gridref, e.g. 38517462 then\r\n\t\t// split with '/', i.e. 38/517462\r\n\t\tif (trimmedLocality === parseInt(trimmedLocality, 10).toString()) {\r\n\t\t\ttrimmedLocality = trimmedLocality.substring(0, 2) + '/' + trimmedLocality.substring(2);\r\n\t\t} else if (trimmedLocality.length > 3 && trimmedLocality.charAt(2) === '/' && /^[A-Z]{2}$/.test(trimmedLocality.substring(0, 2))) {\r\n\t\t\t// preprocess refs of form SD/59 to SD59\r\n\t\t\t// but at this stage want to retain old-style nn/nnnn gridrefs\r\n\t\t\ttrimmedLocality = trimmedLocality.replace('/', '');\r\n\t\t}\r\n\r\n\t\tif (trimmedLocality.substring(0, 2) === 'VC') {\r\n\t\t\t// special case error, VC number entered in the wrong field\r\n\t\t\tthis.error = true;\r\n\t\t\tthis.errorMessage = \"Misplaced vice-county code in grid-reference field. ('\" + trimmedLocality + \"')\";\r\n\t\t\tthis.gridCoords = null;\r\n\t\t\tthis.length = 0;\r\n\t\t} else if ((ref = trimmedLocality.match(/^([HJNOST][ABCDEFGHJKLMNOPQRSTUVWXYZ](?:\\d\\d){1,5})$/)) !== null) {\r\n\t\t\ttrimmedLocality = ref[0]; //grid reference\r\n\r\n\t\t\tthis.parse_wellformed_gb_gr_string_no_tetrads(trimmedLocality);\r\n\r\n\t\t\tif (this.length > 0) {\r\n\t\t\t\tif (this.length === 10000 && (tetradCode || this.quadrantCode)) {\r\n\t\t\t\t\t// tetrad or quadrant suffix\r\n\r\n\t\t\t\t\tif (tetradCode) {\r\n\t\t\t\t\t\tthis.preciseGridRef = trimmedLocality + tetradCode;\r\n\t\t\t\t\t\tthis.tetradLetter = tetradCode;\r\n\t\t\t\t\t\tthis.tetrad = this.hectad + tetradCode;\r\n\t\t\t\t\t\tthis.length = 2000; // 2km square\r\n\t\t\t\t\t\tthis.gridCoords.x += GridRef.tetradOffsets[tetradCode][0];\r\n\t\t\t\t\t\tthis.gridCoords.y += GridRef.tetradOffsets[tetradCode][1];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// quadrant\r\n\t\t\t\t\t\tthis.preciseGridRef = trimmedLocality + this.quadrantCode;\r\n\t\t\t\t\t\tthis.tetradLetter = '';\r\n\t\t\t\t\t\tthis.tetrad = '';\r\n\t\t\t\t\t\tthis.quadrant = this.preciseGridRef;\r\n\t\t\t\t\t\tthis.length = 5000; // 5km square\r\n\t\t\t\t\t\tthis.gridCoords.x += GridRef.quadrantOffsets[this.quadrantCode][0];\r\n\t\t\t\t\t\tthis.gridCoords.y += GridRef.quadrantOffsets[this.quadrantCode][1];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.preciseGridRef = trimmedLocality;\r\n\r\n\t\t\t\t\tif (this.length <= 1000) {\r\n\t\t\t\t\t\t// calculate tetrad for precise gridref\r\n\t\t\t\t\t\tthis.set_tetrad();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.error = true;\r\n\t\t\t\tthis.errorMessage = 'GB grid reference format not understood (strange length).';\r\n\t\t\t}\r\n\t\t} else if (/^([\\d]{2})\\/((?:\\d\\d){1,5})$/.test(trimmedLocality)) {\r\n\t\t\t// matching old-style nn/nnnn gridrefs\r\n\t\t\t// where second-part must have even-number of digits\r\n\r\n\t\t\tthis.parse_gr_string_without_tetrads(trimmedLocality);\r\n\r\n\t\t\tswitch (this.length) {\r\n\t\t\t\tcase 10000:\r\n\t\t\t\t\ttrimmedLocality = this.gridCoords.to_gridref(10000);\r\n\t\t\t\t\tthis.hectad = trimmedLocality;\r\n\r\n\t\t\t\t\tif (tetradCode) {\r\n\t\t\t\t\t\ttrimmedLocality += tetradCode;\r\n\t\t\t\t\t\tthis.tetradLetter = tetradCode;\r\n\t\t\t\t\t\tthis.tetrad = this.hectad + tetradCode;\r\n\t\t\t\t\t\tthis.length = 2000; // 2km square\r\n\t\t\t\t\t\tthis.gridCoords.x += GridRef.tetradOffsets[tetradCode][0];\r\n\t\t\t\t\t\tthis.gridCoords.y += GridRef.tetradOffsets[tetradCode][1];\r\n\t\t\t\t\t} else if (this.quadrantCode) {\r\n\t\t\t\t\t\ttrimmedLocality += this.quadrantCode;\r\n\t\t\t\t\t\tthis.quadrant = trimmedLocality;\r\n\t\t\t\t\t\tthis.length = 5000; // 5km square\r\n\t\t\t\t\t\tthis.gridCoords.x += GridRef.quadrantOffsets[this.quadrantCode][0];\r\n\t\t\t\t\t\tthis.gridCoords.y += GridRef.quadrantOffsets[this.quadrantCode][1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1000:\r\n\t\t\t\tcase 100:\r\n\t\t\t\tcase 10:\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\ttrimmedLocality = this.gridCoords.to_gridref(this.length);\r\n\t\t\t\t\tthis.hectad = this.gridCoords.to_gridref(10000);\r\n\t\t\t\t\tthis.set_tetrad();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.error = true;\r\n\t\t\t\t\tthis.errorMessage = 'Bad grid square dimension (' + this.length + ' m).';\r\n\t\t\t\t\tthis.gridCoords = null;\r\n\t\t\t\t\tthis.length = 0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.preciseGridRef = trimmedLocality;\r\n\t\t} else {\r\n\t\t\t// no match\r\n\t\t\tthis.gridCoords = null;\r\n\t\t\tthis.length = 0;\r\n\t\t\tthis.error = true;\r\n\t\t\tthis.errorMessage = \"Grid reference format not understood. ('\" + rawGridRef + \"')\";\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * sets easting, northing and length (in km)\r\n\t * source grid-reference need not be well-formed\r\n\t *\r\n\t * @param {string} gridRef either nn/nn... or aann...\r\n\t */\r\n\tparse_gr_string_without_tetrads(gridRef) {\r\n\t\tlet matches, x, y, ref;\r\n\r\n\t\tif ((matches = gridRef.match(/^(\\d{2})\\/((?:\\d\\d){1,5})$/)) !== null) {\r\n\r\n\t\t\t// old style numerical sheet ref XY/nnnnnn\r\n\t\t\t// nnnn part must have even length\r\n\r\n\t\t\t// northern scottish islands have eccentric numbering\r\n\t\t\tswitch (matches[1]) {\r\n\t\t\t\tcase '57':\r\n\t\t\t\t\tx = 300000;\r\n\t\t\t\t\ty = 1000000;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase '67':\r\n\t\t\t\t\tx = 400000;\r\n\t\t\t\t\ty = 1000000;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase '58':\r\n\t\t\t\t\tx = 300000;\r\n\t\t\t\t\ty = 1100000;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase '68':\r\n\t\t\t\t\tx = 400000;\r\n\t\t\t\t\ty = 1100000;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase '69':\r\n\t\t\t\t\tx = 400000;\r\n\t\t\t\t\ty = 1200000;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tx = gridRef.charAt(0) * 100000;\r\n\t\t\t\t\ty = gridRef.charAt(1) * 100000;\r\n\t\t\t}\r\n\r\n\t\t\tref = matches[2];\r\n\t\t} else {\r\n\t\t\t// modern alphabetical sheet ref\r\n\t\t\tif (!GridRef.letterMapping.hasOwnProperty(gridRef.charAt(0)) || !GridRef.letterMapping.hasOwnProperty(gridRef.charAt(1))) {\r\n\t\t\t\t// invalid\r\n\t\t\t\tthis.length = 0;\r\n\t\t\t\tthis.gridCoords = null;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet char1 = GridRef.letterMapping[gridRef.charAt(0)];\r\n\t\t\tlet char2 = GridRef.letterMapping[gridRef.charAt(1)];\r\n\t\t\tref = gridRef.substring(2);\r\n\r\n\t\t\tx = ((char1 % 5) * 500000) + ((char2 % 5) * 100000) - 1000000;\r\n\t\t\ty = (-Math.floor(char1 / 5) * 500000) - (Math.floor(char2 / 5) * 100000) + 1900000;\r\n\t\t}\r\n\r\n\t\tswitch (ref.length) {\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + ref.charAt(0) * 10000, // use first digit of ref\r\n\t\t\t\t\ty + ref.charAt(1) * 10000 // use second digit of ref\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 10000; //10 km square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 4:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + Math.floor(ref / 100) * 1000,\r\n\t\t\t\t\ty + (ref % 100) * 1000\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 1000; //1 km square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 6:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + Math.floor(ref / 1000) * 100,\r\n\t\t\t\t\ty + (ref % 1000) * 100\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 100; //100m square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 8:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + Math.floor(ref / 10000) * 10,\r\n\t\t\t\t\ty + (ref % 10000) * 10\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 10; //10m square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 10:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + Math.floor(ref / 100000),\r\n\t\t\t\t\ty + (ref % 100000)\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 1; //1m square\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('Bad grid ref length, ref=' + gridRef);\r\n\t\t\t\tthis.gridCoords = null;\r\n\t\t\t\tthis.length = 0;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * gridRef must be a correctly formed OS GB grid-reference\r\n\t *\r\n\t * sets self::gridCoords\r\n\t * sets self::length\r\n\t * sets self::hectad\r\n\t *\r\n\t * @param {string} gridRef modern alphanumeric format with no suffixes\r\n\t * @throws Error\r\n\t */\r\n\tparse_wellformed_gb_gr_string_no_tetrads(gridRef) {\r\n\t\tlet char1, char2, ref, x, y;\r\n\r\n\t\t// modern alphabetical sheet refs only\r\n\t\tchar1 = GridRef.letterMapping[gridRef.charAt(0)];\r\n\t\tchar2 = GridRef.letterMapping[gridRef.charAt(1)];\r\n\t\tref = gridRef.substring(2);\r\n\r\n\t\tx = ((char1 % 5) * 500000) + ((char2 % 5) * 100000) - 1000000;\r\n\t\ty = (-Math.floor(char1 / 5) * 500000) - (Math.floor(char2 / 5) * 100000) + 1900000;\r\n\r\n\t\tswitch (ref.length) {\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + ref.charAt(0) * 10000, // use first digit of ref\r\n\t\t\t\t\ty + ref.charAt(1) * 10000 // use second digit of ref\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 10000; //10 km square\r\n\t\t\t\tthis.hectad = gridRef;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 4:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + (Math.floor(ref / 100) * 1000),\r\n\t\t\t\t\ty + ((ref % 100) * 1000)\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 1000; //1 km square\r\n\t\t\t\tthis.hectad = gridRef.substring(0, 3) + gridRef.charAt(4);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 6:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + (Math.floor(ref / 1000)) * 100,\r\n\t\t\t\t\ty + (ref % 1000) * 100\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 100; //100m square\r\n\t\t\t\tthis.hectad = gridRef.substring(0, 3) + gridRef.charAt(5);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 8:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + (Math.floor(ref / 10000)) * 10,\r\n\t\t\t\t\ty + (ref % 10000) * 10\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 10; //10m square\r\n\t\t\t\tthis.hectad = gridRef.substring(0, 3) + gridRef.charAt(6);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 10:\r\n\t\t\t\tthis.gridCoords = new GridCoordsGB(\r\n\t\t\t\t\tx + Math.floor(ref / 100000),\r\n\t\t\t\t\ty + (ref % 100000)\r\n\t\t\t\t);\r\n\t\t\t\tthis.length = 1; //1m square\r\n\t\t\t\tthis.hectad = gridRef.substring(0, 3) + gridRef.charAt(7);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthis.gridCoords = null;\r\n\t\t\t\tthrow new Error(\"Bad grid ref length when parsing supposedly well-formed ref, ref='\" + gridRef + \"'\");\r\n\t\t}\r\n\t}\r\n}\r\n","import {GridRef} from './GridRef';\r\nimport {GridCoordsIE} from '../GridCoords/GridCoords';\r\n\r\nexport class GridRefIE extends GridRef {\r\n  /**\r\n   * @constructor\r\n   */\r\n  constructor() {\r\n    super();\r\n    this.parse_well_formed = this.from_string;\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @type {string}\r\n   */\r\n  country = 'IE';\r\n\r\n  /**\r\n   *\r\n   * @type {typeof GridCoordsIE}\r\n   */\r\n  GridCoords = GridCoordsIE;\r\n\r\n  /**\r\n   * @type {GridCoordsIE}\r\n   */\r\n  gridCoords = null;\r\n\r\n  static gridLetter = {\r\n    A: [0, 4],\r\n    B: [1, 4],\r\n    C: [2, 4],\r\n    D: [3, 4],\r\n    F: [0, 3],\r\n    G: [1, 3],\r\n    H: [2, 3],\r\n    J: [3, 3],\r\n    L: [0, 2],\r\n    M: [1, 2],\r\n    N: [2, 2],\r\n    O: [3, 2],\r\n    Q: [0, 1],\r\n    R: [1, 1],\r\n    S: [2, 1],\r\n    T: [3, 1],\r\n    V: [0, 0],\r\n    W: [1, 0],\r\n    X: [2, 0],\r\n    Y: [3, 0]\r\n  };\r\n\r\n  /**\r\n   *\r\n   * @param {string} rawGridRef\r\n   * @throws Error\r\n   */\r\n  from_string(rawGridRef) {\r\n    let trimmedLocality = rawGridRef.replace(/[\\[\\]\\s\\t.-]+/g, '').toUpperCase();\r\n\r\n    if (/[ABCDEFGHIJKLMNPQRSTUVWXYZ]$/.test(trimmedLocality)) {\r\n      // tetrad or quadrant\r\n\r\n      if (GridRefIE.quadrantOffsets.hasOwnProperty(trimmedLocality.substring(trimmedLocality.length - 2))) {\r\n        this.quadrantCode = trimmedLocality.substring(trimmedLocality.length - 2);\r\n        trimmedLocality = trimmedLocality.substring(0, trimmedLocality.length - 2);\r\n      } else {\r\n        this.tetradLetter = trimmedLocality.substring(trimmedLocality.length - 1);\r\n        trimmedLocality = trimmedLocality.substring(0, trimmedLocality.length - 1);\r\n      }\r\n    }\r\n\r\n    this.parse_gr_string_without_tetrads(trimmedLocality);\r\n\r\n    if (this.length > 0) {\r\n      if (this.tetradLetter || this.quadrantCode) {\r\n        // tetrad or quadrant suffix\r\n\r\n        if (this.tetradLetter) {\r\n          this.preciseGridRef = this.hectad + this.tetradLetter;\r\n          this.tetrad = this.preciseGridRef;\r\n          this.length = 2000; // 2km square\r\n          this.gridCoords.x += GridRefIE.tetradOffsets[this.tetradLetter][0];\r\n          this.gridCoords.y += GridRefIE.tetradOffsets[this.tetradLetter][1];\r\n        } else {\r\n          // quadrant\r\n          this.preciseGridRef = this.hectad + this.quadrantCode;\r\n          this.quadrant = this.preciseGridRef;\r\n          this.length = 5000; // 5km square\r\n          this.gridCoords.x += GridRefIE.quadrantOffsets[this.quadrantCode][0];\r\n          this.gridCoords.y += GridRefIE.quadrantOffsets[this.quadrantCode][1];\r\n        }\r\n      } else {\r\n        this.preciseGridRef = trimmedLocality;\r\n\r\n        if (this.length <= 1000) {\r\n          // calculate tetrad for precise gridref\r\n          this.set_tetrad();\r\n        }\r\n      }\r\n    } else {\r\n      this.error = true;\r\n      this.errorMessage = \"Irish grid reference format not understood. ('\" + rawGridRef + \"')\";\r\n    }\r\n  }\r\n\r\n\r\n  static _IE_GRID_LETTERS = 'VQLFAWRMGBXSNHCYTOJD';\r\n\r\n  /**\r\n   *\r\n   * @param {string} gridRef nn/nnnn or [A-Z]nnnn or [A-Z]/nnnn (no other punctuation by this point), all upper-case\r\n   * @return boolean\r\n   */\r\n  parse_gr_string_without_tetrads(gridRef) {\r\n    let x, y, ref, char;\r\n\r\n    if (/^\\d{2}\\/(?:\\d\\d){1,5}$/.test(gridRef)) {\r\n      // nn/nnnn etc.\r\n      // regex used to avoid matching oddly malformed refs, such as \"32/SO763520\"\r\n\r\n      x = parseInt(gridRef.charAt(0), 10);\r\n      y = parseInt(gridRef.charAt(1), 10);\r\n\r\n      if (x > 3 || y > 4) {\r\n        console.log(\"bad grid square, ref='\" + gridRef + \"' (Ireland)\");\r\n        this.length = 0;\r\n        return false;\r\n      }\r\n\r\n      ref = gridRef.substring(3);\r\n      char = GridRefIE._IE_GRID_LETTERS.charAt((x * 5) + y);\r\n\r\n      x *= 100000;\r\n      y *= 100000;\r\n    } else {\r\n      // [A-Z]nnnn or [A-Z]/nnnn etc.\r\n      gridRef = gridRef.replace('/', '');\r\n\r\n      if (!/^[ABCDFGHJLMNOQRSTVWXY](?:\\d\\d){1,5}$/.test(gridRef)) {\r\n        this.length = 0;// mark error state\r\n        this.gridCoords = null;\r\n        return false;\r\n      }\r\n\r\n      if (gridRef) {\r\n        char = gridRef.charAt(0);\r\n        let p = GridRefIE._IE_GRID_LETTERS.indexOf(char);\r\n\r\n        if (p !== -1) {\r\n          x = Math.floor(p / 5) * 100000;\r\n          y = (p % 5) * 100000;\r\n        } else {\r\n          console.log(\"Bad grid ref grid-letter, ref='\" + gridRef + \"' (Ireland)\");\r\n          this.length = 0; // mark error\r\n          this.gridCoords = null;\r\n          return false;\r\n        }\r\n      } else {\r\n        console.log('Bad (empty) Irish grid ref');\r\n        this.length = 0; // mark error\r\n        this.gridCoords = null;\r\n        return false;\r\n      }\r\n\r\n      ref = gridRef.substring(1);\r\n    }\r\n\r\n    switch (ref.length) {\r\n      case 2:\r\n        this.gridCoords = new GridCoordsIE(\r\n            x + (ref.charAt(0) * 10000),\r\n            y + (ref.charAt(1) * 10000)\r\n        );\r\n        this.length = 10000; //10 km square\r\n        this.hectad = char + ref;\r\n        break;\r\n\r\n      case 4:\r\n        this.gridCoords = new GridCoordsIE(\r\n            x + Math.floor(ref / 100) * 1000,\r\n            y + (ref % 100) * 1000\r\n        );\r\n        this.length = 1000; //1 km square\r\n        this.hectad = char + ref.charAt(0) + ref.charAt(2);\r\n        break;\r\n\r\n      case 6:\r\n        this.gridCoords = new GridCoordsIE(\r\n            x + Math.floor(ref / 1000) * 100,\r\n            y + (ref % 1000) * 100\r\n        );\r\n        this.length = 100; // 100m square\r\n        this.hectad = char + ref.charAt(0) + ref.charAt(3);\r\n        break;\r\n\r\n      case 8:\r\n        this.gridCoords = new GridCoordsIE(\r\n            x + Math.floor(ref / 10000) * 10,\r\n            y + (ref % 10000) * 10\r\n        );\r\n        this.length = 10; //10m square\r\n        this.hectad = char + ref.charAt(0) + ref.charAt(4);\r\n        break;\r\n\r\n      case 10:\r\n        this.gridCoords = new GridCoordsIE(\r\n            x + Math.floor(ref / 100000),\r\n            y + (ref % 100000)\r\n        );\r\n        this.length = 1; //1m square\r\n        this.hectad = char + ref.charAt(0) + ref.charAt(5);\r\n        break;\r\n\r\n      default:\r\n        console.log(\"Bad grid ref length, ref='\" + gridRef + \"' (Ireland)\");\r\n        this.length = 0;\r\n        this.gridCoords = null;\r\n        return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import {GridRef} from './GridRef';\r\nimport {GridRefCI} from './GridRefCI';\r\nimport {GridRefGB} from './GridRefGB';\r\nimport {GridRefIE} from './GridRefIE';\r\n\r\n/**\r\n * returns a GridRef (GB, IE or CI-specific parser) or false\r\n * crudely tries to determine the country by trying each country in turn\r\n *\r\n * @param {string} rawGridRef\r\n * @return {(GridRefCI|GridRefGB|GridRefIE|boolean)}\r\n */\r\nGridRef.from_string = function(rawGridRef) {\r\n\tlet parser;\r\n\tlet cleanRef = rawGridRef.replace(/\\s+/g, '').toUpperCase();\r\n\r\n\tif (!cleanRef) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// if canonical ref form then be more efficient\r\n\tif (/^(?:[BCDFGHJLMNOQRSTVWXY]|[HJNOST][ABCDEFGHJKLMNOPQRSTUVWXYZ]|W[VA])\\d{2}(?:[A-Z]|[NS][EW]|(?:\\d{2}){0,4})?$/.test(cleanRef)) {\r\n\t\t// have simple well-formed grid ref\r\n\r\n\t\tif (/^.\\d/.test(cleanRef)) {\r\n\t\t\tparser = new GridRefIE();\r\n\t\t} else {\r\n\t\t\tif (cleanRef.charAt(0) === 'W') {\r\n\t\t\t\tparser = new GridRefCI();\r\n\t\t\t} else {\r\n\t\t\t\tparser = new GridRefGB();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tparser.parse_well_formed(cleanRef);\r\n\r\n\t\treturn (parser.length && !parser.error) ? parser : false;\r\n\t} else {\r\n\t\tparser = new GridRefGB();\r\n\t\tparser.from_string(cleanRef);\r\n\r\n\t\tif (parser.length && !parser.error) {\r\n\t\t\treturn parser;\r\n\t\t}\r\n\r\n\t\tif (cleanRef.charAt(0) === 'W') {\r\n\t\t\tparser = new GridRefCI();\r\n\t\t\tparser.from_string(cleanRef);\r\n\r\n\t\t\tif (parser.length && !parser.error) {\r\n\t\t\t\treturn parser;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tparser = new GridRefIE();\r\n\t\t\tparser.from_string(cleanRef);\r\n\r\n\t\t\tif (parser.length && !parser.error) {\r\n\t\t\t\treturn parser;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nexport {GridRef, GridRefCI, GridRefGB, GridRefIE};\r\n"],"names":["check","it","Math","global","globalThis","window","self","this","Function","fails","exec","error","descriptors","require$$0","Object","defineProperty","get","functionBindNative","test","bind","hasOwnProperty","NATIVE_BIND","call","prototype","functionCall","apply","arguments","$propertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","V","descriptor","enumerable","match","version","createPropertyDescriptor","bitmap","value","configurable","writable","FunctionPrototype","uncurryThis","functionUncurryThis","fn","toString","stringSlice","slice","classofRaw","require$$1","require$$2","classof","require$$3","split","indexedObject","TypeError","requireObjectCoercible","undefined","IndexedObject","toIndexedObject","isCallable","argument","isObject","aFunction","getBuiltIn","namespace","method","length","objectIsPrototypeOf","isPrototypeOf","userAgent","process","Deno","versions","v8","engineV8Version","V8_VERSION","nativeSymbol","getOwnPropertySymbols","symbol","Symbol","String","sham","useSymbolAsUid","iterator","USE_SYMBOL_AS_UID","require$$4","isSymbol","$Symbol","tryToString","aCallable","getMethod","P","func","setGlobal","key","sharedStore","store","sharedModule","push","mode","copyright","license","source","toObject","hasOwnProperty_1","hasOwn","id","postfix","random","uid","shared","NATIVE_SYMBOL","require$$5","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","wellKnownSymbol","name","description","ordinaryToPrimitive","input","pref","val","valueOf","require$$6","TO_PRIMITIVE","toPrimitive","result","exoticToPrim","toPropertyKey","document","EXISTS","createElement","documentCreateElement","ie8DomDefine","a","DESCRIPTORS","propertyIsEnumerableModule","IE8_DOM_DEFINE","require$$7","$getOwnPropertyDescriptor","O","f","v8PrototypeDefineBug","anObject","V8_PROTOTYPE_DEFINE_BUG","$defineProperty","Attributes","current","definePropertyModule","createNonEnumerableProperty","object","functionToString","inspectSource","set","has","WeakMap","nativeWeakMap","keys","sharedKey","hiddenKeys","NATIVE_WEAK_MAP","require$$8","state","wmget","wmhas","wmset","metadata","facade","STATE","internalState","enforce","getterFor","TYPE","type","getDescriptor","functionName","PROPER","CONFIGURABLE","CONFIGURABLE_FUNCTION_NAME","getInternalState","enforceInternalState","TEMPLATE","redefineModule","options","unsafe","simple","noTargetGet","replace","join","ceil","floor","toIntegerOrInfinity","number","max","min","toAbsoluteIndex","index","integer","toLength","lengthOfArrayLike","obj","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","indexOf","objectKeysInternal","names","i","enumBugKeys","internalObjectKeys","concat","getOwnPropertyNames","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","ownKeys","getOwnPropertyDescriptorModule","copyConstructorProperties","target","exceptions","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","toLowerCase","isForced_1","redefine","_export","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","toStringTagSupport","TO_STRING_TAG_SUPPORT","TO_STRING_TAG","CORRECT_ARGUMENTS","tag","tryGet","callee","regexpFlags","that","ignoreCase","multiline","dotAll","unicode","sticky","$RegExp","RegExp","UNSUPPORTED_Y","re","lastIndex","MISSED_STICKY","BROKEN_CARET","regexpStickyHelpers","objectKeys","defineProperties","Properties","props","activeXDocument","html","definePropertiesModule","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","domain","style","display","appendChild","src","contentWindow","open","F","re1","re2","objectCreate","create","regexpUnsupportedDotAll","flags","regexpUnsupportedNcg","groups","stickyHelpers","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","require$$9","nativeReplace","nativeExec","patchedExec","charAt","UPDATES_LAST_INDEX_WRONG","NPCG_INCLUDED","reCopy","group","str","raw","charsAdded","strCopy","regexpExec","proto","functionApply","Reflect","SPECIES","RegExpPrototype","fixRegexpWellKnownSymbolLogic","KEY","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","constructor","uncurriedNativeRegExpMethod","methods","nativeMethod","regexp","arg2","forceStringMethod","uncurriedNativeMethod","$exec","done","charCodeAt","CONVERT_TO_STRING","pos","first","second","S","position","size","codeAt","advanceStringIndex","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","regexpExecAbstract","R","fixRegExpWellKnownSymbolLogic","require$$10","require$$11","require$$12","getSubstitution","matched","captures","namedCaptures","tailPos","m","symbols","ch","capture","n","regExpExec","require$$14","REPLACE","require$$15","stringIndexOf","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_SUPPORTS_NAMED_GROUPS","_","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","rx","res","functionalReplace","fullUnicode","results","accumulatedResult","nextSourcePosition","j","replacerArgs","$","Error","un$Test","_classCallCheck","instance","Constructor","_defineProperties","_createClass","protoProps","staticProps","_defineProperty","aPossiblePrototype","objectSetPrototypeOf","setPrototypeOf","setter","CORRECT_SETTER","Array","__proto__","TEST","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","errorStackInstallable","inheritIfRequired","dummy","Wrapper","NewTarget","NewTargetPrototype","normalizeStringArgument","$default","installErrorCause","cause","clearErrorStack","dropEntries","ERROR_STACK_INSTALLABLE","wrapErrorConstructorWithCause","FULL_NAME","wrapper","IS_AGGREGATE_ERROR","OPTIONS_POSITION","path","ERROR_NAME","OriginalError","OriginalErrorPrototype","BaseError","WrappedError","b","message","WebAssembly","exportGlobalErrorCauseWrapper","exportWebAssemblyErrorCauseWrapper","WEB_ASSEMBLY","init","GridRef","tetradLetter","tetradLetters","gridCoords","x","y","preciseGridRef","tetrad","hectad","rawPrecision","minPrecision","E","J","U","Z","D","I","N","T","Y","C","H","M","X","B","G","L","W","A","K","Q","NW","NE","SW","SE","objectToString","setToStringTag","TAG","arraySlice","factories","construct","argsLength","args","list","functionBind","Prototype","partArgs","boundFunction","noop","empty","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","isConstructorLegacy","isConstructor","called","aConstructor","nativeConstruct","ObjectPrototype","NEW_TARGET_BUG","ARGS_BUG","_assertThisInitialized","ReferenceError","_setPrototypeOf","o","p","_inherits","subClass","superClass","_typeof","_possibleConstructorReturn","assertThisInitialized","_getPrototypeOf","getPrototypeOf","Target","newTarget","$args","whitespace","ltrim","rtrim","stringTrim","start","end","trim","$parseInt","parseInt","ITERATOR","hex","numberParseInt","whitespaces","radix","log","LOG10E","log10","isArray","createProperty","propertyKey","un$Slice","HAS_SPECIES_SUPPORT","METHOD_NAME","array","foo","Boolean","arrayMethodHasSpeciesSupport","k","fin","$IndexOf","arrayMethodIsStrict","un$IndexOf","NEGATIVE_ZERO","STRICT_METHOD","searchElement","PROPER_FUNCTION_NAME","$toString","regExpFlags","n$ToString","getFlags","NOT_GENERIC","INCORRECT_NAME","rf","deg2rad","PI","rad2deg","LatLng","lat","lng","lon","e","h","a2","e2","xp","yp","zp","xr","yr","zr","s","sf","v","sqrt","sin","cos","z","xrot","yrot","zrot","hx","hy","hz","atan","errvalue","lat0","abs","bf0","phi0","phi","LatLngWGS84","LatLngGB","eSquared","sinPhi","lambda","ry","xB","yB","zB","phiN","sinPhiN","latLngWGS84","radWGlat","radWGlon","newLon","newLat","LatLngIE","latLngRadians","_transform","phip","lambdap","latlng","LatLngCI","GridCoords","precision","os","_from_gb_latlng","from_wgs84","is_gb_hectad","osI","_from_ie_latlng","osCi","_from_ci_latlng","latLng","lam","f0","af0","slat2","nu","rho","eta2","IV","clat3","pow","tlat2","tan","clat5","tlat4","VI","east","_Marc","II","III","IIIA","north","GridCoordsGB","round","GridCoordsIE","GridCoordsCI","easting","northing","_e_n_to_gr","letters","eString","nString","calculate_tetrad","logPrecision","firstLetter","hundredkmE","hundredkmN","secondLetter","fromCharCode","gbHectads","to_hectad","E0","phiPrime","sinphiPrime2","tanphiPrime2","secphiPrime","etaSquared","VII","VIII","IX","XI","XII","XIIA","to_WGS84","k0","eccSquared","e1","eccPrimeSquared","mu","phi1Rad","N1","T1","C1","R1","Lat","Long","irishGrid","Et","phid","_initial_lat","tlat6","clatm1","convert_to_wgs","substring","n0","phi1","phi2","ind","GridRefCI","parse_well_formed","_this","from_string","rawGridRef","enl","trimmedLocality","toUpperCase","tetradCode","quadrantOffsets","quadrantCode","gridref_string_to_e_n_l","to_gridref","tetradOffsets","quadrant","set_tetrad","errorMessage","gridRef","northOffset","chars","console","ref","MATCH","nativeMatch","matcher","matchStr","GridRefGB","parse_wellformed_gb_gr_string_no_tetrads","parse_gr_string_without_tetrads","matches","letterMapping","char1","char2","GridRefIE","char","_IE_GRID_LETTERS","parser","cleanRef"],"mappings":"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"}