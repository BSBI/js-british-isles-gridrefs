var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=function(t){return t&&t.Math==Math&&t},r=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||function(){return this}()||Function("return this")(),S={},N=function(t){try{return!!t()}catch(t){return!0}},n=!N((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),o=!N((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),i=o,a=Function.prototype.call,s=i?a.bind(a):function(){return a.apply(a,arguments)},u={},c={}.propertyIsEnumerable,T=Object.getOwnPropertyDescriptor,h=T&&!c.call({1:2},1);u.f=h?function(t){var e=T(this,t);return!!e&&e.enumerable}:c;var f,l,d=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},M=o,p=Function.prototype,g=p.bind,O=p.call,H=M&&g.bind(O,O),v=M?function(t){return t&&H(t)}:function(t){return t&&function(){return O.apply(t,arguments)}},y=v,J=y({}.toString),P=y("".slice),U=function(t){return P(J(t),8,-1)},b=v,C=N,L=U,E=r.Object,R=b("".split),Y=C((function(){return!E("z").propertyIsEnumerable(0)}))?function(t){return"String"==L(t)?R(t,""):E(t)}:E,w=r.TypeError,D=function(t){if(null==t)throw w("Can't call method on "+t);return t},K=Y,X=D,G=function(t){return K(X(t))},Q=function(t){return"function"==typeof t},F=Q,_=function(t){return"object"==typeof t?null!==t:F(t)},m=r,x=Q,A=function(t){return x(t)?t:void 0},Z=function(t,e){return arguments.length<2?A(m[t]):m[t]&&m[t][e]},B=v({}.isPrototypeOf),W=r,k=Z("navigator","userAgent")||"",I=W.process,q=W.Deno,j=I&&I.versions||q&&q.version,V=j&&j.v8;V&&(l=(f=V.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!l&&k&&(!(f=k.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=k.match(/Chrome\/(\d+)/))&&(l=+f[1]);var $=l,z=$,tt=N,et=!!Object.getOwnPropertySymbols&&!tt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&z&&z<41})),rt=et&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,St=Z,Nt=Q,nt=B,ot=rt,it=r.Object,at=ot?function(t){return"symbol"==typeof t}:function(t){var e=St("Symbol");return Nt(e)&&nt(e.prototype,it(t))},st=r.String,ut=function(t){try{return st(t)}catch(t){return"Object"}},ct=Q,Tt=ut,ht=r.TypeError,ft=function(t){if(ct(t))return t;throw ht(Tt(t)+" is not a function")},lt=ft,dt=function(t,e){var r=t[e];return null==r?void 0:lt(r)},Mt=s,pt=Q,gt=_,Ot=r.TypeError,Ht={exports:{}},vt=r,yt=Object.defineProperty,Jt=function(t,e){try{yt(vt,t,{value:e,configurable:!0,writable:!0})}catch(r){vt[t]=e}return e},Pt=Jt,Ut=r["__core-js_shared__"]||Pt("__core-js_shared__",{}),bt=Ut;(Ht.exports=function(t,e){return bt[t]||(bt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.0",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ct=D,Lt=r.Object,Et=function(t){return Lt(Ct(t))},Rt=Et,Yt=v({}.hasOwnProperty),wt=Object.hasOwn||function(t,e){return Yt(Rt(t),e)},Dt=v,Kt=0,Xt=Math.random(),Gt=Dt(1..toString),Qt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Gt(++Kt+Xt,36)},Ft=r,_t=Ht.exports,mt=wt,xt=Qt,At=et,Zt=rt,Bt=_t("wks"),Wt=Ft.Symbol,kt=Wt&&Wt.for,It=Zt?Wt:Wt&&Wt.withoutSetter||xt,qt=function(t){if(!mt(Bt,t)||!At&&"string"!=typeof Bt[t]){var e="Symbol."+t;At&&mt(Wt,t)?Bt[t]=Wt[t]:Bt[t]=Zt&&kt?kt(e):It(e)}return Bt[t]},jt=s,Vt=_,$t=at,zt=dt,te=function(t,e){var r,S;if("string"===e&&pt(r=t.toString)&&!gt(S=Mt(r,t)))return S;if(pt(r=t.valueOf)&&!gt(S=Mt(r,t)))return S;if("string"!==e&&pt(r=t.toString)&&!gt(S=Mt(r,t)))return S;throw Ot("Can't convert object to primitive value")},ee=qt,re=r.TypeError,Se=ee("toPrimitive"),Ne=function(t,e){if(!Vt(t)||$t(t))return t;var r,S=zt(t,Se);if(S){if(void 0===e&&(e="default"),r=jt(S,t,e),!Vt(r)||$t(r))return r;throw re("Can't convert object to primitive value")}return void 0===e&&(e="number"),te(t,e)},ne=at,oe=function(t){var e=Ne(t,"string");return ne(e)?e:e+""},ie=_,ae=r.document,se=ie(ae)&&ie(ae.createElement),ue=function(t){return se?ae.createElement(t):{}},ce=ue,Te=!n&&!N((function(){return 7!=Object.defineProperty(ce("div"),"a",{get:function(){return 7}}).a})),he=n,fe=s,le=u,de=d,Me=G,pe=oe,ge=wt,Oe=Te,He=Object.getOwnPropertyDescriptor;S.f=he?He:function(t,e){if(t=Me(t),e=pe(e),Oe)try{return He(t,e)}catch(t){}if(ge(t,e))return de(!fe(le.f,t,e),t[e])};var ve={},ye=n&&N((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Je=r,Pe=_,Ue=Je.String,be=Je.TypeError,Ce=function(t){if(Pe(t))return t;throw be(Ue(t)+" is not an object")},Le=n,Ee=Te,Re=ye,Ye=Ce,we=oe,De=r.TypeError,Ke=Object.defineProperty,Xe=Object.getOwnPropertyDescriptor;ve.f=Le?Re?function(t,e,r){if(Ye(t),e=we(e),Ye(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var S=Xe(t,e);S&&S.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:S.configurable,enumerable:"enumerable"in r?r.enumerable:S.enumerable,writable:!1})}return Ke(t,e,r)}:Ke:function(t,e,r){if(Ye(t),e=we(e),Ye(r),Ee)try{return Ke(t,e,r)}catch(t){}if("get"in r||"set"in r)throw De("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var Ge=ve,Qe=d,Fe=n?function(t,e,r){return Ge.f(t,e,Qe(1,r))}:function(t,e,r){return t[e]=r,t},_e={exports:{}},me=Q,xe=Ut,Ae=v(Function.toString);me(xe.inspectSource)||(xe.inspectSource=function(t){return Ae(t)});var Ze,Be,We,ke=xe.inspectSource,Ie=Q,qe=ke,je=r.WeakMap,Ve=Ie(je)&&/native code/.test(qe(je)),$e=Ht.exports,ze=Qt,tr=$e("keys"),er=function(t){return tr[t]||(tr[t]=ze(t))},rr={},Sr=Ve,Nr=r,nr=v,or=_,ir=Fe,ar=wt,sr=Ut,ur=er,cr=rr,Tr=Nr.TypeError,hr=Nr.WeakMap;if(Sr||sr.state){var fr=sr.state||(sr.state=new hr),lr=nr(fr.get),dr=nr(fr.has),Mr=nr(fr.set);Ze=function(t,e){if(dr(fr,t))throw new Tr("Object already initialized");return e.facade=t,Mr(fr,t,e),e},Be=function(t){return lr(fr,t)||{}},We=function(t){return dr(fr,t)}}else{var pr=ur("state");cr[pr]=!0,Ze=function(t,e){if(ar(t,pr))throw new Tr("Object already initialized");return e.facade=t,ir(t,pr,e),e},Be=function(t){return ar(t,pr)?t[pr]:{}},We=function(t){return ar(t,pr)}}var gr={set:Ze,get:Be,has:We,enforce:function(t){return We(t)?Be(t):Ze(t,{})},getterFor:function(t){return function(e){var r;if(!or(e)||(r=Be(e)).type!==t)throw Tr("Incompatible receiver, "+t+" required");return r}}},Or=n,Hr=wt,vr=Function.prototype,yr=Or&&Object.getOwnPropertyDescriptor,Jr=Hr(vr,"name"),Pr={EXISTS:Jr,PROPER:Jr&&"something"===function(){}.name,CONFIGURABLE:Jr&&(!Or||Or&&yr(vr,"name").configurable)},Ur=r,br=Q,Cr=wt,Lr=Fe,Er=Jt,Rr=ke,Yr=Pr.CONFIGURABLE,wr=gr.get,Dr=gr.enforce,Kr=String(String).split("String");(_e.exports=function(t,e,r,S){var N,n=!!S&&!!S.unsafe,o=!!S&&!!S.enumerable,i=!!S&&!!S.noTargetGet,a=S&&void 0!==S.name?S.name:e;br(r)&&("Symbol("===String(a).slice(0,7)&&(a="["+String(a).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Cr(r,"name")||Yr&&r.name!==a)&&Lr(r,"name",a),(N=Dr(r)).source||(N.source=Kr.join("string"==typeof a?a:""))),t!==Ur?(n?!i&&t[e]&&(o=!0):delete t[e],o?t[e]=r:Lr(t,e,r)):o?t[e]=r:Er(e,r)})(Function.prototype,"toString",(function(){return br(this)&&wr(this).source||Rr(this)}));var Xr={},Gr=Math.ceil,Qr=Math.floor,Fr=function(t){var e=+t;return e!=e||0===e?0:(e>0?Qr:Gr)(e)},_r=Fr,mr=Math.max,xr=Math.min,Ar=function(t,e){var r=_r(t);return r<0?mr(r+e,0):xr(r,e)},Zr=Fr,Br=Math.min,Wr=function(t){return t>0?Br(Zr(t),9007199254740991):0},kr=Wr,Ir=function(t){return kr(t.length)},qr=G,jr=Ar,Vr=Ir,$r=function(t){return function(e,r,S){var N,n=qr(e),o=Vr(n),i=jr(S,o);if(t&&r!=r){for(;o>i;)if((N=n[i++])!=N)return!0}else for(;o>i;i++)if((t||i in n)&&n[i]===r)return t||i||0;return!t&&-1}},zr={includes:$r(!0),indexOf:$r(!1)},tS=wt,eS=G,rS=zr.indexOf,SS=rr,NS=v([].push),nS=function(t,e){var r,S=eS(t),N=0,n=[];for(r in S)!tS(SS,r)&&tS(S,r)&&NS(n,r);for(;e.length>N;)tS(S,r=e[N++])&&(~rS(n,r)||NS(n,r));return n},oS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],iS=nS,aS=oS.concat("length","prototype");Xr.f=Object.getOwnPropertyNames||function(t){return iS(t,aS)};var sS={};sS.f=Object.getOwnPropertySymbols;var uS=Z,cS=Xr,TS=sS,hS=Ce,fS=v([].concat),lS=uS("Reflect","ownKeys")||function(t){var e=cS.f(hS(t)),r=TS.f;return r?fS(e,r(t)):e},dS=wt,MS=lS,pS=S,gS=ve,OS=N,HS=Q,vS=/#|\.prototype\./,yS=function(t,e){var r=PS[JS(t)];return r==bS||r!=US&&(HS(e)?OS(e):!!e)},JS=yS.normalize=function(t){return String(t).replace(vS,".").toLowerCase()},PS=yS.data={},US=yS.NATIVE="N",bS=yS.POLYFILL="P",CS=yS,LS=r,ES=S.f,RS=Fe,YS=_e.exports,wS=Jt,DS=function(t,e,r){for(var S=MS(e),N=gS.f,n=pS.f,o=0;o<S.length;o++){var i=S[o];dS(t,i)||r&&dS(r,i)||N(t,i,n(e,i))}},KS=CS,XS=function(t,e){var r,S,N,n,o,i=t.target,a=t.global,s=t.stat;if(r=a?LS:s?LS[i]||wS(i,{}):(LS[i]||{}).prototype)for(S in e){if(n=e[S],N=t.noTargetGet?(o=ES(r,S))&&o.value:r[S],!KS(a?S:i+(s?".":"#")+S,t.forced)&&void 0!==N){if(typeof n==typeof N)continue;DS(n,N)}(t.sham||N&&N.sham)&&RS(n,"sham",!0),YS(r,S,n,t)}},GS={};GS[qt("toStringTag")]="z";var QS="[object z]"===String(GS),FS=r,_S=QS,mS=Q,xS=U,AS=qt("toStringTag"),ZS=FS.Object,BS="Arguments"==xS(function(){return arguments}()),WS=_S?xS:function(t){var e,r,S;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=ZS(t),AS))?r:BS?xS(e):"Object"==(S=xS(e))&&mS(e.callee)?"Arguments":S},kS=WS,IS=r.String,qS=function(t){if("Symbol"===kS(t))throw TypeError("Cannot convert a Symbol value to a string");return IS(t)},jS=Ce,VS=function(){var t=jS(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},$S=N,zS=r.RegExp,tN=$S((function(){var t=zS("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),eN=tN||$S((function(){return!zS("a","y").sticky})),rN=tN||$S((function(){var t=zS("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),SN={BROKEN_CARET:rN,MISSED_STICKY:eN,UNSUPPORTED_Y:tN},NN={},nN=nS,oN=oS,iN=Object.keys||function(t){return nN(t,oN)},aN=n,sN=ye,uN=ve,cN=Ce,TN=G,hN=iN;NN.f=aN&&!sN?Object.defineProperties:function(t,e){cN(t);for(var r,S=TN(e),N=hN(e),n=N.length,o=0;n>o;)uN.f(t,r=N[o++],S[r]);return t};var fN,lN=Z("document","documentElement"),dN=Ce,MN=NN,pN=oS,gN=rr,ON=lN,HN=ue,vN=er("IE_PROTO"),yN=function(){},JN=function(t){return"<script>"+t+"<\/script>"},PN=function(t){t.write(JN("")),t.close();var e=t.parentWindow.Object;return t=null,e},UN=function(){try{fN=new ActiveXObject("htmlfile")}catch(t){}var t,e;UN="undefined"!=typeof document?document.domain&&fN?PN(fN):((e=HN("iframe")).style.display="none",ON.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(JN("document.F=Object")),t.close(),t.F):PN(fN);for(var r=pN.length;r--;)delete UN.prototype[pN[r]];return UN()};gN[vN]=!0;var bN,CN,LN=Object.create||function(t,e){var r;return null!==t?(yN.prototype=dN(t),r=new yN,yN.prototype=null,r[vN]=t):r=UN(),void 0===e?r:MN.f(r,e)},EN=N,RN=r.RegExp,YN=EN((function(){var t=RN(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),wN=N,DN=r.RegExp,KN=wN((function(){var t=DN("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),XN=s,GN=v,QN=qS,FN=VS,_N=SN,mN=Ht.exports,xN=LN,AN=gr.get,ZN=YN,BN=KN,WN=mN("native-string-replace",String.prototype.replace),kN=RegExp.prototype.exec,IN=kN,qN=GN("".charAt),jN=GN("".indexOf),VN=GN("".replace),$N=GN("".slice),zN=(CN=/b*/g,XN(kN,bN=/a/,"a"),XN(kN,CN,"a"),0!==bN.lastIndex||0!==CN.lastIndex),tn=_N.BROKEN_CARET,en=void 0!==/()??/.exec("")[1];(zN||en||tn||ZN||BN)&&(IN=function(t){var e,r,S,N,n,o,i,a=this,s=AN(a),u=QN(t),c=s.raw;if(c)return c.lastIndex=a.lastIndex,e=XN(IN,c,u),a.lastIndex=c.lastIndex,e;var T=s.groups,h=tn&&a.sticky,f=XN(FN,a),l=a.source,d=0,M=u;if(h&&(f=VN(f,"y",""),-1===jN(f,"g")&&(f+="g"),M=$N(u,a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==qN(u,a.lastIndex-1))&&(l="(?: "+l+")",M=" "+M,d++),r=new RegExp("^(?:"+l+")",f)),en&&(r=new RegExp("^"+l+"$(?!\\s)",f)),zN&&(S=a.lastIndex),N=XN(kN,h?r:a,M),h?N?(N.input=$N(N.input,d),N[0]=$N(N[0],d),N.index=a.lastIndex,a.lastIndex+=N[0].length):a.lastIndex=0:zN&&N&&(a.lastIndex=a.global?N.index+N[0].length:S),en&&N&&N.length>1&&XN(WN,N[0],r,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(N[n]=void 0)})),N&&T)for(N.groups=o=xN(null),n=0;n<T.length;n++)o[(i=T[n])[0]]=N[i[1]];return N});var rn=IN;XS({target:"RegExp",proto:!0,forced:/./.exec!==rn},{exec:rn});var Sn=o,Nn=Function.prototype,nn=Nn.apply,on=Nn.call,an="object"==typeof Reflect&&Reflect.apply||(Sn?on.bind(nn):function(){return on.apply(nn,arguments)}),sn=v,un=_e.exports,cn=rn,Tn=N,hn=qt,fn=Fe,ln=hn("species"),dn=RegExp.prototype,Mn=function(t,e,r,S){var N=hn(t),n=!Tn((function(){var e={};return e[N]=function(){return 7},7!=""[t](e)})),o=n&&!Tn((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[ln]=function(){return r},r.flags="",r[N]=/./[N]),r.exec=function(){return e=!0,null},r[N](""),!e}));if(!n||!o||r){var i=sn(/./[N]),a=e(N,""[t],(function(t,e,r,S,N){var o=sn(t),a=e.exec;return a===cn||a===dn.exec?n&&!N?{done:!0,value:i(e,r,S)}:{done:!0,value:o(r,e,S)}:{done:!1}}));un(String.prototype,t,a[0]),un(dn,N,a[1])}S&&fn(dn[N],"sham",!0)},pn=v,gn=Fr,On=qS,Hn=D,vn=pn("".charAt),yn=pn("".charCodeAt),Jn=pn("".slice),Pn=function(t){return function(e,r){var S,N,n=On(Hn(e)),o=gn(r),i=n.length;return o<0||o>=i?t?"":void 0:(S=yn(n,o))<55296||S>56319||o+1===i||(N=yn(n,o+1))<56320||N>57343?t?vn(n,o):S:t?Jn(n,o,o+2):N-56320+(S-55296<<10)+65536}},Un={codeAt:Pn(!1),charAt:Pn(!0)}.charAt,bn=function(t,e,r){return e+(r?Un(t,e).length:1)},Cn=v,Ln=Et,En=Math.floor,Rn=Cn("".charAt),Yn=Cn("".replace),wn=Cn("".slice),Dn=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Kn=/\$([$&'`]|\d{1,2})/g,Xn=s,Gn=Ce,Qn=Q,Fn=U,_n=rn,mn=r.TypeError,xn=function(t,e){var r=t.exec;if(Qn(r)){var S=Xn(r,t,e);return null!==S&&Gn(S),S}if("RegExp"===Fn(t))return Xn(_n,t,e);throw mn("RegExp#exec called on incompatible receiver")},An=an,Zn=s,Bn=v,Wn=Mn,kn=N,In=Ce,qn=Q,jn=Fr,Vn=Wr,$n=qS,zn=D,to=bn,eo=dt,ro=function(t,e,r,S,N,n){var o=r+t.length,i=S.length,a=Kn;return void 0!==N&&(N=Ln(N),a=Dn),Yn(n,a,(function(n,a){var s;switch(Rn(a,0)){case"$":return"$";case"&":return t;case"`":return wn(e,0,r);case"'":return wn(e,o);case"<":s=N[wn(a,1,-1)];break;default:var u=+a;if(0===u)return n;if(u>i){var c=En(u/10);return 0===c?n:c<=i?void 0===S[c-1]?Rn(a,1):S[c-1]+Rn(a,1):n}s=S[u-1]}return void 0===s?"":s}))},So=xn,No=qt("replace"),no=Math.max,oo=Math.min,io=Bn([].concat),ao=Bn([].push),so=Bn("".indexOf),uo=Bn("".slice),co="$0"==="a".replace(/./,"$0"),To=!!/./[No]&&""===/./[No]("a","$0"),ho=!kn((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));Wn("replace",(function(t,e,r){var S=To?"$":"$0";return[function(t,r){var S=zn(this),N=null==t?void 0:eo(t,No);return N?Zn(N,t,S,r):Zn(e,$n(S),t,r)},function(t,N){var n=In(this),o=$n(t);if("string"==typeof N&&-1===so(N,S)&&-1===so(N,"$<")){var i=r(e,n,o,N);if(i.done)return i.value}var a=qn(N);a||(N=$n(N));var s=n.global;if(s){var u=n.unicode;n.lastIndex=0}for(var c=[];;){var T=So(n,o);if(null===T)break;if(ao(c,T),!s)break;""===$n(T[0])&&(n.lastIndex=to(o,Vn(n.lastIndex),u))}for(var h,f="",l=0,d=0;d<c.length;d++){for(var M=$n((T=c[d])[0]),p=no(oo(jn(T.index),o.length),0),g=[],O=1;O<T.length;O++)ao(g,void 0===(h=T[O])?h:String(h));var H=T.groups;if(a){var v=io([M],g,p,o);void 0!==H&&ao(v,H);var y=$n(An(N,void 0,v))}else y=ro(M,o,p,g,H,N);p>=l&&(f+=uo(o,l,p)+y,l=p+M.length)}return f+uo(o,l)}]}),!ho||!co||To);var fo,lo,Mo=XS,po=r,go=s,Oo=v,Ho=Q,vo=_,yo=(fo=!1,(lo=/[ac]/).exec=function(){return fo=!0,/./.exec.apply(this,arguments)},!0===lo.test("abc")&&fo),Jo=po.Error,Po=Oo(/./.test);function Uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bo(t,e){for(var r=0;r<e.length;r++){var S=e[r];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(t,S.key,S)}}function Co(t,e,r){return e&&bo(t.prototype,e),r&&bo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Mo({target:"RegExp",proto:!0,forced:!yo},{test:function(t){var e=this.exec;if(!Ho(e))return Po(this,t);var r=go(e,this,t);if(null!==r&&!vo(r))throw new Jo("RegExp exec method returned something other than an Object or null");return!!r}});var Eo=function(){function t(){Uo(this,t),Lo(this,"preciseGridRef",""),Lo(this,"length",0),Lo(this,"hectad",""),Lo(this,"tetrad",""),Lo(this,"tetradLetter",""),Lo(this,"quadrant",""),Lo(this,"quadrantCode",""),Lo(this,"gridCoords",null),Lo(this,"error",!1),Lo(this,"errorMessage","")}return Co(t,[{key:"set_tetrad",value:function(){if(this.tetradLetter=t.tetradLetters.substr(5*(Math.floor(this.gridCoords.x%1e4/1e3)>>1)+(Math.floor(this.gridCoords.y%1e4/1e3)>>1),1),!this.tetradLetter)throw new Error("Failed to get tetrad letter when processing '"+this.preciseGridRef+"', easting="+this.gridCoords.x+" northing="+this.gridCoords.y);this.tetrad=this.hectad+this.tetradLetter}}],[{key:"get_normalized_precision",value:function(t,e){return t>2e3?1e4:t>1e3?2e3:t>100?1e3:t>10?100:t>1?10:e||1}}]),t}();Lo(Eo,"tetradOffsets",{E:[0,8e3],J:[2e3,8e3],P:[4e3,8e3],U:[6e3,8e3],Z:[8e3,8e3],D:[0,6e3],I:[2e3,6e3],N:[4e3,6e3],T:[6e3,6e3],Y:[8e3,6e3],C:[0,4e3],H:[2e3,4e3],M:[4e3,4e3],S:[6e3,4e3],X:[8e3,4e3],B:[0,2e3],G:[2e3,2e3],L:[4e3,2e3],R:[6e3,2e3],W:[8e3,2e3],A:[0,0],F:[2e3,0],K:[4e3,0],Q:[6e3,0],V:[8e3,0]}),Lo(Eo,"quadrantOffsets",{NW:[0,5e3],NE:[5e3,5e3],SW:[0,0],SE:[5e3,0]}),Lo(Eo,"letterMapping",{A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,J:8,K:9,L:10,M:11,N:12,O:13,P:14,Q:15,R:16,S:17,T:18,U:19,V:20,W:21,X:22,Y:23,Z:24}),Lo(Eo,"tetradLetters","ABCDEFGHIJKLMNPQRSTUVWXYZ");var Ro=WS,Yo=QS?{}.toString:function(){return"[object "+Ro(this)+"]"},wo=QS,Do=_e.exports,Ko=Yo;wo||Do(Object.prototype,"toString",Ko,{unsafe:!0});var Xo=ve.f,Go=wt,Qo=qt("toStringTag"),Fo=r,_o=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Go(t,Qo)&&Xo(t,Qo,{configurable:!0,value:e})};XS({global:!0},{Reflect:{}}),_o(Fo.Reflect,"Reflect",!0);var mo=v([].slice),xo=v,Ao=ft,Zo=_,Bo=wt,Wo=mo,ko=o,Io=r.Function,qo=xo([].concat),jo=xo([].join),Vo={},$o=function(t,e,r){if(!Bo(Vo,e)){for(var S=[],N=0;N<e;N++)S[N]="a["+N+"]";Vo[e]=Io("C,a","return new C("+jo(S,",")+")")}return Vo[e](t,r)},zo=ko?Io.bind:function(t){var e=Ao(this),r=e.prototype,S=Wo(arguments,1),N=function(){var r=qo(S,Wo(arguments));return this instanceof N?$o(e,r.length,r):e.apply(t,r)};return Zo(r)&&(N.prototype=r),N},ti=v,ei=N,ri=Q,Si=WS,Ni=ke,ni=function(){},oi=[],ii=Z("Reflect","construct"),ai=/^\s*(?:class|function)\b/,si=ti(ai.exec),ui=!ai.exec(ni),ci=function(t){if(!ri(t))return!1;try{return ii(ni,oi,t),!0}catch(t){return!1}},Ti=function(t){if(!ri(t))return!1;switch(Si(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ui||!!si(ai,Ni(t))}catch(t){return!0}};Ti.sham=!0;var hi=!ii||ei((function(){var t;return ci(ci.call)||!ci(Object)||!ci((function(){t=!0}))||t}))?Ti:ci,fi=hi,li=ut,di=r.TypeError,Mi=XS,pi=an,gi=zo,Oi=function(t){if(fi(t))return t;throw di(li(t)+" is not a constructor")},Hi=Ce,vi=_,yi=LN,Ji=N,Pi=Z("Reflect","construct"),Ui=Object.prototype,bi=[].push,Ci=Ji((function(){function t(){}return!(Pi((function(){}),[],t)instanceof t)})),Li=!Ji((function(){Pi((function(){}))})),Ei=Ci||Li;function Ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yi(t,e){return Yi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yi(t,e)}function wi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yi(t,e)}function Di(t){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(t)}function Ki(t,e){if(e&&("object"===Di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xi(t)}Mi({target:"Reflect",stat:!0,forced:Ei,sham:Ei},{construct:function(t,e){Oi(t),Hi(e);var r=arguments.length<3?t:Oi(arguments[2]);if(Li&&!Ci)return Pi(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var S=[null];return pi(bi,S,e),new(pi(gi,t,S))}var N=r.prototype,n=yi(vi(N)?N:Ui),o=pi(t,n,e);return vi(o)?o:n}});var Gi=D,Qi=qS,Fi=v("".replace),_i="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",mi=RegExp("^"+_i+_i+"*"),xi=RegExp(_i+_i+"*$"),Ai=function(t){return function(e){var r=Qi(Gi(e));return 1&t&&(r=Fi(r,mi,"")),2&t&&(r=Fi(r,xi,"")),r}},Zi={start:Ai(1),end:Ai(2),trim:Ai(3)},Bi=r,Wi=N,ki=v,Ii=qS,qi=Zi.trim,ji=Bi.parseInt,Vi=Bi.Symbol,$i=Vi&&Vi.iterator,zi=/^[+-]?0x/i,ta=ki(zi.exec),ea=8!==ji("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff08")||22!==ji("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff0x16")||$i&&!Wi((function(){ji(Object($i))}))?function(t,e){var r=qi(Ii(t));return ji(r,e>>>0||(ta(zi,r)?16:10))}:ji;XS({global:!0,forced:parseInt!=ea},{parseInt:ea});var ra=v,Sa=Pr.PROPER,Na=_e.exports,na=Ce,oa=B,ia=qS,aa=N,sa=VS,ua=RegExp.prototype,ca=ua.toString,Ta=ra(sa),ha=aa((function(){return"/a/b"!=ca.call({source:"a",flags:"b"})})),fa=Sa&&"toString"!=ca.name;(ha||fa)&&Na(RegExp.prototype,"toString",(function(){var t=na(this),e=ia(t.source),r=t.flags;return"/"+e+"/"+ia(void 0===r&&oa(ua,t)&&!("flags"in ua)?Ta(t):r)}),{unsafe:!0});var la=Math.log,da=Math.LOG10E;XS({target:"Math",stat:!0},{log10:Math.log10||function(t){return la(t)*da}});var Ma=U,pa=Array.isArray||function(t){return"Array"==Ma(t)},ga=oe,Oa=ve,Ha=d,va=N,ya=$,Ja=qt("species"),Pa=XS,Ua=r,ba=pa,Ca=hi,La=_,Ea=Ar,Ra=Ir,Ya=G,wa=function(t,e,r){var S=ga(e);S in t?Oa.f(t,S,Ha(0,r)):t[S]=r},Da=qt,Ka=mo,Xa=function(t){return ya>=51||!va((function(){var e=[];return(e.constructor={})[Ja]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}("slice"),Ga=Da("species"),Qa=Ua.Array,Fa=Math.max;Pa({target:"Array",proto:!0,forced:!Xa},{slice:function(t,e){var r,S,N,n=Ya(this),o=Ra(n),i=Ea(t,o),a=Ea(void 0===e?o:e,o);if(ba(n)&&(r=n.constructor,(Ca(r)&&(r===Qa||ba(r.prototype))||La(r)&&null===(r=r[Ga]))&&(r=void 0),r===Qa||void 0===r))return Ka(n,i,a);for(S=new(void 0===r?Qa:r)(Fa(a-i,0)),N=0;i<a;i++,N++)i in n&&wa(S,N,n[i]);return S.length=N,S}});var _a=Math.PI/180,ma=180/Math.PI,xa=function(){function t(e,r){Uo(this,t),Lo(this,"lat",void 0),Lo(this,"lng",void 0),this.lat=e,this.lng=r}return Co(t,null,[{key:"_transform",value:function(e,r,S,N,n,o,i,a,s,u,c,T,h,f){var l=1e-6*f,d=S/Math.sqrt(1-N*(Math.sin(e)*Math.sin(e))),M=(d+n)*Math.cos(e)*Math.cos(r),p=(d+n)*Math.cos(e)*Math.sin(r),g=((1-N)*d+n)*Math.sin(e),O=c/3600*_a,H=T/3600*_a,v=h/3600*_a,y=M+M*l-p*v+g*H+a,J=M*v+p+p*l-g*O+s,P=-1*M*H+p*O+g+g*l+u;r=Math.atan(J/y);var U=Math.sqrt(y*y+J*J);e=Math.atan(P/(U*(1-i))),d=o/Math.sqrt(1-i*(Math.sin(e)*Math.sin(e)));for(var b=1,C=0;b>.001;)C=Math.atan((P+i*d*Math.sin(e))/U),b=Math.abs(C-e),e=C;return new t(e,r)}},{key:"_Marc",value:function(t,e,r,S){return t*((1+e+5/4*(e*e)+5/4*(e*e*e))*(S-r)-(3*e+e*e*3+21/8*(e*e*e))*Math.sin(S-r)*Math.cos(S+r)+(15/8*(e*e)+15/8*(e*e*e))*Math.sin(2*(S-r))*Math.cos(2*(S+r))-35/24*(e*e*e)*Math.sin(3*(S-r))*Math.cos(3*(S+r)))}}]),t}();function Aa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}var Za=function(t){wi(r,xa);var e=Aa(r);function r(t,S){return Uo(this,r),e.call(this,t,S)}return Co(r)}();function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}var Wa=function(t){wi(r,xa);var e=Ba(r);function r(t,S){return Uo(this,r),e.call(this,t,S)}return Co(r,[{key:"to_WGS84",value:function(){var t=6377563.396,e=.00667054007,r=this.lat*_a,S=Math.sin(r),N=this.lng*_a,n=t/Math.sqrt(1-e*(S*S)),o=n*Math.cos(r)*Math.cos(N),i=n*Math.cos(r)*Math.sin(N),a=(1-e)*n*S,s=-204894e-10,u=7.28190110241429e-7,c=119748977294801e-20,T=446.448+o*(1+s)+-u*i+c*a,h=408261589226812e-20*o-124.157+i*(1+s)+-u*a,f=542.06+-c*o+u*i+a*(1+s);t=6378137,e=.00669438003;for(var l=Math.sqrt(T*T+h*h),d=Math.atan(f/(l*(1-e))),M=1;M<10;++M){var p=Math.sin(d);d=Math.atan((f+e*(t/Math.sqrt(1-e*(p*p)))*p)/l)}return new Za(ma*d,ma*Math.atan(h/T))}}],[{key:"from_wgs84",value:function(t){var e=t.lat*_a,S=t.lng*_a,N=.00669438037928458,n=.0066705397616,o=20.4894*1e-6,i=6378137/Math.sqrt(1-N*Math.sin(e)*Math.sin(e)),a=(i+0)*Math.cos(e)*Math.cos(S),s=(i+0)*Math.cos(e)*Math.sin(S),u=((1-N)*i+0)*Math.sin(e),c=-.1502/3600*_a,T=-.247/3600*_a,h=-.8421/3600*_a,f=a+a*o-s*h+u*T-446.448,l=a*h+s+s*o-u*c+125.157,d=-1*a*T+s*c+u+u*o+-542.06,M=Math.atan(l/f),p=Math.sqrt(f*f+l*l),g=Math.atan(d/(p*(1-n)));i=6377563.396/Math.sqrt(1-n*(Math.sin(g)*Math.sin(g)));for(var O=1,H=0;O>.001;)H=Math.atan((d+n*i*Math.sin(g))/p),O=Math.abs(H-g),g=H;return new r(g*ma,M*ma)}}]),r}();function ka(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}var Ia=function(t){wi(r,xa);var e=ka(r);function r(t,S){return Uo(this,r),e.call(this,t,S)}return Co(r,null,[{key:"from_wgs84",value:function(t){var e=t.lat*_a,S=t.lng*_a,N=xa._transform(e,S,6378137,.00669438037928458,0,6378388,.0067226700223333,83.901,98.127,118.635,0,0,0,0);return new r(N.lat*ma,N.lng*ma)}}]),r}();function qa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}var ja=function(t){wi(r,xa);var e=qa(r);function r(t,S){return Uo(this,r),e.call(this,t,S)}return Co(r,[{key:"to_WGS84",value:function(){var t=xa._transform(this.lat*_a,this.lng*_a,6377340.189,.00667054015,0,6378137,.00669438037928458,482.53,-130.596,564.557,-1.042,-.214,-.631,-8.15);return new Za(t.lat*ma,t.lng*ma)}}],[{key:"from_wgs84",value:function(t){var e=t.lat*_a,S=t.lng*_a,N=xa._transform(e,S,6378137,.00669438037928458,0,6377340.189,.00667054015,-482.53,130.596,-564.557,1.042,.214,.631,8.15);return new r(N.lat*ma,N.lng*ma)}}]),r}(),Va=function(){function t(){Uo(this,t),Lo(this,"x",void 0),Lo(this,"y",void 0)}return Co(t,[{key:"to_latLng",value:function(){}},{key:"to_gridref",value:function(t){}},{key:"toString",value:function(){return this.x+","+this.y}}],[{key:"from_latlng",value:function(t,e){if(e>=-8.74&&t>49.88){var r=new Wa.from_wgs84(new Za(t,e)).to_os_coords();if(r.x>=0&&r.is_gb_hectad())return r}if(e<-5.3&&t>51.34&&e>-11&&t<55.73){var S=new ja.from_wgs84(new Za(t,e)).to_os_coords();return S.x<0||S.y<0?null:S}var N=new Ia.from_wgs84(new Za(t,e)).to_os_coords();return N.x>=5e5&&N.x<6e5&&N.y>=54e5&&N.y<56e5?N:null}},{key:"calculate_tetrad",value:function(e,r){return e>=0&&r>=0?t.tetradLetters.charAt(5*Math.floor(e%1e4/2e3)+Math.floor(r%1e4/2e3)):""}}]),t}();Lo(Va,"tetradLetters","ABCDEFGHIJKLMNPQRSTUVWXYZ"),Lo(Va,"tetradLettersRowFirst","AFKQVBGLRWCHMSXDINTYEJPUZ");var $a=function(t,e,r,S){var N="00000"+Math.floor(e),n="00000"+Math.floor(r);if(2e3===S)return t+N.charAt(N.length-5)+n.charAt(n.length-5)+Va.calculate_tetrad(e,r);if(1e5===S)return t;5e3===S&&(S=1e4);var o=Math.round(Math.log10(S));return t+(o?N.slice(-5,-o)+n.slice(-5,-o):N.slice(-5)+n.slice(-5))};function za(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}var ts=function(t){wi(r,Va);var e=za(r);function r(t,S){var N;return Uo(this,r),Lo(Ri(N=e.call(this)),"country","CI"),N.x=t,N.y=S,N}return Co(r,[{key:"to_latLng",value:function(){var t=.9996,e=.0067226700223333,r=6378388*t,S=6356911.946*t,N=this.x-5e5,n=rs(this.y,0,r,0,.0016863406508729017,S),o=r/Math.sqrt(1-e*(Math.sin(n)*Math.sin(n))),i=o*(1-e)/(1-e*Math.sin(n)*Math.sin(n)),a=o/i-1,s=Math.tan(n)*Math.tan(n),u=Math.pow(Math.tan(n),4),c=Math.pow(Math.tan(n),6),T=Math.pow(Math.cos(n),-1),h=Math.tan(n)/(2*i*o),f=Math.tan(n)/(24*i*(o*o*o))*(5+3*s+a-9*a*s),l=Math.tan(n)/(720*i*Math.pow(o,5))*(61+90*s+45*u),d=n-N*N*h+Math.pow(N,4)*f-Math.pow(N,6)*l,M=Math.pow(Math.cos(n),-1)/o,p=T/(o*o*o*6)*(o/i+2*s),g=T/(120*Math.pow(o,5))*(5+28*s+24*u),O=T/(5040*Math.pow(o,7))*(61+662*s+1320*u+720*c),H=N*M-.0523598775598-N*N*N*p+Math.pow(N,5)*g-Math.pow(N,7)*O,v=es(d,H);return new Za(v.lat*ma,v.lng*ma)}},{key:"to_gridref",value:function(t){return this.y>=55e5?$a("WA",this.x-5e5,this.y-55e5,t||1):this.y<55e5?$a("WV",this.x-5e5,this.y-54e5,t||1):null}},{key:"to_hectad",value:function(){return this.y>55e5?"WA"+this.x.toString().substring(1,2)+this.y.toString().substring(2,3):this.y<55e5?"WV"+this.x.toString().substring(1,2)+this.y.toString().substring(2,3):null}}]),r}(),es=function(t,e){return xa._transform(t,e,6378388,.0067226700223333,10,6378137,.00669438037928458,-83.901,-98.127,-118.635,0,0,0,0)},rs=function(t,e,r,S,N,n){for(var o=(t-e)/r+S,i=xa._Marc(n,N,S,o),a=(t-e-i)/r+o,s=0;Math.abs(t-e-i)>1e-5&&s<20;)s+=1,a=(t-e-i)/r+o,i=xa._Marc(n,N,S,a),o=a;return a};function Ss(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}var Ns=function(t){wi(r,Eo);var e=Ss(r);function r(){var t;return Uo(this,r),Lo(Ri(t=e.call(this)),"country","CI"),Lo(Ri(t),"GridCoords",ts),Lo(Ri(t),"gridCoords",null),t.parse_well_formed=t.from_string,t}return Co(r,[{key:"from_string",value:function(t){var e,S=t.replace(/[\[\]\s\t.\/-]+/g,"").toUpperCase(),N="";/[ABCDEFGHIJKLMNPQRSTUVWXYZ]$/.test(S)&&(Eo.quadrantOffsets.hasOwnProperty(S.substr(S.length-2))?(this.quadrantCode=S.substr(S.length-2),S=S.substr(0,S.length-2)):(N=S.substr(S.length-1),S=S.substr(0,S.length-1))),/^(W[AV](?:\d\d){1,5})$/.test(S)?(e=r.gridref_string_to_e_n_l(S))?(this.length=e.length,this.gridCoords=new ts(e.e,e.n),this.hectad=this.gridCoords.to_gridref(1e4),1e4===this.length&&(N||this.quadrantCode)?N?(this.preciseGridRef=S+N,this.tetrad=this.hectad+N,this.tetradLetter=N,this.length=2e3,this.gridCoords.x+=Eo.tetradOffsets[N][0],this.gridCoords.y+=Eo.tetradOffsets[N][1]):(this.preciseGridRef=S+this.quadrantCode,this.tetradLetter="",this.tetrad="",this.quadrant=this.preciseGridRef,this.length=5e3,this.gridCoords.x+=Eo.quadrantOffsets[this.quadrantCode][0],this.gridCoords.y+=Eo.quadrantOffsets[this.quadrantCode][1]):(this.preciseGridRef=S,this.length<=1e3&&this.set_tetrad())):(this.error=!0,this.errorMessage="Grid reference format not understood (odd length)."):(this.error=!0,this.errorMessage="Channel Island grid reference format not understood. ('"+t+"')")}}],[{key:"gridref_string_to_e_n_l",value:function(t){var e,r,S,N,n=t.substr(0,2);if("WA"===n)e=55e5;else{if("WV"!==n)return console.log("Bad Channel Island grid letters: '"+n+"'"),!1;e=54e5}var o=t.substr(2);switch(o.length){case 2:r=1e4*o.charAt(0),S=1e4*o.charAt(1),N=1e4;break;case 4:r=1e3*o.substr(0,2),S=1e3*o.substr(2),N=1e3;break;case 6:r=100*o.substr(0,3),S=100*o.substr(3),N=100;break;case 8:r=10*o.substr(0,4),S=10*o.substr(4),N=10;break;case 10:r=parseInt(o.substr(0,5),10),S=parseInt(o.substr(5),10),N=1;break;default:return console.log("Bad length for Channel Island grid ref '"+t+"'"),!1}return{e:r+5e5,n:S+e,length:N}}}]),r}(),ns=s,os=Ce,is=Wr,as=qS,ss=D,us=dt,cs=bn,Ts=xn;Mn("match",(function(t,e,r){return[function(e){var r=ss(this),S=null==e?void 0:us(e,t);return S?ns(S,e,r):new RegExp(e)[t](as(r))},function(t){var S=os(this),N=as(t),n=r(e,S,N);if(n.done)return n.value;if(!S.global)return Ts(S,N);var o=S.unicode;S.lastIndex=0;for(var i,a=[],s=0;null!==(i=Ts(S,N));){var u=as(i[0]);a[s]=u,""===u&&(S.lastIndex=cs(N,is(S.lastIndex),o)),s++}return 0===s?null:a}]}));var hs=N,fs=XS,ls=zr.indexOf,ds=function(t,e){var r=[][t];return!!r&&hs((function(){r.call(null,e||function(){throw 1},1)}))},Ms=v([].indexOf),ps=!!Ms&&1/Ms([1],1,-0)<0,gs=ds("indexOf");function Os(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}fs({target:"Array",proto:!0,forced:ps||!gs},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return ps?Ms(this,t,e)||0:ls(this,t,e)}});var Hs=function(t){wi(r,Va);var e=Os(r);function r(t,S){var N;return Uo(this,r),Lo(Ri(N=e.call(this)),"gridCoords",null),Lo(Ri(N),"country","GB"),N.x=t,N.y=S,N}return Co(r,[{key:"to_gridref",value:function(t){var e,r=this.x/1e5|0,S=this.y/1e5|0;e=S<5?r<5?"S":"T":S<10?r<5?"N":"O":r<5?"H":"J";var N=65+5*(4-S%5)+r%5;N>=73&&N++;var n=String.fromCharCode(N);return $a(e+n,this.x-1e5*r,this.y-1e5*S,t||1)}},{key:"to_hectad",value:function(){var t=this.x/1e5|0,e=this.y/1e5|0,r=65+5*(4-e%5)+t%5;return r>=73&&r++,(e<5?t<5?"S":"T":e<10?t<5?"N":"O":t<5?"H":"J")+String.fromCharCode(r)+((this.x-1e5*t)/1e4|0)+((this.y-1e5*e)/1e4|0)}},{key:"is_gb_hectad",value:function(){return-1!==r.gbHectads.indexOf(this.to_hectad())}},{key:"to_latLng",value:function(){var t,e=4e5,r=.85521133347722,S=6377563.396,N=.00667054007,n=this.x,o=this.y,i=.0016732203289875,a=(o+1e5)/(.9996012717*S)+r;do{a+=(t=o+1e5-6353722.489*(1.0016767257674*(a-r)-.00502807228247412*Math.sin(a-r)*Math.cos(a+r)+(1.875*i*i+1.875*i*i*i)*Math.sin(2*(a-r))*Math.cos(2*(a+r))-35/24*i*i*i*Math.sin(3*(a-r))*Math.cos(3*(a+r))))/6375020.48098897}while(t>=.001);var s=Math.sin(a)*Math.sin(a),u=Math.tan(a)*Math.tan(a),c=1/Math.cos(a),T=.9996012717*S*Math.pow(1-N*s,-.5),h=6332495.651423464*Math.pow(1-N*s,-1.5),f=T/h-1,l=Math.tan(a)/(2*h*T),d=Math.tan(a)/(24*h*Math.pow(T,3))*(5+3*u+f-9*u*f),M=Math.tan(a)/(720*h*Math.pow(T,5))*(61+90*u+45*u*u),p=c/T,g=c/(6*T*T*T)*(T/h+2*u),O=c/(120*Math.pow(T,5))*(5+28*u+24*u*u),H=c/(5040*Math.pow(T,7))*(61+662*u+1320*u*u+720*u*u*u),v=a-l*Math.pow(n-e,2)+d*Math.pow(n-e,4)-M*Math.pow(n-e,6),y=p*(n-e)-.034906585039887-g*Math.pow(n-e,3)+O*Math.pow(n-e,5)-H*Math.pow(n-e,7);return new Wa(ma*v,ma*y).to_WGS84()}}]),r}();function vs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}Lo(Hs,"gbHectads","SV80SV81SV90SV91SW32SW33SW42SW43SW44SW52SW53SW54SW61SW62SW63SW64SW65SW71SW72SW73SW74SW75SW76SW81SW82SW83SW84SW85SW86SW87SW95SW96SW97SS10SS11SS20SS21SS30SW83SW84SW85SW93SW94SW95SW96SW97SW98SX03SX04SX05SX06SX07SX08SX09SX14SX15SX16SX17SX18SX19SX25SX26SX27SX28SX29SX35SX36SX37SX38SX39SX44SX45SX46SX47SS70SS80SS81SS90SS91ST00ST01ST10ST11ST20ST21ST30SX37SX44SX45SX46SX47SX48SX54SX55SX56SX57SX58SX63SX64SX65SX66SX67SX68SX69SX73SX74SX75SX76SX77SX78SX79SX83SX84SX85SX86SX87SX88SX89SX94SX95SX96SX97SX98SX99SY07SY08SY09SY18SY19SY28SY29SY38SY39SS14SS20SS21SS22SS30SS31SS32SS40SS41SS42SS43SS44SS50SS51SS52SS53SS54SS60SS61SS62SS63SS64SS70SS71SS72SS73SS74SS75SS80SS81SS82SS83SS91SS92ST01ST02SX28SX29SX37SX38SX39SX48SX49SX58SX59SX68SX69SX79SS73SS74SS82SS83SS84SS92SS93SS94ST01ST02ST03ST04ST11ST12ST13ST14ST20ST21ST22ST23ST24ST25ST30ST31ST32ST33ST34ST40ST41ST42ST50ST51ST52ST61ST62ST71ST72ST24ST25ST26ST32ST33ST34ST35ST36ST37ST42ST43ST44ST45ST46ST47ST52ST53ST54ST55ST56ST57ST62ST63ST64ST65ST66ST67ST72ST73ST74ST75ST76ST77ST83ST84ST85ST86SP00SP10ST76ST77ST85ST86ST87ST88ST89ST96ST97ST98ST99SU06SU07SU08SU09SU16SU17SU18SU19SU26SU27SU28SU29SU36SU37ST73ST74ST75ST76ST82ST83ST84ST85ST86ST91ST92ST93ST94ST95ST96SU01SU02SU03SU04SU05SU06SU11SU12SU13SU14SU15SU16SU21SU22SU23SU24SU25SU26SU31SU32SU34SU35SU36ST20ST30ST40ST50ST51ST60ST61ST70ST71ST72ST73ST80ST81ST82ST83ST90ST91ST92SU00SU01SU02SU10SU11SY39SY48SY49SY58SY59SY66SY67SY68SY69SY77SY78SY79SY87SY88SY89SY97SY98SY99SZ07SZ08SZ09SZ28SZ38SZ39SZ47SZ48SZ49SZ57SZ58SZ59SZ68SZ69SU00SU01SU02SU10SU11SU12SU20SU21SU22SU23SU30SU31SU32SU33SU40SU41SU42SU43SU50SU51SU52SU60SU61SU62SU70SU71SU72SZ08SZ09SZ19SZ29SZ38SZ39SZ49SZ59SZ69SZ79SU23SU24SU25SU33SU34SU35SU36SU42SU43SU44SU45SU46SU52SU53SU54SU55SU56SU62SU63SU64SU65SU66SU72SU73SU74SU75SU76SU82SU83SU84SU85SU86SU70SU71SU72SU80SU81SU82SU83SU90SU91SU92SU93SZ79SZ89SZ99TQ00TQ01TQ02TQ03TQ10TQ11TQ12TQ13TQ20TQ21TQ22TQ23TQ30TQ31TQ32TQ20TQ21TQ22TQ23TQ30TQ31TQ32TQ33TQ40TQ41TQ42TQ43TQ44TQ50TQ51TQ52TQ53TQ54TQ60TQ61TQ62TQ63TQ70TQ71TQ72TQ80TQ81TQ82TQ91TQ92TV49TV59TV69TQ65TQ72TQ73TQ74TQ75TQ76TQ77TQ82TQ83TQ84TQ85TQ86TQ87TQ91TQ92TQ93TQ94TQ95TQ96TQ97TR01TR02TR03TR04TR05TR06TR07TR12TR13TR14TR15TR16TR23TR24TR25TR26TR27TR33TR34TR35TR36TR37TR46TR47TQ35TQ36TQ37TQ38TQ43TQ44TQ45TQ46TQ47TQ48TQ53TQ54TQ55TQ56TQ57TQ58TQ63TQ64TQ65TQ66TQ67TQ72TQ73TQ74TQ75TQ76TQ77TQ78TQ87TQ88TQ97SU83SU84SU85SU86SU93SU94SU95SU96SU97TQ03TQ04TQ05TQ06TQ07TQ13TQ14TQ15TQ16TQ17TQ23TQ24TQ25TQ26TQ27TQ33TQ34TQ35TQ36TQ37TQ38TQ43TQ44TQ45TL30TL40TL50TL60TL70TL80TL90TM00TQ38TQ39TQ47TQ48TQ49TQ57TQ58TQ59TQ67TQ68TQ69TQ77TQ78TQ79TQ88TQ89TQ98TQ99TR08TR09TR19TL30TL31TL34TL40TL41TL42TL43TL44TL50TL51TL52TL53TL54TL60TL61TL62TL63TL64TL70TL71TL72TL73TL74TL80TL81TL82TL83TL84TL90TL91TL92TL93TM01TM02TM03TM11TM12TM13TM21TM22TM23TQ49SP81SP90SP91TL00TL01TL02TL10TL11TL12TL13TL20TL21TL22TL23TL24TL30TL31TL32TL33TL34TL41TL42TL43TL44TL51TL52TQ09TQ19TQ29TQ39TL20TL30TQ06TQ07TQ08TQ09TQ16TQ17TQ18TQ19TQ27TQ28TQ29TQ37TQ38TQ39SP20SP30SP40SP41SP50SU19SU26SU27SU28SU29SU36SU37SU38SU39SU46SU47SU48SU49SU56SU57SU58SU59SU66SU67SU68SU69SU76SU77SU78SU86SU87SU88SU96SU97SU98SP10SP20SP21SP22SP23SP30SP31SP32SP33SP34SP40SP41SP42SP43SP44SP45SP50SP51SP52SP53SP54SP60SP61SP62SP63SP70SU29SU39SU49SU57SU58SU59SU67SU68SU69SU77SU78SU79SP51SP53SP60SP61SP62SP63SP64SP70SP71SP72SP73SP74SP80SP81SP82SP83SP84SP85SP90SP91SP92SP93SP94SP95SU78SU79SU88SU89SU97SU98SU99TL00TL01TQ07TQ08TQ09TG40TG50TM03TM04TM05TM06TM07TM13TM14TM15TM16TM17TM23TM24TM25TM26TM27TM28TM33TM34TM35TM36TM37TM38TM39TM44TM45TM46TM47TM48TM49TM57TM58TM59TL64TL65TL66TL67TL68TL74TL75TL76TL77TL78TL83TL84TL85TL86TL87TL88TL93TL94TL95TL96TL97TL98TM03TM04TM05TM06TM07TM08TG00TG01TG02TG03TG04TG10TG11TG12TG13TG14TG20TG21TG22TG23TG24TG30TG31TG32TG33TG40TG41TG42TG50TG51TM07TM08TM09TM17TM18TM19TM27TM28TM29TM38TM39TM49TM59TF40TF41TF42TF50TF51TF52TF53TF60TF61TF62TF63TF64TF70TF71TF72TF73TF74TF80TF81TF82TF83TF84TF90TF91TF92TF93TF94TG00TG01TG02TG03TG04TL49TL59TL68TL69TL78TL79TL87TL88TL89TL98TL99TM07TM08TM09TF20TF30TF31TF40TF41TF50TL15TL19TL23TL24TL25TL26TL28TL29TL33TL34TL35TL36TL37TL38TL39TL44TL45TL46TL47TL48TL49TL54TL55TL56TL57TL58TL59TL63TL64TL65TL66TL67TL68TL69TL75TL76SP91SP92SP93SP94SP95SP96TL01TL02TL03TL04TL05TL06TL07TL11TL12TL13TL14TL15TL16TL23TL24TL25TL06TL07TL08TL09TL15TL16TL17TL18TL19TL25TL26TL27TL28TL29TL36TL37TL38TL39SK90SP43SP44SP45SP46SP53SP54SP55SP56SP57SP58SP63SP64SP65SP66SP67SP68SP73SP74SP75SP76SP77SP78SP79SP84SP85SP86SP87SP88SP89SP95SP96SP97SP98SP99TF00TF10TF20TL06TL07TL08TL09TL18TL19TL29SO70SO71SO80SO81SO82SO83SO90SO91SO92SO93SO94SP00SP01SP02SP03SP04SP10SP11SP12SP13SP14SP15SP20SP21SP22SP23SP24SP25ST99SU09SU19SU29SO50SO51SO60SO61SO62SO63SO70SO71SO72SO73SO80SO81SO82SO83SO90ST57ST58ST59ST66ST67ST68ST69ST76ST77ST78ST79ST87ST88ST89ST98ST99SO10SO11SO20SO21SO22SO23SO30SO31SO32SO40SO41SO42SO50SO51ST18ST19ST27ST28ST29ST37ST38ST39ST47ST48ST49ST58ST59SO22SO23SO24SO25SO26SO32SO33SO34SO35SO36SO37SO41SO42SO43SO44SO45SO46SO47SO51SO52SO53SO54SO55SO56SO57SO61SO62SO63SO64SO65SO66SO73SO74SO75SO76SO56SO64SO65SO66SO67SO72SO73SO74SO75SO76SO77SO78SO82SO83SO84SO85SO86SO87SO88SO93SO94SO95SO96SO97SO98SO99SP03SP04SP05SP06SP07SP08SP13SP14SP16SP17SP18SK10SK20SK30SP04SP05SP06SP07SP08SP09SP14SP15SP16SP17SP18SP19SP22SP23SP24SP25SP26SP27SP28SP29SP33SP34SP35SP36SP37SP38SP39SP44SP45SP46SP47SP48SP49SP55SP56SP57SP58SJ63SJ70SJ71SJ72SJ73SJ74SJ75SJ80SJ81SJ82SJ83SJ84SJ85SJ86SJ90SJ91SJ92SJ93SJ94SJ95SJ96SK00SK01SK02SK03SK04SK05SK06SK10SK11SK12SK13SK14SK15SK16SK20SK21SK22SO77SO78SO79SO88SO89SO98SO99SP08SP09SP19SP29SJ20SJ21SJ22SJ23SJ30SJ31SJ32SJ33SJ34SJ40SJ41SJ42SJ43SJ50SJ51SJ52SJ53SJ54SJ60SJ61SJ62SJ63SJ64SJ70SJ71SJ72SJ73SJ74SJ80SO17SO18SO27SO28SO29SO37SO38SO39SO46SO47SO48SO49SO56SO57SO58SO59SO66SO67SO68SO69SO77SO78SO79SO88SO89SN50SN60SN61SN70SN71SN80SN81SN90SO00SO01SO10SO11SS38SS39SS48SS49SS58SS59SS68SS69SS77SS78SS79SS87SS88SS89SS96SS97SS98SS99ST06ST07ST08ST09ST16ST17ST18ST19ST26ST27ST28SN70SN71SN74SN80SN81SN82SN83SN84SN85SN86SN90SN91SN92SN93SN94SN95SN96SO00SO01SO02SO03SO04SO05SO06SO10SO11SO12SO13SO14SO21SO22SO23SO24SN86SN87SN96SN97SO04SO05SO06SO07SO08SO13SO14SO15SO16SO17SO18SO24SO25SO26SO27SO36SO37SN01SN02SN10SN11SN12SN20SN21SN22SN23SN24SN30SN31SN32SN33SN34SN40SN41SN42SN43SN44SN50SN51SN52SN53SN54SN60SN61SN62SN63SN64SN65SN71SN72SN73SN74SN75SN81SN82SN83SN84SS39SS49SS59SM50SM62SM70SM71SM72SM73SM80SM81SM82SM83SM84SM90SM91SM92SM93SM94SN00SN01SN02SN03SN04SN10SN11SN12SN13SN14SN22SN23SN24SR89SR99SS09SS19SN14SN15SN24SN25SN33SN34SN35SN36SN44SN45SN46SN54SN55SN56SN57SN58SN64SN65SN66SN67SN68SN69SN74SN75SN76SN77SN78SN79SN84SN85SN86SN87SN88SN89SH70SH71SH80SH81SH90SH91SH92SJ00SJ01SJ02SJ03SJ10SJ11SJ12SJ20SJ21SJ22SJ31SN69SN78SN79SN87SN88SN89SN97SN98SN99SO07SO08SO09SO18SO19SO28SO29SO39SH50SH51SH52SH53SH54SH60SH61SH62SH63SH64SH70SH71SH72SH73SH74SH80SH81SH82SH83SH84SH91SH92SH93SH94SH95SJ03SJ04SJ05SJ13SJ14SN59SN69SN79SH12SH13SH22SH23SH24SH32SH33SH34SH43SH44SH45SH46SH53SH54SH55SH56SH57SH64SH65SH66SH67SH74SH75SH76SH77SH78SH84SH85SH86SH87SH88SH74SH75SH76SH77SH84SH85SH86SH87SH88SH94SH95SH96SH97SH98SJ02SJ03SJ04SJ05SJ06SJ07SJ08SJ12SJ13SJ14SJ15SJ16SJ17SJ22SJ23SJ24SJ25SJ26SJ33SJ34SJ35SJ43SJ44SJ45SJ53SJ54SH97SH98SJ06SJ07SJ08SJ15SJ16SJ17SJ18SJ25SJ26SJ27SJ35SJ36SJ37SH27SH28SH29SH36SH37SH38SH39SH46SH47SH48SH49SH56SH57SH58SH59SH67SH68SK81SK82SK83SK84SK85SK86SK87SK90SK91SK92SK93SK94SK95SK96SK97TF00TF01TF02TF03TF04TF05TF06TF07TF10TF11TF12TF13TF14TF15TF16TF17TF20TF21TF22TF23TF24TF25TF30TF31TF32TF33TF34TF41TF42TF43TF44TF52SE60SE70SE71SE80SE81SE82SE90SE91SE92SK78SK79SK87SK88SK89SK97SK98SK99TA00TA01TA02TA10TA11TA12TA20TA21TA30TA31TA40TF07TF08TF09TF15TF16TF17TF18TF19TF24TF25TF26TF27TF28TF29TF33TF34TF35TF36TF37TF38TF39TF43TF44TF45TF46TF47TF48TF49TF54TF55TF56TF57TF58SK20SK21SK30SK31SK32SK40SK41SK42SK43SK50SK51SK52SK60SK61SK62SK70SK71SK72SK73SK74SK80SK81SK82SK83SK84SK90SK91SP39SP48SP49SP57SP58SP59SP68SP69SP78SP79SP89SP99TF00TF01SE60SE70SK42SK43SK44SK45SK46SK52SK53SK54SK55SK56SK57SK58SK59SK62SK63SK64SK65SK66SK67SK68SK69SK72SK73SK74SK75SK76SK77SK78SK79SK84SK85SK86SK87SK88SK89SK97SJ98SJ99SK03SK06SK07SK08SK09SK11SK12SK13SK14SK15SK16SK17SK18SK19SK21SK22SK23SK24SK25SK26SK27SK28SK31SK32SK33SK34SK35SK36SK37SK38SK42SK43SK44SK45SK46SK47SK48SK53SK56SK57SD90SE00SE10SJ18SJ19SJ27SJ28SJ29SJ35SJ36SJ37SJ38SJ39SJ44SJ45SJ46SJ47SJ48SJ54SJ55SJ56SJ57SJ58SJ63SJ64SJ65SJ66SJ67SJ68SJ69SJ74SJ75SJ76SJ77SJ78SJ79SJ85SJ86SJ87SJ88SJ89SJ96SJ97SJ98SJ99SK06SK07SK08SK09SK19SD20SD21SD22SD30SD31SD32SD40SD41SD42SD50SD51SD52SD53SD60SD61SD62SD63SD70SD71SD72SD73SD74SD80SD81SD82SD83SD84SD90SD91SD92SD93SD94SJ29SJ38SJ39SJ48SJ49SJ58SJ59SJ68SJ69SJ79SJ88SJ89SJ99SD22SD23SD32SD33SD34SD35SD36SD42SD43SD44SD45SD46SD47SD52SD53SD54SD55SD56SD57SD63SD64SD65SD66SD67SD68SD73SD78SE53SE54SE62SE63SE64SE65SE72SE73SE74SE75SE76SE82SE83SE84SE85SE86SE87SE92SE93SE94SE95SE96SE97SE98TA02TA03TA04TA05TA06TA07TA08TA12TA13TA14TA15TA16TA17TA18TA21TA22TA23TA24TA26TA27TA31TA32TA33TA41TA42NZ30NZ31NZ40NZ41NZ42NZ50NZ51NZ52NZ60NZ61NZ62NZ70NZ71NZ72NZ80NZ81NZ90NZ91SE37SE38SE39SE46SE47SE48SE49SE55SE56SE57SE58SE59SE64SE65SE66SE67SE68SE69SE75SE76SE77SE78SE79SE86SE87SE88SE89SE97SE98SE99TA08TA09TA18SD84SD90SD91SD92SD93SD94SD95SE00SE01SE02SE03SE04SE10SE11SE12SE13SE14SE20SE21SE22SE23SE30SE31SE32SE33SE40SE41SE42SE50SE51SE52SE60SE61SE62SE70SE71SE72SE81SE82SK18SK19SK28SK29SK38SK39SK47SK48SK49SK57SK58SK59SK69SD54SD55SD64SD65SD66SD67SD68SD73SD74SD75SD76SD77SD78SD84SD85SD86SD87SD88SD94SD95SD96SD97SD98SE04SE05SE06SE07SE13SE14SE15SE16SE17SE23SE24SE25SE26SE27SE32SE33SE34SE35SE36SE37SE42SE43SE44SE45SE46SE52SE53SE54SE55SE56SE62SE63SE64SE65SE72NY72NY80NY81NY82NY90NY91NY92NZ00NZ01NZ02NZ10NZ11NZ20NZ21NZ30NZ31SD68SD69SD78SD79SD88SD89SD97SD98SD99SE07SE08SE09SE17SE18SE19SE27SE28SE29SE36SE37SE38SE39SE46SE47NY73NY74NY82NY83NY84NY92NY93NY94NY95NZ01NZ02NZ03NZ04NZ05NZ11NZ12NZ13NZ14NZ15NZ16NZ20NZ21NZ22NZ23NZ24NZ25NZ26NZ30NZ31NZ32NZ33NZ34NZ35NZ36NZ41NZ42NZ43NZ44NZ45NZ46NZ52NZ53NT60NT70NT80NT90NU00NU10NU20NY58NY59NY64NY65NY66NY67NY68NY69NY74NY75NY76NY77NY78NY79NY84NY85NY86NY87NY88NY89NY94NY95NY96NY97NY98NY99NZ04NZ05NZ06NZ07NZ08NZ09NZ15NZ16NZ17NZ18NZ19NZ26NZ27NZ28NZ29NZ36NZ37NZ38NZ39NT70NT71NT73NT80NT81NT82NT83NT84NT90NT91NT92NT93NT94NT95NU00NU01NU02NU03NU04NU05NU10NU11NU12NU13NU14NU20NU21NU22NU23NZ09NZ19NY20NY21NY30NY31NY40NY41NY42NY50NY51NY52NY53NY60NY61NY62NY63NY70NY71NY72NY73NY80NY81NY82NY83SD16SD17SD18SD19SD26SD27SD28SD29SD36SD37SD38SD39SD46SD47SD48SD49SD57SD58SD59SD67SD68SD69SD78SD79SD89NX90NX91NX92NX93NY00NY01NY02NY03NY04NY05NY10NY11NY12NY13NY14NY15NY16NY20NY21NY22NY23NY24NY25NY26NY31NY32NY33NY34NY35NY36NY37NY41NY42NY43NY44NY45NY46NY47NY48NY52NY53NY54NY55NY56NY57NY58NY62NY63NY64NY65NY66NY67NY68NY73NY74NY75NY84SD08SD09SD17SD18SD19SD28SD29NX30NX40SC16SC17SC26SC27SC28SC36SC37SC38SC39SC47SC48SC49NS60NS61NS70NS71NS72NS80NS81NS90NT00NT01NT10NT11NT20NT21NT30NX69NX78NX79NX88NX89NX96NX97NX98NX99NY05NY06NY07NY08NY09NY16NY17NY18NY19NY26NY27NY28NY29NY36NY37NY38NY39NY47NY48NY49NS50NS60NX36NX37NX38NX45NX46NX47NX48NX49NX54NX55NX56NX57NX58NX59NX64NX65NX66NX67NX68NX69NX74NX75NX76NX77NX78NX79NX84NX85NX86NX87NX88NX95NX96NX97NX98NY05NY06NW95NW96NW97NX03NX04NX05NX06NX07NX13NX14NX15NX16NX17NX24NX25NX26NX27NX33NX34NX35NX36NX37NX43NX44NX45NX46NS00NS10NS14NS15NS16NS20NS21NS23NS24NS25NS26NS30NS31NS32NS33NS34NS35NS36NS40NS41NS42NS43NS44NS45NS50NS51NS52NS53NS54NS55NS60NS61NS62NS63NS64NS71NS72NS73NX07NX08NX09NX17NX18NX19NX27NX28NX29NX37NX38NX39NX48NX49NX59NS16NS17NS26NS27NS35NS36NS37NS44NS45NS46NS47NS54NS55NS56NS64NS65NS66NS53NS54NS55NS56NS57NS63NS64NS65NS66NS67NS71NS72NS73NS74NS75NS76NS77NS80NS81NS82NS83NS84NS85NS86NS87NS90NS91NS92NS93NS94NS95NS96NT00NT01NT02NT03NT04NT05NT14NT01NT02NT03NT04NT05NT11NT12NT13NT14NT15NT21NT22NT23NT24NT25NT32NT33NT34NT10NT11NT20NT21NT22NT23NT30NT31NT32NT33NT34NT41NT42NT43NT44NT53NT20NT30NT31NT40NT41NT42NT43NT44NT50NT51NT52NT53NT54NT60NT61NT62NT63NT64NT70NT71NT72NT73NT74NT81NT82NT83NY39NY47NY48NY49NY58NY59NY69NT44NT45NT46NT53NT54NT55NT56NT63NT64NT65NT66NT73NT74NT75NT76NT77NT83NT84NT85NT86NT87NT94NT95NT96NT36NT37NT45NT46NT47NT48NT55NT56NT57NT58NT65NT66NT67NT68NT76NT77NS95NS96NT05NT06NT15NT16NT17NT24NT25NT26NT27NT34NT35NT36NT37NT43NT44NT45NT46NS86NS87NS95NS96NS97NS98NT06NT07NT08NT16NT17NO00NO01NO10NO11NO20NO21NO22NO30NO31NO32NO40NO41NO42NO50NO51NO52NO60NO61NS99NT08NT09NT18NT19NT28NT29NT39NT49NT59NT69NN30NN31NN40NN41NS38NS39NS47NS48NS49NS57NS58NS59NS67NS68NS69NS77NS78NS79NS86NS87NS88NS89NS97NS98NN21NN22NN30NN31NN32NN40NN41NN42NN50NN51NN52NN60NN61NN70NN71NN80NN81NN90NN91NO00NS49NS59NS69NS79NS88NS89NS98NS99NT08NT09NN22NN23NN32NN33NN34NN35NN42NN43NN44NN45NN46NN47NN51NN52NN53NN54NN55NN56NN57NN61NN62NN63NN64NN65NN66NN67NN71NN72NN73NN74NN75NN76NN77NN81NN82NN83NN84NN85NN86NN90NN91NN92NN93NN94NN95NN96NO00NO01NO02NO03NO04NO11NO12NO13NO21NN56NN57NN66NN67NN68NN76NN77NN78NN86NN87NN88NN94NN95NN96NN97NN98NO02NO03NO04NO05NO06NO07NO08NO11NO12NO13NO14NO15NO16NO17NO21NO22NO23NO24NO25NO32NO33NO34NO15NO16NO17NO23NO24NO25NO26NO27NO28NO32NO33NO34NO35NO36NO37NO38NO42NO43NO44NO45NO46NO47NO48NO53NO54NO55NO56NO57NO58NO63NO64NO65NO66NO67NO74NO75NO76NJ60NJ70NJ80NJ90NO57NO58NO66NO67NO68NO69NO76NO77NO78NO79NO86NO87NO88NO89NO99NH90NJ00NJ10NJ11NJ20NJ21NJ30NJ31NJ32NJ40NJ41NJ42NJ50NJ51NJ52NJ60NJ61NJ62NJ70NJ71NJ72NJ80NJ81NJ82NJ90NJ91NJ92NK02NN98NN99NO07NO08NO09NO17NO18NO19NO27NO28NO29NO37NO38NO39NO48NO49NO58NO59NO68NO69NO79NO89NJ31NJ32NJ33NJ34NJ42NJ43NJ44NJ52NJ53NJ54NJ55NJ62NJ63NJ64NJ65NJ72NJ73NJ74NJ75NJ76NJ82NJ83NJ84NJ85NJ86NJ92NJ93NJ94NJ95NJ96NK02NK03NK04NK05NK06NK13NK14NK15NH90NJ00NJ01NJ10NJ11NJ12NJ13NJ14NJ21NJ22NJ23NJ24NJ25NJ32NJ33NJ34NJ35NJ36NJ42NJ43NJ44NJ45NJ46NJ54NJ55NJ56NJ64NJ65NJ66NJ74NJ75NJ76NJ86NN99NH72NH81NH82NH91NH92NH93NH94NH95NH96NJ00NJ01NJ02NJ03NJ04NJ05NJ06NJ11NJ12NJ13NJ14NJ15NJ16NJ17NJ23NJ24NJ25NJ26NJ27NJ34NJ35NJ36NJ45NH01NH02NH10NH11NH12NH13NH14NH20NH21NH22NH23NH24NH30NH31NH32NH33NH34NH40NH41NH42NH43NH44NH50NH51NH52NH53NH54NH60NH61NH62NH63NH64NH70NH71NH72NH73NH74NH75NH80NH81NH82NH83NH84NH85NH90NH91NH92NH93NH94NH95NH96NJ00NJ01NN39NN46NN47NN48NN49NN56NN57NN58NN59NN67NN68NN69NN77NN78NN79NN88NN89NN98NN99NG60NG70NG71NG72NG80NG81NG82NG90NG91NH00NH01NH10NH20NH30NM46NM47NM54NM55NM56NM57NM64NM65NM66NM67NM68NM69NM74NM75NM76NM77NM78NM79NM84NM85NM86NM87NM88NM89NM95NM96NM97NM98NM99NN05NN06NN07NN08NN09NN16NN17NN18NN19NN26NN27NN28NN29NN35NN36NN37NN38NN39NN46NN47NN48NN49NN57NN58NN59NM70NM71NM72NM73NM80NM81NM82NM83NM84NM90NM91NM92NM93NM94NM95NN00NN01NN02NN03NN04NN05NN10NN11NN12NN13NN14NN15NN16NN20NN21NN22NN23NN24NN25NN26NN30NN33NN34NN35NN36NN44NN45NN46NR79NR88NR89NR96NR97NR98NR99NS06NS07NS08NS09NS16NS17NS18NS19NS28NS29NN20NN21NN30NN31NS28NS29NS37NS38NS39NS46NS47NS48NS56NS57NR82NR83NR84NR92NR93NR94NR95NR96NR97NS01NS02NS03NS04NS05NS06NS07NS15NS16NR50NR51NR60NR61NR62NR63NR64NR65NR67NR68NR70NR71NR72NR73NR74NR75NR76NR77NR78NR79NR83NR84NR85NR86NR87NR88NR89NR95NR96NM40NM60NM61NM70NM71NR15NR16NR24NR25NR26NR27NR34NR35NR36NR37NR38NR39NR44NR45NR46NR47NR48NR49NR56NR57NR58NR59NR67NR68NR69NR79NL93NL94NM04NM05NM15NM16NM21NM22NM23NM24NM25NM26NM31NM32NM33NM34NM35NM41NM42NM43NM44NM45NM51NM52NM53NM54NM55NM61NM62NM63NM64NM72NM73NG13NG14NG15NG20NG23NG24NG25NG26NG30NG31NG32NG33NG34NG35NG36NG37NG38NG40NG41NG42NG43NG44NG45NG46NG47NG50NG51NG52NG53NG54NG55NG56NG60NG61NG62NG63NG64NG65NG66NG71NG72NG82NM19NM29NM37NM38NM39NM47NM48NM49NM59NB90NB91NC00NC01NC10NC11NC20NC21NG63NG64NG65NG72NG73NG74NG75NG76NG77NG78NG79NG82NG83NG84NG85NG86NG87NG88NG89NG91NG92NG93NG94NG95NG96NG97NG98NG99NH00NH01NH02NH03NH04NH05NH06NH07NH08NH09NH10NH11NH15NH16NH17NH18NH19NH27NH28NH29NC10NC20NC21NC30NC31NC40NH02NH03NH04NH05NH06NH07NH12NH13NH14NH15NH16NH17NH19NH23NH24NH25NH26NH27NH28NH29NH34NH35NH36NH37NH38NH39NH44NH45NH46NH47NH48NH49NH54NH55NH56NH57NH58NH59NH64NH65NH66NH67NH68NH69NH75NH76NH77NH78NH86NH87NH88NH97NH98NC22NC30NC31NC32NC33NC40NC41NC42NC43NC50NC51NC52NC60NC61NC62NC63NC70NC71NC72NC73NC74NC80NC81NC82NC83NC84NC90NC91NC92NC93ND01ND02NH49NH59NH68NH69NH78NH79NH88NH89NC01NC02NC03NC10NC11NC12NC13NC14NC15NC16NC20NC21NC22NC23NC24NC25NC26NC27NC31NC32NC33NC34NC35NC36NC37NC42NC43NC44NC45NC46NC52NC53NC54NC55NC56NC62NC63NC64NC65NC66NC73NC74NC75NC76NC83NC84NC85NC86NC93NC94NC95NC96NC92NC93NC94NC95NC96ND01ND02ND03ND04ND05ND06ND07ND12ND13ND14ND15ND16ND17ND23ND24ND25ND26ND27ND33ND34ND35ND36ND37ND47HW63HW83HX62NA00NA10NA64NA74NA81NA90NA91NA92NA93NB00NB01NB02NB03NB10NB11NB12NB13NB14NB20NB21NB22NB23NB24NB30NB31NB32NB33NB34NB35NB40NB41NB42NB43NB44NB45NB46NB52NB53NB54NB55NB56NF09NF19NF56NF58NF60NF61NF66NF67NF68NF70NF71NF72NF73NF74NF75NF76NF77NF80NF81NF82NF83NF84NF85NF86NF87NF88NF89NF95NF96NF97NF98NF99NG07NG08NG09NG18NG19NG29NG49NL57NL58NL68NL69NL79HY10HY20HY21HY22HY23HY30HY31HY32HY33HY34HY35HY40HY41HY42HY43HY44HY45HY50HY51HY52HY53HY54HY55HY60HY61HY62HY63HY64HY73HY74HY75ND19ND28ND29ND38ND39ND47ND48ND49ND59HP40HP50HP51HP60HP61HT93HT94HU14HU15HU16HU24HU25HU26HU27HU28HU30HU31HU32HU33HU34HU35HU36HU37HU38HU39HU40HU41HU42HU43HU44HU45HU46HU47HU48HU49HU53HU54HU55HU56HU57HU58HU59HU66HU67HU68HU69HZ16HZ17HZ26HZ27");var ys=function(t){wi(r,Eo);var e=vs(r);function r(){var t;return Uo(this,r),Lo(Ri(t=e.call(this)),"country","GB"),Lo(Ri(t),"GridCoords",Hs),Lo(Ri(t),"gridCoords",null),t}return Co(r,[{key:"parse_well_formed",value:function(t){t.length>=5&&/^[A-Z]/.test(t.charAt(4))&&(Eo.quadrantOffsets.hasOwnProperty(t.substr(t.length-2))?this.quadrantCode=t.substr(t.length-2):this.tetradLetter=t.charAt(4),t=t.substr(0,4)),this.parse_wellformed_gb_gr_string_no_tetrads(t),this.tetradLetter||this.quadrantCode?this.tetradLetter?(this.preciseGridRef=this.tetrad=this.hectad+this.tetradLetter,this.length=2e3,this.gridCoords.x+=Eo.tetradOffsets[this.tetradLetter][0],this.gridCoords.y+=Eo.tetradOffsets[this.tetradLetter][1]):(this.preciseGridRef=this.quadrant=t+this.quadrantCode,this.length=5e3,this.gridCoords.x+=Eo.quadrantOffsets[this.quadrantCode][0],this.gridCoords.y+=Eo.quadrantOffsets[this.quadrantCode][1]):(this.preciseGridRef=t,this.length<=1e3&&this.set_tetrad())}},{key:"from_string",value:function(t){var e,r=t.replace(/[\[\]\s\t.-]+/g,"").toUpperCase(),S="";if(/[ABCDEFGHIJKLMNPQRSTUVWXYZ]$/.test(r)&&(Eo.quadrantOffsets.hasOwnProperty(r.substr(r.length-2))?(this.quadrantCode=r.substr(r.length-2),r=r.substr(0,r.length-2)):(S=r.substr(r.length-1),r=r.substr(0,r.length-1))),r===parseInt(r,10).toString()?r=r.substr(0,2)+"/"+r.substr(2):r.length>3&&"/"===r.charAt(2)&&/^[A-Z]{2}$/.test(r.substr(0,2))&&(r=r.replace("/","")),"VC"===r.substr(0,2))this.error=!0,this.errorMessage="Misplaced vice-county code in grid-reference field. ('"+r+"')",this.gridCoords=null,this.length=0;else if(null!==(e=r.match(/^([HJNOST][ABCDEFGHJKLMNOPQRSTUVWXYZ](?:\d\d){1,5})$/)))r=e[0],this.parse_wellformed_gb_gr_string_no_tetrads(r),this.length>0?1e4===this.length&&(S||this.quadrantCode)?S?(this.preciseGridRef=r+S,this.tetradLetter=S,this.tetrad=this.hectad+S,this.length=2e3,this.gridCoords.x+=Eo.tetradOffsets[S][0],this.gridCoords.y+=Eo.tetradOffsets[S][1]):(this.preciseGridRef=r+this.quadrantCode,this.tetradLetter="",this.tetrad="",this.quadrant=this.preciseGridRef,this.length=5e3,this.gridCoords.x+=Eo.quadrantOffsets[this.quadrantCode][0],this.gridCoords.y+=Eo.quadrantOffsets[this.quadrantCode][1]):(this.preciseGridRef=r,this.length<=1e3&&this.set_tetrad()):(this.error=!0,this.errorMessage="GB grid reference format not understood (strange length).");else if(/^([\d]{2})\/((?:\d\d){1,5})$/.test(r)){switch(this.parse_gr_string_without_tetrads(r),this.length){case 1e4:r=this.gridCoords.to_gridref(1e4),this.hectad=r,S?(r+=S,this.tetradLetter=S,this.tetrad=this.hectad+S,this.length=2e3,this.gridCoords.x+=Eo.tetradOffsets[S][0],this.gridCoords.y+=Eo.tetradOffsets[S][1]):this.quadrantCode&&(r+=this.quadrantCode,this.quadrant=r,this.length=5e3,this.gridCoords.x+=Eo.quadrantOffsets[this.quadrantCode][0],this.gridCoords.y+=Eo.quadrantOffsets[this.quadrantCode][1]);break;case 1e3:case 100:case 10:case 1:r=this.gridCoords.to_gridref(this.length),this.hectad=this.gridCoords.to_gridref(1e4),this.set_tetrad();break;default:this.error=!0,this.errorMessage="Bad grid square dimension ("+this.length+" m).",this.gridCoords=null,this.length=0}this.preciseGridRef=r}else this.gridCoords=null,this.length=0,this.error=!0,this.errorMessage="Grid reference format not understood. ('"+t+"')"}},{key:"parse_gr_string_without_tetrads",value:function(t){var e,r,S,N;if(null!==(e=t.match(/^(\d{2})\/((?:\d\d){1,5})$/))){switch(e[1]){case"57":r=3e5,S=1e6;break;case"67":r=4e5,S=1e6;break;case"58":r=3e5,S=11e5;break;case"68":r=4e5,S=11e5;break;case"69":r=4e5,S=12e5;break;default:r=1e5*t.charAt(0),S=1e5*t.charAt(1)}N=e[2]}else{if(!Eo.letterMapping.hasOwnProperty(t.charAt(0))||!Eo.letterMapping.hasOwnProperty(t.charAt(1)))return this.length=0,void(this.gridCoords=null);var n=Eo.letterMapping[t.charAt(0)],o=Eo.letterMapping[t.charAt(1)];N=t.substr(2),r=n%5*5e5+o%5*1e5-1e6,S=5e5*-Math.floor(n/5)-1e5*Math.floor(o/5)+19e5}switch(N.length){case 2:this.gridCoords=new Hs(r+1e4*N.charAt(0),S+1e4*N.charAt(1)),this.length=1e4;break;case 4:this.gridCoords=new Hs(r+1e3*Math.floor(N/100),S+N%100*1e3),this.length=1e3;break;case 6:this.gridCoords=new Hs(r+100*Math.floor(N/1e3),S+N%1e3*100),this.length=100;break;case 8:this.gridCoords=new Hs(r+10*Math.floor(N/1e4),S+N%1e4*10),this.length=10;break;case 10:this.gridCoords=new Hs(r+Math.floor(N/1e5),S+N%1e5),this.length=1;break;default:console.log("Bad grid ref length, ref="+t),this.gridCoords=null,this.length=0}}},{key:"parse_wellformed_gb_gr_string_no_tetrads",value:function(t){var e,r,S,N,n;switch(e=Eo.letterMapping[t.charAt(0)],r=Eo.letterMapping[t.charAt(1)],S=t.substr(2),N=e%5*5e5+r%5*1e5-1e6,n=5e5*-Math.floor(e/5)-1e5*Math.floor(r/5)+19e5,S.length){case 2:this.gridCoords=new Hs(N+1e4*S.charAt(0),n+1e4*S.charAt(1)),this.length=1e4,this.hectad=t;break;case 4:this.gridCoords=new Hs(N+1e3*Math.floor(S/100),n+S%100*1e3),this.length=1e3,this.hectad=t.substr(0,3)+t.substr(4,1);break;case 6:this.gridCoords=new Hs(N+100*Math.floor(S/1e3),n+S%1e3*100),this.length=100,this.hectad=t.substr(0,3)+t.substr(5,1);break;case 8:this.gridCoords=new Hs(N+10*Math.floor(S/1e4),n+S%1e4*10),this.length=10,this.hectad=t.substr(0,3)+t.substr(6,1);break;case 10:this.gridCoords=new Hs(N+Math.floor(S/1e5),n+S%1e5),this.length=1,this.hectad=t.substr(0,3)+t.substr(7,1);break;default:throw this.gridCoords=null,new Error("Bad grid ref length when parsing supposedly well-formed ref, ref='"+t+"'")}}}]),r}();function Js(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}var Ps=function(t){wi(r,Va);var e=Js(r);function r(t,S){var N;return Uo(this,r),Lo(Ri(N=e.call(this)),"country","IE"),Lo(Ri(N),"gridCoords",null),N.x=t,N.y=S,N}return Co(r,[{key:"to_latLng",value:function(){var t=1.000035,e=6377340.189,r=.0066705402933363,S=.0016732203841521,N=this.x-2e5,n=.0067153352074207,o=(5929615.3530033+(this.y-25e4)/t)/6366691.7742864415,i=o+.002509826623715886*Math.sin(2*o)+36745487490091978e-22*Math.sin(4*o)+151*S*S*S/96*Math.sin(6*o),a=e/Math.sqrt(1-r*Math.sin(i)*Math.sin(i)),s=Math.tan(i)*Math.tan(i),u=n*Math.cos(i)*Math.cos(i),c=e*(1-r)/Math.pow(1-r*Math.sin(i)*Math.sin(i),1.5),T=N/(a*t),h=i-a*Math.tan(i)/c*(T*T/2-(5+3*s+10*u-4*u*u-9*n)*T*T*T*T/24+(61+90*s+298*u+45*s*s-1.6922644722700164-3*u*u)*T*T*T*T*T*T/720);h*=ma;var f=(T-(1+2*s+u)*T*T*T/6+(5-2*u+28*s-3*u*u+8*n+24*s*s)*T*T*T*T*T/120)/Math.cos(i);return new ja(h,f=f*ma-8).to_WGS84()}},{key:"to_gridref",value:function(t){var e=Math.floor(this.x/1e5),S=Math.floor(this.y/1e5);return r.irishGrid[e]&&r.irishGrid[e][S]?$a(r.irishGrid[e][S],this.x-1e5*e,this.y-1e5*S,t||1):null}},{key:"to_hectad",value:function(){var t=Math.floor(this.x/1e5),e=Math.floor(this.y/1e5);return r.irishGrid[t]&&r.irishGrid[t][e]?r.irishGrid[t][e]+Math.floor(this.x%1e5/1e4)+Math.floor(this.y%1e5/1e4):""}}]),r}();function Us(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,S=Xi(t);if(e){var N=Xi(this).constructor;r=Reflect.construct(S,arguments,N)}else r=S.apply(this,arguments);return Ki(this,r)}}Lo(Ps,"irishGrid",{0:["V","Q","L","F","A"],1:["W","R","M","G","B"],2:["X","S","N","H","C"],3:["Y","T","O","J","D"]});var bs=function(t){wi(r,Eo);var e=Us(r);function r(){var t;return Uo(this,r),Lo(Ri(t=e.call(this)),"country","IE"),Lo(Ri(t),"GridCoords",Ps),Lo(Ri(t),"gridCoords",null),t.parse_well_formed=t.from_string,t}return Co(r,[{key:"from_string",value:function(t){var e=t.replace(/[\[\]\s\t.-]+/g,"").toUpperCase();/[ABCDEFGHIJKLMNPQRSTUVWXYZ]$/.test(e)&&(r.quadrantOffsets.hasOwnProperty(e.substr(e.length-2))?(this.quadrantCode=e.substr(e.length-2),e=e.substr(0,e.length-2)):(this.tetradLetter=e.substr(e.length-1),e=e.substr(0,e.length-1))),this.parse_gr_string_without_tetrads(e),this.length>0?this.tetradLetter||this.quadrantCode?this.tetradLetter?(this.preciseGridRef=this.hectad+this.tetradLetter,this.tetrad=this.preciseGridRef,this.length=2e3,this.gridCoords.x+=r.tetradOffsets[this.tetradLetter][0],this.gridCoords.y+=r.tetradOffsets[this.tetradLetter][1]):(this.preciseGridRef=this.hectad+this.quadrantCode,this.quadrant=this.preciseGridRef,this.length=5e3,this.gridCoords.x+=r.quadrantOffsets[this.quadrantCode][0],this.gridCoords.y+=r.quadrantOffsets[this.quadrantCode][1]):(this.preciseGridRef=e,this.length<=1e3&&this.set_tetrad()):(this.error=!0,this.errorMessage="Irish grid reference format not understood. ('"+t+"')")}},{key:"parse_gr_string_without_tetrads",value:function(t){var e,S,N,n;if(/^\d{2}\/(?:\d\d){1,5}$/.test(t)){if(e=parseInt(t.charAt(0),10),S=parseInt(t.charAt(1),10),e>3||S>4)return console.log("bad grid square, ref='"+t+"' (Ireland)"),this.length=0,!1;N=t.substr(3),n=r._IE_GRID_LETTERS.charAt(5*e+S),e*=1e5,S*=1e5}else{if(t=t.replace("/",""),!/^[ABCDFGHJLMNOQRSTVWXY](?:\d\d){1,5}$/.test(t))return this.length=0,this.gridCoords=null,!1;if(!t)return console.log("Bad (empty) Irish grid ref"),this.length=0,this.gridCoords=null,!1;n=t.charAt(0);var o=r._IE_GRID_LETTERS.indexOf(n);if(-1===o)return console.log("Bad grid ref grid-letter, ref='"+t+"' (Ireland)"),this.length=0,this.gridCoords=null,!1;e=1e5*Math.floor(o/5),S=o%5*1e5,N=t.substr(1)}switch(N.length){case 2:this.gridCoords=new Ps(e+1e4*N.charAt(0),S+1e4*N.charAt(1)),this.length=1e4,this.hectad=n+N;break;case 4:this.gridCoords=new Ps(e+1e3*Math.floor(N/100),S+N%100*1e3),this.length=1e3,this.hectad=n+N.charAt(0)+N.charAt(2);break;case 6:this.gridCoords=new Ps(e+100*Math.floor(N/1e3),S+N%1e3*100),this.length=100,this.hectad=n+N.charAt(0)+N.charAt(3);break;case 8:this.gridCoords=new Ps(e+10*Math.floor(N/1e4),S+N%1e4*10),this.length=10,this.hectad=n+N.charAt(0)+N.charAt(4);break;case 10:this.gridCoords=new Ps(e+Math.floor(N/1e5),S+N%1e5),this.length=1,this.hectad=n+N.charAt(0)+N.charAt(5);break;default:return console.log("Bad grid ref length, ref='"+t+"' (Ireland)"),this.length=0,this.gridCoords=null,!1}return!0}}]),r}();Lo(bs,"gridLetter",{A:[0,4],B:[1,4],C:[2,4],D:[3,4],F:[0,3],G:[1,3],H:[2,3],J:[3,3],L:[0,2],M:[1,2],N:[2,2],O:[3,2],Q:[0,1],R:[1,1],S:[2,1],T:[3,1],V:[0,0],W:[1,0],X:[2,0],Y:[3,0]}),Lo(bs,"_IE_GRID_LETTERS","VQLFAWRMGBXSNHCYTOJD"),Eo.from_string=function(t){var e,r=t.replace(/\s+/g,"").toUpperCase();if(!r)return!1;if(/^(?:[BCDFGHJLMNOQRSTVWXY]|[HJNOST][ABCDEFGHJKLMNOPQRSTUVWXYZ]|W[VA])\d{2}(?:[A-Z]|[NS][EW]|(?:\d{2}){0,4})?$/.test(r))return(e=/^.\d/.test(r)?new bs:"W"===r.charAt(0)?new Ns:new ys).parse_well_formed(r),!(!e.length||e.error)&&e;if((e=new ys).from_string(r),e.length&&!e.error)return e;if("W"===r.charAt(0)){if((e=new Ns).from_string(r),e.length&&!e.error)return e}else if((e=new bs).from_string(r),e.length&&!e.error)return e;return!1};var Cs=Hs,Ls=(Wa.prototype.to_os_coords=function(){var t=this.lat*_a,e=this.lng*_a,r=.9996012717,S=.0066705397616,N=6377563.396*r,n=6356256.91*r,o=Math.sin(t)*Math.sin(t),i=N/Math.sqrt(1-S*o),a=i*(1-S)/(1-S*o),s=i/a-1,u=e- -.03490658503988659,c=i*Math.cos(t),T=Math.pow(Math.cos(t),3),h=Math.tan(t)*Math.tan(t),f=i/6*T*(i/a-h),l=Math.pow(Math.cos(t),5),d=Math.pow(Math.tan(t),4),M=i/120*l*(5-18*h+d+14*s-58*h*s),p=4e5+u*c+Math.pow(u,3)*f+Math.pow(u,5)*M,g=xa._Marc(n,.0016732202503250907,.8552113334772214,t)+-1e5,O=i/2*Math.sin(t)*Math.cos(t),H=i/24*Math.sin(t)*Math.pow(Math.cos(t),3)*(5-Math.pow(Math.tan(t),2)+9*s),v=i/720*Math.sin(t)*l*(61-58*h+d),y=g+u*u*O+Math.pow(u,4)*H+Math.pow(u,6)*v;return new Cs(Math.round(p),Math.round(y))},Wa),Es=Ps,Rs=(ja.prototype.to_os_coords=function(){var t=this.lat*_a,e=this.lng*_a,r=1.000035,S=.00667054015,N=6377340.189*r,n=6356034.447*r,o=Math.sin(t)*Math.sin(t),i=N/Math.sqrt(1-S*o),a=i*(1-S)/(1-S*o),s=i/a-1,u=e- -.13962634015954636,c=i*Math.cos(t),T=Math.pow(Math.cos(t),3),h=Math.tan(t)*Math.tan(t),f=i/6*T*(i/a-h),l=Math.pow(Math.cos(t),5),d=Math.pow(Math.tan(t),4),M=i/120*l*(5-18*h+d+14*s-58*h*s),p=2e5+u*c+Math.pow(u,3)*f+Math.pow(u,5)*M,g=xa._Marc(n,.0016732203841520518,.9337511498169663,t)+25e4,O=i/2*Math.sin(t)*Math.cos(t),H=i/24*Math.sin(t)*Math.pow(Math.cos(t),3)*(5-Math.pow(Math.tan(t),2)+9*s),v=i/720*Math.sin(t)*l*(61-58*h+d),y=g+u*u*O+Math.pow(u,4)*H+Math.pow(u,6)*v;return new Es(Math.round(p),Math.round(y))},ja),Ys=ts,ws=(Ia.prototype.to_os_coords=function(){var t=this.lat*_a,e=this.lng*_a,r=.9996,S=.0067226700223333,N=6378388*r,n=6356911.946*r,o=Math.sin(t)*Math.sin(t),i=N/Math.sqrt(1-S*o),a=i*(1-S)/(1-S*o),s=i/a-1,u=e- -.0523598775598,c=i*Math.cos(t),T=Math.pow(Math.cos(t),3),h=Math.tan(t)*Math.tan(t),f=i/6*T*(i/a-h),l=Math.pow(Math.cos(t),5),d=Math.pow(Math.tan(t),4),M=i/120*l*(5-18*h+d+14*s-58*h*s),p=5e5+u*c+Math.pow(u,3)*f+Math.pow(u,5)*M,g=xa._Marc(n,.0016863406508729017,0,t)+0,O=i/2*Math.sin(t)*Math.cos(t),H=i/24*Math.sin(t)*Math.pow(Math.cos(t),3)*(5-Math.pow(Math.tan(t),2)+9*s),v=i/720*Math.sin(t)*l*(61-58*h+d),y=g+u*u*O+Math.pow(u,4)*H+Math.pow(u,6)*v;return new Ys(Math.round(p),Math.round(y))},Ia);export{Va as GridCoords,Ys as GridCoordsCI,Cs as GridCoordsGB,Es as GridCoordsIE,Eo as GridRef,Ns as GridRefCI,ys as GridRefGB,bs as GridRefIE,ws as LatLngCI,Ls as LatLngGB,Rs as LatLngIE,Za as LatLngWGS84};
//# sourceMappingURL=gridrefutils.js.map
